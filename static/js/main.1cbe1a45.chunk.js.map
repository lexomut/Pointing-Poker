{"version":3,"sources":["components/ConnectForm/ConnectForm.module.scss","components/GameInfo/GameInfo.module.scss","components/ScrumMaster/ScrumMaster.module.scss","components/GameCards/gameCard.module.scss","components/buttons/IssueButton.module.scss","components/timer/timer.module.scss","components/invitation/invitation.module.scss","components/CancelButton/CancelButton.module.scss","components/LinkToLobby/LinkToLobby.module.scss","components/NewSession/NewSession.module.scss","style.module.scss","shared/data.ts","components/footer/GithubLink.tsx","components/footer/Footer.tsx","state/InitState.ts","state/Context.ts","state/ActionTypesConstants.ts","components/buttons/IssueButton.tsx","components/CardAddForm/CardEditForm.tsx","components/GameCards/CardMenu.tsx","components/GameCards/GameCard.tsx","components/GameCards/CardBack.tsx","components/GameCards/CardsDeck.tsx","components/popups/AddUserPopup.tsx","components/statistic/makeStatistic.ts","components/statistic/Statistic.tsx","components/timer/Timer.tsx","components/UserCard/UserCard.tsx","components/UserCard/DemoUserCards.tsx","components/LetInUserToGameForm/LetInUserToGameForm.tsx","components/IssueCard/IssueCardExpandable.tsx","components/IssueCreateForm/IssueCreateForm.tsx","components/game/Game.tsx","components/Result/saveStatistic.ts","components/game/stopGame.ts","components/game/exitGame.ts","components/notFound/NotFound.tsx","assets/images/poker-planning.svg","pages/MainPage/MainPage.tsx","pages/Lobby/Lobby.tsx","components/IssueCard/IssueCard.tsx","components/Result/Result.tsx","utils/save.ts","components/invitation/Invitation.tsx","components/header/Header.tsx","components/header/assets/transparent_dark_icon.png","components/switch/Switch.tsx","components/chat/ChatText.tsx","api/url.js","components/chat/ChatMessageComponent.tsx","components/chat/input.tsx","components/chat/Chat.tsx","components/IssueField/IssueField.tsx","components/CardAddForm/CardAddForm.tsx","components/CancelButton/CancelButton.tsx","components/GameSettings/Timer.tsx","components/GameSettings/GameSettings.tsx","components/GameInfo/GameInfo.tsx","components/CardField/CardField.tsx","components/CardField/CardFieldSelectCover.tsx","components/ScrumMaster/ScrumMaster.tsx","components/LinkToLobby/LinkToLobby.tsx","components/StartButton/StartButton.tsx","components/MembersField/MembersField.tsx","api/server.ts","components/UploadButton/UploadButton.tsx","api/CreateUser.ts","components/NewSwitch/NewSwitch.tsx","components/RegistrationForm/RegistrationForm.tsx","components/ConnectForm/ConnectForm.tsx","components/NewSession/NewSession.tsx","components/VoteForm/VoteForm.tsx","api/Constants.ts","state/reducer.ts","api/WSMessageHandler.ts","api/WSProvider.ts","App.tsx","index.tsx","components/CardAddForm/CardAddForm.module.scss","pages/Lobby/Lobby.module.scss","components/RegistrationForm/RegistrationForm.module.scss","components/statistic/statistic.module.scss","components/IssueCreateForm/IssueCreateForm.module.scss","components/chat/chat.module.scss","components/footer/footer.module.scss","components/GameSettings/GameSettings.module.scss","components/LetInUserToGameForm/LetInUserToGameForm.module.scss","pages/MainPage/MainPage.module.scss","components/VoteForm/VoteForm.module.scss","components/CardField/CardField.module.scss"],"names":["module","exports","authors","id","name","link","fibonacciDeck","value","powersOfTwoDeck","cardsBackground","class","GithubLink","props","author","className","styles","github","href","target","rel","Footer","footer","footerContainer","map","rss","rssYear","initState","ws","status","provider","undefined","popup","chatOpen","temporaryDialerSettings","gameSettings","dealerIsPlaying","scoreType","shortScoreType","isTimerNeeded","changingCardInRoundEnd","cards","cartBackClass","currentUser","userID","firstName","lastName","roleInGame","jobPosition","initials","game","title","chatMessages","gameID","users","startTimer","kickedUsersID","vote","pendingUsers","statistic","dealer","issues","selectedCards","card","user","round","issueID","roundID","GlobalContext","React","createContext","globalState","dispatch","ADD_CHAT_MESSAGE","SET_SOCKET","SET_SOCKET_STATUS","ADD_WS_PROVIDER_TO_GLOBAL_STATE","SET_GAME","SET_CURRENT_USER","INIT_GAME","SET_POPUP","SHOW_CHAT","SET_GAME_TEMP_SETTINGS","IssueButton","useContext","issueBtn","color","variant","onClick","type","payLoad","endIcon","CardEditForm","useState","find","inputValue","setInputValue","handleSubmit","e","a","preventDefault","newCards","property","onSubmit","modal","registration","top","inputs","htmlFor","required","onChange","buttons","btn","CardMenu","anchorEl","setAnchorEl","open","Boolean","IconButton","event","currentTarget","menuBtn","Menu","keepMounted","onClose","PaperProps","style","maxHeight","ITEM_HEIGHT","width","MenuItem","filter","Modal","useStyles","makeStyles","theme","activeCard","backgroundColor","isActiveCard","palette","secondary","main","background","default","transform","GameCard","classes","isEditable","Paper","elevation","root","container","header","Typography","left","center","right","defaultProps","CardBack","back","current","clsx","CardsDeck","visibleCards","activeCardID","setActiveCardID","cardsDeckType","handler","sendChooseCard","demo","el","coffee","AddUserPopup","setOpen","handleClose","Dialog","DialogTitle","DialogActions","Button","autoFocus","makeStatisticCards","values","obj","reduce","previousValue","currentValue","prev","curr","Object","entries","item","key","Date","getTime","toString","Math","random","slice","voteResult","ceil","length","Statistic","Timer","seconds","start","onComplete","useTheme","isPlaying","size","strokeWidth","colors","primary","light","dark","duration","dimension","time","remainingTime","paper","height","boxShadow","marginBottom","userSelect","small","spacing","large","avatar","textShadow","fontWeight","marginLeft","fontSize","caption","button","maxWidth","minWidth","minHeight","icon","UserCard","imgSrc","clickHandler","changeValueOfGameProperty","alert","yes","no","kickID","votedUsersID","Grid","alignItems","wrap","Avatar","src","alt","xs","sm","direction","LetInUserToGameForm","getOutPendingUsers","pendingUser","some","_user","letIn","freeGameEnter","createStyles","cardContainer","position","padding","paddingLeft","lineHeight","expand","transition","transitions","create","shortest","expandOpen","wordWrap","mt","marginTop","IssueCardExpandable","priority","score","isRoundGoing","expanded","setExpanded","newScore","setNewScore","Card","CardContent","CardActions","disableSpacing","disabled","newIssues","issue","Collapse","in","timeout","unmountOnExit","Link","label","InputProps","readOnly","endAdornment","IssueCreateForm","setIssue","inputProps","maxLength","labelId","mainContainer","rightBorder","borderRight","column","flexDirection","bottomSpace","topSpace","cursor","rightContainer","minimize","Game","isDealer","isObserver","setKey","setStartTimer","roundOver","setRoundOver","setStatistic","useEffect","updateProviderState","socket","connects","history","useHistory","goToMain","push","goToResult","setTimeout","resetSelectedCards","asyncFunc","oldStatistic","currentIssue","statisticCards","index","findIndex","saveStatistic","isLastIssue","setIsLastIssue","scrumMaster","timer","runRoundHandler","overRoundHandler","handleNextIssue","currentItemFound","newNextIssueFound","prevKey","fillScore","justifyContent","md","lg","xl","callBack","gameOver","gameExit","Box","p","Alert","severity","action","display","margin","textDecoration","NotFound","to","MainPage","useParams","setIsDealer","main_page","poker_planning","pokerPlanning","content","Lobby","isPendingUser","every","lobby","top__buttons","exitField","exitBtn","members","classNames","members__cardField","issues__cardField","settings","votedUserID","IssueCard","Result","result","forEach","exportFromJSON","data","fileName","exportType","IssueIssueToCSV","Invitation","isTimeout","setIsTimeout","path","useRouteMatch","openModal","isAuthorized","exact","img","fab","header_bar","chatIcon","Header","location","useLocation","AppBar","Toolbar","Fab","pathname","Switch","toggle","FormGroup","FormControlLabel","control","checked","labelPlacement","ChatText","text","SERVER_URL","ChatMessageComponent","message","currentUserID","chat__message","ChatInput","setText","wsProvider","send","sendChatMessage","chat__input","sx","flexGrow","Input","fullWidth","multiline","onKeyPress","Chat","chatRef","useRef","scrollTop","scrollHeight","chat","ref","chat__messages_container","chatMessage","IssueField","CardAddForm","setCard","CancelButton","cancelGame","setCancelGame","cancelAlert","minutes","setTime","selectMap","useMemo","minutesMap","Array","from","keys","secondsMap","formControl","selectEmpty","GameSettings","setSettings","switchers","callback","state","textFields","settings__wrap","FormControl","GameInfo","setTitle","isInput","setIsInput","gameInfo","CardField","cards__cardField","role","plus","CardFieldSelectCover","ScrumMaster","LinkToLobby","currentURL","window","origin","linkToLobby","defaultValue","navigator","clipboard","writeText","StartButton","buttonHandler","sendGameProperty","bind","MembersField","connectGame","Error","axios","get","response","createGame","post","console","log","input","UploadButton","setImage","accept","files","imageHandler","component","createUser","formData","FormData","append","JSON","stringify","method","url","headers","NewSwitch","setObserver","RegistrationForm","setFirstName","setLastName","job","setJob","setIsObserver","setAvatar","isConnecting","setIsConnecting","trim","inputData","SwitchContainer","upload","upload__buttons","URL","createObjectURL","CircularProgress","ConnectForm","setUrl","urlError","setUrlError","gameId","substring","lastIndexOf","connect","useCallback","handleConnect","highlight","connect__control","error","helperText","NewSession","startGame","new_session","VoteForm","sendVote","USER_CONNECTION","CHAT_MESSAGE","SET_GAME_STATE","reducer","socketStatus","newUser","WSMessageHandler","gameProperty","WSProvider","globalDispatch","this","split","WebSocket","onopen","connectionMessage","onclose","onmessage","parse","messObj","date","includes","createTheme","App","useReducer","Provider","ReactDOM","render","document","getElementById"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,6BAA6B,iBAAmB,sCAAsC,UAAY,+BAA+B,IAAM,2B,oBCAnKD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,KAAO,yB,oBCA/DD,EAAOC,QAAU,CAAC,YAAc,mC,mBCAhCD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,UAAY,4BAA4B,OAAS,yBAAyB,QAAU,0BAA0B,MAAQ,wBAAwB,OAAS,yBAAyB,YAAc,8BAA8B,OAAS,yBAAyB,OAAS,yBAAyB,QAAU,0BAA0B,OAAS,yBAAyB,KAAO,uBAAuB,QAAU,4B,oBCA9bD,EAAOC,QAAU,CAAC,SAAW,gC,oBCA7BD,EAAOC,QAAU,CAAC,KAAO,sB,oBCAzBD,EAAOC,QAAU,CAAC,MAAQ,0BAA0B,QAAU,4BAA4B,IAAM,wBAAwB,aAAe,iCAAiC,OAAS,2BAA2B,IAAM,wBAAwB,OAAS,2BAA2B,gBAAkB,oCAAoC,gBAAkB,sC,oBCAtVD,EAAOC,QAAU,CAAC,YAAc,oC,oBCAhCD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,sBAAwB,2CAA2C,2BAA6B,kD,oBCAjKD,EAAOC,QAAU,CAAC,YAAc,kC,oBCAhCD,EAAOC,QAAU,CAAC,QAAU,yB,8JCGfC,EAAoB,CAC7B,CACIC,GAAI,IACJC,KAAM,qBACNC,KAAM,8BAEV,CACIF,GAAI,IACJC,KAAM,UACNC,KAAM,8BAEV,CACIF,GAAI,IACJC,KAAM,aACNC,KAAM,8BAmBDC,EAAwB,CACjC,CACIH,GAAI,IACJI,MAAO,KAEX,CACIJ,GAAI,IACJI,MAAO,KAEX,CACIJ,GAAI,IACJI,MAAO,KAEX,CACIJ,GAAI,IACJI,MAAO,KAEX,CACIJ,GAAI,IACJI,MAAO,KAEX,CACIJ,GAAI,IACJI,MAAO,MAEX,CACIJ,GAAI,IACJI,MAAO,MAEX,CACIJ,GAAI,IACJI,MAAO,MAEX,CACIJ,GAAI,IACJI,MAAO,MAEX,CACIJ,GAAI,KACJI,MAAO,OAIFC,EAA0B,CACnC,CACIL,GAAI,IACJI,MAAO,KAEX,CACIJ,GAAI,IACJI,MAAO,KAEX,CACIJ,GAAI,IACJI,MAAO,KAEX,CACIJ,GAAI,IACJI,MAAO,MAEX,CACIJ,GAAI,IACJI,MAAO,MAEX,CACIJ,GAAI,IACJI,MAAO,MAEX,CACIJ,GAAI,IACJI,MAAO,OAEX,CACIJ,GAAI,IACJI,MAAO,QAgBFE,EAAkB,CAC3B,CACIN,GAAI,IACJO,MAAO,eAEX,CACIP,GAAI,IACJO,MAAO,UAEX,CACIP,GAAI,IACJO,MAAO,WAEX,CACIP,GAAI,IACJO,MAAO,W,yBCzIR,SAASC,EAAWC,GACvB,MAEIA,EADAC,OAAUT,EADd,EACcA,KAAMC,EADpB,EACoBA,KAEpB,OACI,oBAAGS,UAAWC,IAAOC,OAAQC,KAAMZ,EAAMa,OAAO,SAASC,IAAI,aAA7D,UACI,cAAC,IAAD,IACA,+BAAOf,OCPZ,IAAMgB,EAAmB,WAC5B,OACI,wBAAQN,UAAWC,IAAOM,OAA1B,SACI,sBAAKP,UAAWC,IAAOO,gBAAvB,UACKpB,EAAQqB,KAAI,SAACV,GACV,OAAO,cAACF,EAAD,CAAYE,OAAQA,GAAaA,EAAOV,OAEnD,mBACIW,UAAWC,IAAOS,IAClBP,KAAK,2BACLC,OAAO,SACPC,IAAI,aAJR,SAMI,sBAAML,UAAWC,IAAOU,QAAxB,yB,qLCdPC,EAAyB,CAClCC,GAAI,CAAEC,QAAQ,EAAOC,cAAUC,GAC/BC,MAAO,GACPC,UAAU,EACVC,wBAAyB,CACrBC,aAAc,CACVC,iBAAiB,EACjBC,UAAW,GACXC,eAAgB,GAChBC,eAAe,EACfC,wBAAwB,GAE5BC,MAAO,GACPC,cAAe,eAGnBC,YAAa,CACTC,OAAQ,GACRC,UAAW,OACXC,SAAU,cACVC,WAAY,SACZC,YAAa,SACbC,SAAU,MAEdC,KAAM,CACFC,MAAO,GACPC,aAAc,GACdC,YAAQtB,EACRuB,MAAO,GACPzB,OAAQ,MACR0B,gBAAYxB,EACZW,cAAe,cACfc,cAAe,GACfC,UAAM1B,EACN2B,aAAc,GACdC,UAAW,GACXC,OAAQ,CACJhB,OAAQ,GACRC,UAAW,GACXC,SAAU,GACVC,WAAY,SACZC,YAAa,GACbC,SAAU,IAEdY,OAAQ,GACRpB,MAAO,GACPqB,cAAe,CACX,CACIC,KAAM,CACF3D,GAAI,MACJI,MAAO,KAEXwD,KAAM,CACFpB,OAAQ,OACRC,UAAW,OACXC,SAAU,cACVC,WAAY,SACZC,YAAa,SACbC,SAAU,QAItBd,aAAc,CACVC,iBAAiB,EACjBC,UAAW,GACXC,eAAgB,GAChBC,eAAe,EACfC,wBAAwB,GAE5ByB,MAAO,CACHC,QAAS,GACTC,QAAS,GACTtC,OAAQ,aCxEPuC,EAAgBC,IAAMC,cAGhC,CACCC,YAAa5C,EACb6C,SAAU,eCTDC,EAAmB,iBACnBC,EAAa,YACbC,EAAoB,kBACpBC,EAAkC,6BAClCC,EAAW,UACXC,EAAmB,iBACnBC,EAAY,WACZC,EAAY,WAEZC,GAAY,WACZC,GAAyB,2B,qBCFzBC,GAAwB,WACjC,IAAQX,EAA6CY,qBAAWhB,GAAxDI,SAIR,OACI,cAAC,IAAD,CACIzD,UAAWC,KAAOqE,SAClBC,MAAM,YACNC,QAAQ,YACRC,QARa,WACjBhB,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,iBAQjCC,QAAS,cAAC,IAAD,IALb,+B,6ICJKC,GAAyC,SAAC,GAAY,IAAVxF,EAAS,EAATA,GACrD,EACIgF,qBAAWhB,GADPG,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAErB,EAAoCqB,oBAC/BtB,EAAYrC,wBAAwBO,MAAMqD,MAAK,SAAC/B,GAAD,OAAUA,EAAK3D,KAAOA,MAAO,CAAEI,MAAO,KACjFA,OAFT,mBAAOuF,EAAP,KAAmBC,EAAnB,KAKMC,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sDACjBD,EAAEE,iBACIC,EAAW9B,EAAYrC,wBAAwBO,MAAMjB,KAAI,SAACuC,GAC5D,OAAIA,EAAK3D,KAAOA,EAAW,2BAAK2D,GAAZ,IAAkBvD,MAAOuF,IACtChC,KAGXS,EAAS,CACLiB,KAAMP,GACNQ,QAAS,CACLY,SAAU,QACV9F,MAAO6F,KAGf7B,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,KAdpB,2CAAH,sDAiBlB,OACI,uBAAMa,SAAUN,EAAclF,UAAWC,KAAOwF,MAAhD,UACI,sBAAKzF,UAAWC,KAAOyF,aAAvB,UACI,qBAAK1F,UAAWC,KAAO0F,IAAvB,SACI,6CAEJ,qBAAK3F,UAAWC,KAAO2F,OAAvB,SACI,eAAC,KAAD,CAAYC,QAAQ,QAApB,mBAEI,cAAC,KAAD,CACIC,UAAQ,EACRrG,MAAOuF,EACPe,SAAU,SAACZ,GAAD,OAAOF,EAAcE,EAAE/E,OAAOX,QACxCJ,GAAG,2BACHqF,KAAK,OACLpF,KAAK,QACLkF,QAAQ,qBAKxB,sBAAKxE,UAAWC,KAAO+F,QAAvB,UACI,cAAC,KAAD,CAAQzB,MAAM,UAAUvE,UAAWC,KAAOgG,IAAKvB,KAAK,SAASF,QAAQ,YAArE,qBAGA,cAAC,KAAD,CACID,MAAM,UACNvE,UAAWC,KAAOgG,IAClBzB,QAAQ,WACRC,QAAS,kBAAMhB,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,MAJxD,2BC3CHuB,GAA4B,SAACpG,GACtC,MACIuE,qBAAWhB,GADPG,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAEbpE,EAAOS,EAAPT,GACR,EAAgCiE,IAAMwB,SAA6B,MAAnE,mBAAOqB,EAAP,KAAiBC,EAAjB,KACMC,EAAOC,QAAQH,GAwBrB,OACI,qCACI,cAACI,EAAA,EAAD,CACI,aAAW,OACX,gBAAc,YACd,gBAAc,OACd9B,QAdQ,SAAC+B,GACjBJ,EAAYI,EAAMC,gBAcVzG,UAAWC,KAAOyG,QALtB,SAOI,cAAC,KAAD,MAEJ,eAACC,GAAA,EAAD,CACItH,GAAG,YACH8G,SAAUA,EACVS,aAAW,EACXP,KAAMA,EACNQ,QApBQ,WAChBT,EAAY,OAoBJU,WAAY,CACRC,MAAO,CACHC,UAAWC,IACXC,MAAO,SATnB,UAaI,cAACC,GAAA,EAAD,CAAU1C,QA/CH,WACfhB,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,aACrCyB,EAAY,OA6CJ,kBACA,cAACe,GAAA,EAAD,CAAU1C,QA5CD,WACjB,IAAMa,EAAW9B,EAAYrC,wBAAwBO,MAAM0F,QAAO,SAACpE,GAAD,OAAUA,EAAK3D,KAAOA,KACxFoE,EAAS,CACLiB,KAAMP,GACNQ,QAAS,CACLY,SAAU,QACV9F,MAAO6F,MAsCP,uBAEJ,cAAC+B,EAAA,EAAD,CACIhB,KAA4B,aAAtB7C,EAAYvC,MAClB,kBAAgB,qBAChB,mBAAiB,2BAHrB,SAKI,cAAC,GAAD,CAAc5B,GAAIA,UC/D5BiI,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,WAAY,SAAC3H,GAAD,MAAmB,CAC3B4H,gBAAiB5H,EAAM6H,aACjBH,EAAMI,QAAQC,UAAUC,KACxBN,EAAMI,QAAQG,WAAWC,QAC/BC,UAAWnI,EAAM6H,aAAe,aAAe,iBAI1CO,GAA4B,SAACpI,GACtC,IAAQ6H,EAAiB7H,EAAjB6H,aACFQ,EAAUb,GAAUxH,GAClBL,EAA8CK,EAA9CL,MAAO6B,EAAuCxB,EAAvCwB,UAAW8G,EAA4BtI,EAA5BsI,WAAY3D,EAAgB3E,EAAhB2E,QAASpF,EAAOS,EAAPT,GAC/C,OACI,cAACgJ,EAAA,EAAD,CACIC,UAAWX,EAAe,EAAI,EAC9B3H,UAAWC,KAAO+C,KAClBmF,QAAS,CAAEI,KAAMJ,EAAQV,YACzBhD,QAAS,kBAAMA,GAAWA,KAJ9B,SAMI,sBAAKzE,UAAWC,KAAOuI,UAAvB,UACI,sBAAKxI,UAAWC,KAAOwI,OAAvB,UACI,cAACC,EAAA,EAAD,CAAY1I,UAAWC,KAAO0I,KAAMnE,QAAQ,YAA5C,SACKlD,IAEJ8G,GAAc,cAAC,GAAD,CAAU/I,GAAIA,OAEjC,cAACqJ,EAAA,EAAD,CAAY1I,UAAWC,KAAO2I,OAAQpE,QAAQ,KAA9C,SACK/E,IAEL,cAACiJ,EAAA,EAAD,CAAY1I,UAAWC,KAAO4I,MAAOrE,QAAQ,YAA7C,SACKlD,UAOrB4G,GAASY,aAAe,CACpBrE,QAAS,cC3CN,IAAMsE,GAAW,SAACjJ,GACrB,MACIuE,qBAAWhB,GADPG,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAGbuF,EAASlJ,EAATkJ,KAUR,OACI,qBACIhJ,UACIwD,EAAYrC,wBAAwBQ,gBAAkBqH,EAAO/I,KAAOgJ,QAAU,GAFtF,SAKI,cAACZ,EAAA,EAAD,CACI5D,QAAS,WAfjBhB,EAAS,CACLiB,KAAMP,GACNQ,QAAS,CACLY,SAAU,gBACV9F,MAAOuJ,MAYPV,UAAW,EACXtI,UAAWkJ,kBAAKjJ,KAAO+C,KAAM/C,KAAO+I,S,oBCtB9C1B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,WAAY,SAAC3H,GAAD,MAAuC,CAC/C4H,gBAAiB5H,EAAM6H,aACjBH,EAAMI,QAAQC,UAAUC,KACxBN,EAAMI,QAAQG,WAAWC,QAC/BC,UAAWnI,EAAM6H,aAAe,aAAe,iBAI1CwB,GAAsB,WAC/B,IAKIC,EALI5F,EAA8Ca,qBAAWhB,GAAzDG,YACR,EAAwCsB,mBAAiB,IAAzD,mBAAOuE,EAAP,KAAqBC,EAArB,KACMnB,EAAUb,GAAU,CAAEK,aAA+B,KAAjB0B,IAClC3H,EAAU8B,EAAYrB,KAAtBT,MACR,EAA0C8B,EAAYrB,KAAKf,aAAnDG,EAAR,EAAQA,eAER,OAFA,EAAwBgI,eAYpB,QACIH,EAAe5J,QAPnB,IAAK,cACD4J,EAAe1J,EACf,MACJ,IAAK,SACD0J,EAAe1H,EAKvB,IAAM8H,EAAO,uCAAG,WAAOxG,GAAP,eAAAoC,EAAA,yDACZkE,EAAgBtG,EAAK3D,IACW,UAA5BmE,EAAYrB,KAAKrB,OAFT,0CAGF0C,EAAY3C,GAAGE,gBAHb,aAGF,EAAyB0I,eAAezG,GAHtC,OAIZsG,EAAgBtG,EAAK3D,IAJT,2CAAH,sDAOb,OACI,sBAAKW,UAAWC,KAAOyJ,KAAvB,UACKN,EAAa3I,KAAI,SAACkJ,GACf,OACI,cAAC,GAAD,CACIhC,aAAcgC,EAAGtK,KAAOgK,EAExB5J,MAAOkK,EAAGlK,MACV2I,YAAY,EACZ9G,UAAWC,EACXkD,QAAS,WACL+E,EAAQG,IAEZtK,GAAIsK,EAAGtK,IAPFsK,EAAGtK,OAWpB,cAACgJ,EAAA,EAAD,CACIC,UAAYe,EAAmB,EAAJ,EAC3BrJ,UAAWC,KAAO+C,KAClBmF,QAAS,CAAEI,KAAMJ,EAAQV,YACzBhD,QAAS,WACL6E,EAAgB,IAChBE,EAAQ,CAAEnK,GAAI,GAAII,MAAO,SANjC,SASI,cAAC,KAAD,CAA2BO,UAAWC,KAAO2J,e,8BChEhDC,GAAgC,SAAC/J,GAC1C,IAAQR,EAASQ,EAATR,KACR,EAAwBgE,IAAMwB,UAAS,GAAvC,mBAAOuB,EAAP,KAAayD,EAAb,KAIMC,EAAc,WAChBD,GAAQ,IAGZ,OACI,8BACI,eAACE,GAAA,EAAD,CACI3D,KAAMA,EACNQ,QAASkD,EACT,kBAAgB,qBAChB,mBAAiB,2BAJrB,UAMI,cAACE,GAAA,EAAD,CAAa5K,GAAG,qBAAhB,mBACQC,EADR,oCAGA,eAAC4K,GAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAQ1F,QAASsF,EAAaxF,MAAM,UAApC,sBAGA,cAAC4F,EAAA,EAAD,CAAQ1F,QAASsF,EAAaxF,MAAM,UAAU6F,WAAS,EAAvD,4B,oBChCb,SAASC,GACZtH,GAEA,IAAMuH,EAASvH,EAActC,KAAI,SAAC8J,GAAD,OAAWA,EAAIvH,KAAsBuH,EAAIvH,KAAKvD,MAAvB,OAClD8K,EAAMD,EAAOE,QAAO,SAACC,EAAeC,GACtC,IAAMC,EAAOF,EACPG,EAAOF,EAEb,OADcC,EAAKC,GAAQD,EAAKC,GAAQ,GAAK,EAAID,IAElD,IACH,OAAOE,OAAOC,QAAQP,GAAK9J,KAAI,SAACsK,GAC5B,IAAMC,EAAcD,EAAK,GACnBtL,EAAgBsL,EAAK,GAC3B,MAAO,CACH1L,GACY,QAAR2L,EACM,IACA,IAAIC,MAAOC,UAAUC,SAAS,IAAMC,KAAKC,SAASF,SAAS,IAAIG,MAAM,GAC/E7L,MAAOuL,EACPO,WAAW,GAAD,OAAKH,KAAKI,KAAM/L,EAAQ6K,EAAOmB,OAAU,KAAzC,SCXf,IAAMC,GAAsB,WAC/B,IAAQlI,EAA8Ca,qBAAWhB,GAAzDG,YACAT,EACJS,EAAYrB,KADRY,cAGR,OACI,qBAAK/C,UAAWC,KAAOyJ,KAAvB,SACKW,GAAmBtH,GAAetC,KAAI,SAACkJ,GACpC,OACI,qBAAK3J,UAAWC,KAAOuI,UAAvB,SACKmB,EAAGtK,GACA,qCACK,IACD,cAAC,GAAD,CACIsI,cAAc,EACdlI,MAAOkK,EAAGlK,MACV2I,YAAY,EACZ9G,UAAWkC,EAAYrB,KAAKf,aAAaG,eACzClC,GAAIsK,EAAGtK,KAEX,cAACqJ,EAAA,EAAD,CAAYlE,QAAQ,YAApB,SAAiCmF,EAAG4B,gBAGxC,qCACI,cAAClD,EAAA,EAAD,CAAOC,UAAW,EAAGtI,UAAWC,KAAO+C,KAAvC,SACI,cAAC,KAAD,CAA2BhD,UAAWC,KAAO2J,WAEjD,cAAClB,EAAA,EAAD,CAAYlE,QAAQ,YAApB,SAAiCmF,EAAG4B,iBAlBT5B,EAAGtK,U,wCCVjDsM,GAAyB,SAAC7L,GACnC,IAAQ8L,EAA+B9L,EAA/B8L,QAASC,EAAsB/L,EAAtB+L,MAAOC,EAAehM,EAAfgM,WAClBtE,EAAQuE,eASd,OACI,cAAC,wBAAD,CACIC,UAAWH,EACXI,KAAM,IACNC,YAAa,GACbC,OAAQ,CACJ,CAAC3E,EAAMI,QAAQwE,QAAQtE,KAAM,KAC7B,CAACN,EAAMI,QAAQwE,QAAQC,MAAO,KAC9B,CAAC7E,EAAMI,QAAQC,UAAUC,KAAM,KAC/B,CAACN,EAAMI,QAAQwE,QAAQE,KAAM,MAEjCC,SAAUX,EACVE,WAAY,WAER,OADAA,IACO,EAAC,EAAO,IAbvB,SAgBK,gBAzBWU,EAAmBC,EAyB3BC,EAAH,EAAGA,cAAH,OAzBWF,EAyBuB,UAzBJC,EAyBG,OAAYC,QAAZ,IAAYA,IAAiBd,EAvB/D,gCACI,qBAAK5L,UAAWC,KAAOwM,KAAvB,SAA8BA,IAC9B,8BAAMD,W,iDCLhBlF,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCmF,MAAO,SAAC7M,GACJ,MAAmB,UAAfA,EAAMmM,KACC,CACH/E,MAAO,IACP0F,OAAQ,GACRC,UAAW,kCACXC,aAAc,GACdC,WAAY,QAGb,CACH7F,MAAO,IACP0F,OAAQ,GACRC,UAAW,kCACXC,aAAc,GACdC,WAAY,SAGpBC,MAAO,CACH9F,MAAOM,EAAMyF,QAAQ,GACrBL,OAAQpF,EAAMyF,QAAQ,IAE1BC,MAAO,CACHhG,MAAOM,EAAMyF,QAAQ,GACrBL,OAAQpF,EAAMyF,QAAQ,IAE1BE,OAAQ,CACJpF,WAAY,UACZ8E,UAAW,wCACXO,WAAY,kCACZC,WAAY,OACZC,WAAY9F,EAAMyF,QAAQ,IAE9B7K,MAAO,SAACtC,GACJ,MAAmB,UAAfA,EAAMmM,KACC,CACHsB,SAAU,QAGX,CACHA,SAAU,WAGlBC,QAAS,SAAC1N,GACN,MAAmB,UAAfA,EAAMmM,KACC,CACHsB,SAAU,UAGX,CACHA,SAAU,WAGlBE,OAAQ,SAAC3N,GACL,MAAmB,UAAfA,EAAMmM,KACC,CACHyB,SAAUlG,EAAMyF,QAAQ,GACxBU,SAAUnG,EAAMyF,QAAQ,GACxBjG,UAAWQ,EAAMyF,QAAQ,GACzBW,UAAWpG,EAAMyF,QAAQ,GACzBM,SAAU,UAGX,CACHG,SAAUlG,EAAMyF,QAAQ,GACxBU,SAAUnG,EAAMyF,QAAQ,GACxBjG,UAAWQ,EAAMyF,QAAQ,GACzBW,UAAWpG,EAAMyF,QAAQ,GACzBM,SAAU,SAGlBM,KAAM,kBAAsB,CACxBN,SAAmB,UADjB,EAAGtB,KACwB,SAAW,SAE5ChD,QAAS,CACLvB,gBAAiBF,EAAMI,QAAQC,UAAUC,UAe1C,SAASgG,GAAShO,GAA4B,IAAD,IAC1CqI,EAAUb,GAAUxH,GAClBR,EAA+EQ,EAA/ER,KAAM2C,EAAyEnC,EAAzEmC,YAAagK,EAA4DnM,EAA5DmM,KAAM8B,EAAsDjO,EAAtDiO,OAAQ7L,EAA8CpC,EAA9CoC,SAAUN,EAAoC9B,EAApC8B,YAAaC,EAAuB/B,EAAvB+B,OAAQG,EAAelC,EAAfkC,WAChEwB,EAA8Ca,qBAAWhB,GAAzDG,YACA3C,EAAa2C,EAAb3C,GAAIsB,EAASqB,EAATrB,KAEN6L,EAAY,uCAAG,kCAAA5I,EAAA,yDAC0B,WAAvC5B,EAAY5B,YAAYI,WADX,0CAEPnB,EAAGE,gBAFI,aAEP,EAAakN,0BAA0B,gBAAvC,uBACC9L,EAAKM,eADN,CAEFZ,KAJS,cAMPU,EAAQJ,EAAKI,MAAM6E,QAAO,SAACnE,GAAD,OAAUA,EAAKpB,SAAWA,KAN7C,mBAOPhB,EAAGE,gBAPI,aAOP,EAAakN,0BAA0B,QAAS1L,GAPzC,kCASTJ,EAAKO,KATI,wDAUTP,EAAKI,MAAMkJ,OAAS,GAVX,wBAWTyC,MAAM,sBAXG,2BAcb,UAAArN,EAAGE,gBAAH,SAAakN,0BAA0B,OAAQ,CAC3ClO,OAAQyD,EAAY5B,YACpBuM,IAAK,EACLC,GAAI,EACJC,OAAQxM,EACRyM,aAAc,CAAC9K,EAAY5B,YAAYC,UAnB9B,4CAAH,qDAwBlB,OACI,cAACwG,EAAA,EAAD,CAAOrI,UAAWkJ,kBAAKf,EAAQwE,MAAT,gBAAmBxE,EAAQc,QAAUrH,IAA3D,SACI,eAAC2M,EAAA,EAAD,CAAM/F,WAAS,EAACyE,QAAS,EAAGuB,WAAW,SAASC,KAAK,SAArD,UACI,cAACF,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACKgD,EACG,cAACW,GAAA,EAAD,CACI1O,UAAWkJ,kBAAKf,EAAQgF,QAAT,oBACVhF,EAAQ+E,MAAiB,UAATjB,GADN,eAEV9D,EAAQ6E,MAAiB,UAATf,GAFN,IAIf0C,IAAKZ,EACLa,IAAKtP,EANT,SAQK4C,IAGL,cAACwM,GAAA,EAAD,CACI1O,UAAWkJ,kBAAKf,EAAQgF,QAAT,oBACVhF,EAAQ+E,MAAiB,UAATjB,GADN,eAEV9D,EAAQ6E,MAAiB,UAATf,GAFN,IADnB,SAMK/J,MAIb,eAACqM,EAAA,EAAD,CAAMxD,MAAI,EAAC8D,GAAI,GAAIC,IAAE,EAACtG,WAAS,EAACgG,WAAW,SAA3C,UACI,cAACD,EAAA,EAAD,CAAMxD,MAAI,EAAC8D,IAAE,EAACrG,WAAS,EAACuG,UAAU,SAAS9B,QAAS,EAApD,SACI,eAACsB,EAAA,EAAD,CAAMxD,MAAI,EAAC8D,IAAE,EAAb,UACI,cAACnG,EAAA,EAAD,CAAYlE,QAAQ,KAAKxE,UAAWmI,EAAQ/F,MAA5C,SACK9C,IAEL,cAACoJ,EAAA,EAAD,CACIlE,QAAQ,UACRD,MAAM,gBACNvE,UAAWmI,EAAQqF,QAHvB,SAKKvL,SAIb,cAACsM,EAAA,EAAD,CAAMxD,MAAI,EAAV,YACQnJ,GAAe4B,EAAYrB,KAAKO,MAAuB,WAAfV,IACA,WAAvCwB,EAAY5B,YAAYI,YACN,WAAfA,IACJ,cAACmI,EAAA,EAAD,CACInK,UAAWmI,EAAQsF,OACnB,aAAW,OACXhJ,QAAS,kBAAMuJ,KAHnB,SAKI,cAAC,KAAD,CAAWhO,UAAWmI,EAAQ0F,mBAU9DC,GAAShF,aAAe,CACpBiF,YAAQ/M,EACRY,aAAa,GChMV,I,oBCQMoN,GAAsB,SAAClP,GAChC,IAAQ0D,EACJa,qBAAWhB,GADPG,YAEAP,EAASnD,EAATmD,KAEFgM,EAAkB,uCAAG,4BAAA7J,EAAA,gFACjB5B,EAAY3C,GAAGE,gBADE,aACjB,EAAyBkN,0BAA0B,eAAnD,aACCzK,EAAYrB,KAAKQ,aAAayE,QAC7B,SAAC8H,GAAD,OAAiBA,EAAYrN,SAAWoB,EAAKpB,YAH9B,2CAAH,qDAOpB2B,EAAYrB,KAAKI,MAAM4M,MAAK,SAACC,GAAD,OAAWA,EAAMvN,SAAWoB,EAAKpB,WAASoN,IAE1E,IAAMI,EAAK,uCAAG,8BAAAjK,EAAA,gFACJ5B,EAAY3C,GAAGE,gBADX,aACJ,EAAyBkN,0BAA0B,QAAnD,uBACCzK,EAAYrB,KAAKI,OADlB,CAEFU,KAHM,uBAKJgM,IALI,iCAMJzL,EAAY3C,GAAGE,gBANX,aAMJ,EAAyBkN,0BAA0B,gBAAnD,uBACCzK,EAAYrB,KAAKY,eADlB,CAEF,CAAEC,UAAMhC,EAAWiC,WARb,2CAAH,qDAWLiC,EAAY,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DACjBD,EAAEE,iBADe,SAEXgK,IAFW,2CAAH,sDAalB,OADI7L,EAAYrB,KAAKf,aAAakO,eAAeD,IAE7C,uBAAM7J,SAAUN,EAAclF,UAAWC,KAAOwF,MAAhD,UACI,qBAAKzF,UAAWC,KAAOyF,aAAvB,SACI,qBAAK1F,UAAWC,KAAO0F,IAAvB,SACI,iDAGR,oDAAqB1C,EAAKnB,UAA1B,oBACA,sBAAK9B,UAAWC,KAAO+F,QAAvB,UACI,cAAC,KAAD,CAAQzB,MAAM,UAAUvE,UAAWC,KAAOgG,IAAKvB,KAAK,SAASF,QAAQ,YAArE,yBAGA,cAAC,KAAD,CACID,MAAM,UACNvE,UAAWC,KAAOgG,IAClBzB,QAAQ,WACRC,QAzBM,WAAO,IAAD,EACxB,UAAAjB,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,gBAAnD,uBACOzK,EAAYrB,KAAKM,eADxB,CAEIQ,EAAKpB,UAEToN,KAgBQ,iC,uGC3CV3H,GAAYC,aAAW,SAACC,GAAD,OACzB+H,YAAa,CACThH,KAAM,CACFoF,SAAU,IACVzG,MAAO,IACP2F,UAAW,kCACXC,aAAc,IAElB0C,cAAe,CACXC,SAAU,WACVC,QAAS,EACTC,YAAa,GAEjBlC,OAAQ,CACJgC,SAAU,WACV9J,IAAK,EACLkD,MAAO,GAEXzG,MAAO,CACHwN,WAAY,GAEhBpC,QAAS,CACLD,SAAU,UAEdtE,QAAS,CACLlB,WAAYP,EAAMI,QAAQC,UAAUC,MAExC+H,OAAQ,CACJ5H,UAAW,eACXqF,WAAY,OACZwC,WAAYtI,EAAMuI,YAAYC,OAAO,YAAa,CAC9CzD,SAAU/E,EAAMuI,YAAYxD,SAAS0D,YAG7CC,WAAY,CACRjI,UAAW,kBAEf1I,KAAM,CACF4Q,SAAU,cAEdC,GAAI,CACAC,UAAW,SAgBVC,GAAuC,SAACxQ,GACjD,IAAQR,EAAmEQ,EAAnER,KAAM2J,EAA6DnJ,EAA7DmJ,QAASsH,EAAoDzQ,EAApDyQ,SAAU1N,EAA0C/C,EAA1C+C,OAAQxD,EAAkCS,EAAlCT,GAAIE,EAA8BO,EAA9BP,KAAMiR,EAAwB1Q,EAAxB0Q,MAAOC,EAAiB3Q,EAAjB2Q,aACpDtI,EAAUb,KAEhB,EAAgCxC,oBAAS,GAAzC,mBAAO4L,EAAP,KAAiBC,EAAjB,KACA,EAAgC7L,mBAAS0L,GAAzC,mBAAOI,EAAP,KAAiBC,EAAjB,KACQrN,EAA8Ca,qBAAWhB,GAAzDG,YAwBR,OACI,eAACsN,EAAA,EAAD,CAAM9Q,UAAWkJ,kBAAKf,EAAQI,KAAT,gBAAkBJ,EAAQc,QAAUA,IAAYzE,QAAQ,WAA7E,UACI,eAACuM,GAAA,EAAD,CAAa/Q,UAAWmI,EAAQqH,cAAhC,UACI,cAAC9G,EAAA,EAAD,CAAY1I,UAAWmI,EAAQqF,QAAShJ,QAAQ,UAAUD,MAAM,gBAAhE,SACK0E,EAAU,UAAY,WAE3B,cAACP,EAAA,EAAD,CAAYlE,QAAQ,KAAKxE,UAAWmI,EAAQ/F,MAA5C,SACK9C,IAEL,eAACoJ,EAAA,EAAD,CAAYnE,MAAM,gBAAgBC,QAAQ,UAAUxE,UAAWmI,EAAQqF,QAAvE,UACK+C,EADL,eAGA,eAACS,GAAA,EAAD,CAAahR,UAAWmI,EAAQsF,OAAQwD,gBAAc,EAAtD,UACKpO,IAAWoG,GACR,cAACkB,EAAA,EAAD,CAAQ+G,UAAW1N,EAAY3C,GAAGC,OAAQ2D,QAjCpC,WAAO,IAAD,EACtB0M,EAAY3N,EAAYrB,KAAKW,OAAOsE,QAAO,SAACgK,GAAD,OAAkB/R,IAAO+R,EAAM/R,MAChF,UAAAmE,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,SAAUkD,IA+B7C,SACI,cAAC,IAAD,MAGR,cAAC5K,EAAA,EAAD,CACIvG,UAAWkJ,kBAAKf,EAAQ0H,OAAT,gBACV1H,EAAQ+H,WAAaQ,IAE1BjM,QA7CM,WACtBkM,GAAaD,IA6CG,gBAAeA,EACf,aAAW,YANf,SAQI,cAAC,KAAD,YAIZ,cAACW,EAAA,EAAD,CAAUC,GAAIZ,EAAUa,QAAQ,OAAOC,eAAa,EAApD,SACI,eAACT,GAAA,EAAD,WACI,cAACrI,EAAA,EAAD,CAAYlE,QAAQ,YAApB,mBACA,cAACiN,GAAA,EAAD,CAAMtR,KAAMZ,EAAMa,OAAO,SAASJ,UAAWmI,EAAQ5I,KAArD,SACKA,IAEL,cAAC,KAAD,CACIS,UAAWmI,EAAQiI,GACnB/Q,GAAG,2BACHqS,MAAM,SACNjS,MAAOmR,EACP7K,SAAU,SAACS,GACP,OAAOqK,EAAYrK,EAAMpG,OAAOX,OAAS,KAE7CkS,WAAY,CACRC,UAAW/O,EACXgP,aACI,cAAC1H,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,WACRC,QAhER,WAAO,IAAD,EACpB3B,EAASU,EAAYrB,KAAKW,OAAOrC,KAAI,SAACsK,GACxC,OAAOA,EAAK1L,KAAOA,EAAZ,2BAAsB0L,GAAtB,IAA4ByF,MAAOI,IAAa7F,KAEvDlI,IAAQ,UAAAW,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,SAAUnL,KA6D7C8B,QAAS,cAAC,KAAD,IAJb,qBAWZ,cAACuF,EAAA,EAAD,CACInK,UAAWmI,EAAQiI,GACnB7L,MAAM,UACNC,QAAQ,WACRC,QArEO,WAAO,IAAD,EACvB3B,EAASU,EAAYrB,KAAKW,OAAOrC,KAAI,SAACsK,GACxC,OAAO,2BAAKA,GAAZ,IAAkB9B,QAAS8B,EAAK1L,KAAOA,OAEvCwD,IAAQ,UAAAW,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,SAAUnL,KAkEzD8B,QAAS,cAAC,KAAD,IACTsM,SAAUT,EANd,2CAgBpBH,GAAoBxH,aAAe,CAC/BG,SAAS,EACTpG,QAAQ,G,gECzKCiP,GAA4B,WACrC,MACIzN,qBAAWhB,GADPG,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAErB,EAA0BqB,mBAAgB,CACtCxF,KAAM,GACNC,KAAM,GACNgR,SAAU,SACVlR,IAAI,IAAI4L,MAAOC,UAAUC,SAAS,IAAMC,KAAKC,SAASF,SAAS,IAAIG,MAAM,GACzEzI,QAAQ,EACR2N,MAAO,IACPvH,QAA4C,IAAnCzF,EAAYrB,KAAKW,OAAO2I,SAPrC,mBAAO2F,EAAP,KAAcW,EAAd,KAUM7M,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACjBD,EAAEE,iBADe,mBAEX7B,EAAY3C,GAAGE,gBAFJ,aAEX,EAAyBkN,0BAA0B,SAAnD,uBACCzK,EAAYrB,KAAKW,QADlB,CAEFsO,KAJa,OAMjB3N,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,KANpB,2CAAH,sDASlB,OACI,uBAAMa,SAAUN,EAAclF,UAAWC,KAAOwF,MAAhD,UACI,sBAAKzF,UAAWC,KAAOyF,aAAvB,UACI,qBAAK1F,UAAWC,KAAO0F,IAAvB,SACI,gDAEJ,sBAAK3F,UAAWC,KAAO2F,OAAvB,UACI,eAAC,KAAD,CAAYC,QAAQ,OAApB,mBAEI,cAAC,KAAD,CACIC,UAAQ,EACRrG,MAAO2R,EAAM9R,KACbyG,SAAU,SAACZ,GAAD,OAAO4M,EAAS,2BAAKX,GAAN,IAAa9R,KAAM6F,EAAE/E,OAAOX,UACrDJ,GAAG,2BACHqF,KAAK,OACLpF,KAAK,OACLkF,QAAQ,WACRwN,WAAY,CACRC,UAAW,SAIvB,eAAC,KAAD,CAAYpM,QAAQ,OAApB,kBAEI,cAAC,KAAD,CACIC,UAAQ,EACRrG,MAAO2R,EAAM7R,KACbwG,SAAU,SAACZ,GAAD,OAAO4M,EAAS,2BAAKX,GAAN,IAAa7R,KAAM4F,EAAE/E,OAAOX,UACrDJ,GAAG,2BACHqF,KAAK,OACLpF,KAAK,OACLkF,QAAQ,gBAIhB,eAAC,KAAD,CAAYnF,GAAG,WAAf,qBAEI,cAAC,KAAD,CACI6S,QAAQ,WACR7S,GAAG,2BACHI,MAAO2R,EAAMb,SACbxK,SAAU,SAACZ,GACP4M,EAAS,2BAAKX,GAAN,IAAab,SAAUpL,EAAE/E,OAAOX,UAE5C+E,QAAQ,WAPZ,SASK,CAAC,WAAY,OAAQ,SAAU,OAAO/D,KAAI,SAACsK,GAAD,OACvC,cAAC,KAAD,CAAqBtL,MAAOsL,EAA5B,SACKA,GADUA,iBAQnC,sBAAK/K,UAAWC,KAAO+F,QAAvB,UACI,cAAC,KAAD,CACIkL,UAAW1N,EAAY3C,GAAGC,OAC1ByD,MAAM,UACNvE,UAAWC,KAAOgG,IAClBvB,KAAK,SACLF,QAAQ,YALZ,qBASA,cAAC,KAAD,CACID,MAAM,UACNvE,UAAWC,KAAOgG,IAClBzB,QAAQ,WACRC,QAAS,kBAAMhB,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,MAJxD,2BChEhB,IAAM2C,GAAYC,aAAW,SAACC,GAAD,OACzB+H,YAAa,CACT4C,cAAe,CACX5N,MAAOiD,EAAMI,QAAQwE,QAAQE,MAEjC8F,YAAa,CACTC,YAAY,aAAD,OAAe7K,EAAMI,QAAQwE,QAAQE,OAEpDgG,OAAQ,CACJC,cAAe,UAEnBC,YAAa,CACT1F,aAAc,IAElB2F,SAAU,CACNpC,UAAW,IAEf1C,SAAU,CACNA,SAAU,IACV+E,OAAQ,WAEZC,eAAgB,CACZ/F,OAAQ,OAEZgG,SAAU,CACN3K,UAAW,mBAKV4K,GAAiB,WAC1B,IAAQrP,EACJa,qBAAWhB,GADPG,YAEArB,EAASqB,EAATrB,KACF2Q,EAAkD,WAAvCtP,EAAY5B,YAAYI,WACnC+Q,EAAoD,aAAvCvP,EAAY5B,YAAYI,WACrCmG,EAAUb,KAChB,EAAsBxC,mBAAS,GAA/B,mBAAOkG,EAAP,KAAYgI,EAAZ,KACA,EAAoClO,oBAAS,GAA7C,mBAAOtC,EAAP,KAAmByQ,EAAnB,KACA,EAAkCnO,oBAAS,GAA3C,mBAAOoO,EAAP,KAAkBC,EAAlB,KACA,EAAkCrO,mBAC9B,IADJ,mBAAOlC,EAAP,KAAkBwQ,EAAlB,KAGAC,qBAAU,WACN,IAAQtS,EAAayC,EAAY3C,GAAzBE,SACA,OAARA,QAAQ,IAARA,KAAUuS,oBAAoB9P,GACzBA,EAAY3C,GAAG0S,QAAgB,OAARxS,QAAQ,IAARA,KAAUyS,aACvC,CAAChQ,IACJ,IAAMiQ,EAAUC,cACVC,EAAW,WACbF,EAAQG,KAAR,MAEEC,EAAU,uCAAG,4BAAAzO,EAAA,gFACT5B,EAAY3C,GAAGE,gBADN,aACT,EAAyBkN,0BAA0B,YAAarL,GADvD,OAEfkR,YAAW,kBAAML,EAAQG,KAAR,WAAiBpQ,EAAYrB,KAAKG,OAAlC,cAAoD,KAFtD,2CAAH,qDAIRY,EAAUf,EAAVe,MACF6Q,EAAkB,uCAAG,4BAAA3O,EAAA,yDAClB0N,EADkB,2EAEjBtP,EAAY3C,GAAGE,gBAFE,aAEjB,EAAyBkN,0BAC3B,gBACA9L,EAAKI,MAAM9B,KAAI,SAACwC,GACZ,MAAO,CAAED,UAAMhC,EAAWiC,YALX,2CAAH,qDAUxBoQ,qBAAU,WACN,IAAMW,EAAS,uCAAG,sBAAA5O,EAAA,yDACY,UAAtBjD,EAAKe,MAAMpC,OADD,uBAEVmS,GAAc,GACdE,GAAa,GAHH,6BAMY,SAAtBhR,EAAKe,MAAMpC,QAAsBoS,EANvB,uBAOVC,GAAa,GACbF,GAAc,GARJ,0BAWY,YAAtB9Q,EAAKe,MAAMpC,SACXqS,GAAa,GACbF,GAAc,IAbJ,2CAAH,qDAgBfe,MACD,CAACxQ,EAAarB,EAAM8Q,EAAezQ,EAAY0Q,EAAWC,IAE7DE,qBAAU,WACND,ECvHD,SACHtQ,EACAmR,EACAlR,GAEA,IAAMmR,EAAepR,EAAOiC,MAAK,SAACqM,GAAD,OAAWA,EAAMnI,WAClD,GAAIiL,EAAc,CACd,IAAMtR,EAAS,aAAOqR,GAChBE,EAAiB9J,GAAmBtH,GACpCqR,EAAQxR,EAAUyR,WAAU,SAACtJ,GAAD,OAAUA,EAAKqG,MAAM/R,KAAO6U,EAAa7U,MAM3E,OALI+U,GAAS,EACTxR,EAAUwR,GAAS,CAAEhD,MAAO8C,EAAcC,kBAE1CF,EAAaL,KAAK,CAAExC,MAAO8C,EAAcC,mBAEtCvR,EAEX,MAAO,GDsGU0R,CAAcnS,EAAKW,OAAQX,EAAKS,UAAWT,EAAKY,kBAC9D,CAACZ,EAAKW,OAAQX,EAAKS,UAAWT,EAAKY,cAAeqQ,IAErD,MAAsCtO,oBAAS,GAA/C,mBAAOyP,EAAP,KAAoBC,EAApB,KACMC,EAActS,EAAKI,MAAMwC,MAAK,SAAC9B,GAAD,MAAoC,WAApBA,EAAKjB,cACjDc,EAAWX,EAAXW,OACAzB,EAAoBmC,EAAYrB,KAAKf,aAArCC,gBACR,EAAiCc,EAAKf,aAA9BI,EAAR,EAAQA,cAAekT,GAAvB,EAAuBA,MACjBC,GAAe,uCAAG,8BAAAvP,EAAA,gFACd5B,EAAY3C,GAAGE,gBADD,aACd,EAAyBkN,0BAA0B,QAAnD,2BACC/K,GADD,IAEFpC,OAAQ,WAHQ,iCAKd0C,EAAY3C,GAAGE,gBALD,aAKd,EAAyBkN,0BAA0B,SAAU,SAL/C,2CAAH,qDAOf2G,GAAgB,uCAAG,4BAAAxP,EAAA,yDAChB0N,EADgB,2EAEftP,EAAY3C,GAAGE,gBAFA,aAEf,EAAyBkN,0BAA0B,QAAnD,2BACC/K,GADD,IAEFpC,OAAQ,UAJS,2CAAH,qDAQhB+T,GAAe,uCAAG,oCAAAzP,EAAA,yDAChB0P,GAAmB,EACnBC,GAAoB,EACpB5D,EAAYrO,EAAOrC,KAAI,SAACsK,GACxB,OAAIA,EAAK9B,SACL6L,GAAmB,EACZ,2BAAK/J,GAAZ,IAAkB9B,SAAS,KAE3B6L,GACmB,MAAf/J,EAAKyF,QAAkBuE,GACvBA,GAAoB,EACb,2BAAKhK,GAAZ,IAAkB9B,SAAS,KAG5B8B,KAENgK,IACD5D,EAAYA,EAAU1Q,KAAI,SAACsK,GACvB,MAAmB,MAAfA,EAAKyF,OAAkBuE,EAKpBhK,GAJHgK,GAAoB,EACb,2BAAKhK,GAAZ,IAAkB9B,SAAS,UAMnC8L,EA1BgB,qBA2BZjC,EA3BY,2CA4BNtP,EAAY3C,GAAGE,gBA5BT,aA4BN,EAAyBkN,0BAA0B,SAAUkD,GA5BvD,kCA6BN3N,EAAY3C,GAAGE,gBA7BT,aA6BN,EAAyBkN,0BAA0B,QAAnD,2BACC/K,GADD,IAEFpC,OAAQ,aA/BA,QAmChBiT,IAEAS,GAAe,GACfrB,GAAa,GACbH,GAAO,SAACgC,GAAD,OAAaA,EAAU,KAC9B/B,GAAc,GAxCE,wBA0ChBuB,GAAe,GA1CC,4CAAH,qDA8CfS,GAAY,SAAClK,GACf,OAAI+H,GAKA/H,EAAK9H,KAAKpB,SAAW2B,EAAY5B,YAAYC,QAK5CqR,EATMnI,EAAK/H,KAAL,UACE+H,EAAK/H,KAAKvD,MADZ,YACqB0C,EAAKf,aAAaG,gBACxC,YAOa,cAG3B,OACI,qCACI,eAACgN,EAAA,EAAD,CAAM/F,WAAS,EAACxI,UAAWmI,EAAQgK,cAAnC,UACI,eAAC5D,EAAA,EAAD,CACIxD,MAAI,EACJvC,WAAS,EACTgG,WAAW,SACX0G,eAAe,gBACfrG,GAAI,GACJC,GAAI,EACJqG,GAAI,EACJC,GAAI,EACJC,GAAI,GACJrV,UAAWkJ,kBAAKf,EAAQiK,YAAajK,EAAQmK,QAVjD,UAYI,cAAC/D,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACrC,EAAA,EAAD,CAAYlE,QAAQ,KAApB,SAA0BrC,EAAKC,UAEnC,eAACmM,EAAA,EAAD,CAAMxD,MAAI,EAACvC,WAAS,EAACgG,WAAW,SAASvB,QAAS,GAAIiI,eAAe,SAArE,UACI,eAAC3G,EAAA,EAAD,CAAMxD,MAAI,EAAV,UACI,cAACrC,EAAA,EAAD,CAAYlE,QAAQ,UAApB,2BACCiQ,EACG,cAAC3G,GAAD,CACI7B,KAAK,QACL/J,SAAUuS,EAAYvS,SACtBL,OAAQ4S,EAAY5S,OACpBvC,KAAI,UAAKmV,EAAY3S,UAAjB,YAA8B2S,EAAY1S,UAC9CE,YAAawS,EAAYxS,aAAe,GACxCL,YACI4B,EAAY5B,YAAYC,SAAW4S,EAAY5S,OAEnDG,WAAW,WAGf,cAAC0G,EAAA,EAAD,CAAYlE,QAAQ,KAApB,2BAGR,cAAC+J,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACZ,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,WACRC,QAAS,kBACLqO,EEtP7B,SAAkBtP,EAA0B8R,GAA6B,IAAD,EAC3E,UAAA9R,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,SAAU,QAE7DqH,IFoPsCC,CAAS/R,EAAaqQ,GGvPzD,SAAkBrQ,EAA0B8R,GAA6B,IAAD,EAC3E,UAAA9R,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,QAAnD,aACOzK,EAAYrB,KAAKI,MAAM6E,QAAO,SAACnE,GAAD,OAAUA,EAAKpB,SAAW2B,EAAY5B,YAAYC,YAEvFyT,IHoPsCE,CAAShS,EAAamQ,IANpC,SASKb,EAAW,YAAc,mBAItC,eAACvE,EAAA,EAAD,CAAM/F,WAAS,EAACxI,UAAWmI,EAAQqK,YAAnC,UACI,eAACjE,EAAA,EAAD,CACI/F,WAAS,EACTuC,MAAI,EACJ/K,UAAWmI,EAAQmK,OACnB9D,WAAW,SACXvB,QAAS,EACT4B,GAAI,EANR,UAQI,cAACN,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACrC,EAAA,EAAD,CAAYlE,QAAQ,KAApB,uBAEH1B,EAAOrC,KAAI,SAACsK,GAAD,OACR,cAACwD,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAAC,GAAD,CACI1L,GAAI0L,EAAK1L,GACTC,KAAMyL,EAAKzL,KACXiR,SAAUxF,EAAKwF,SACftH,QAAS8B,EAAK9B,QACdpG,OAAQiQ,EACRtC,MAAOzF,EAAKyF,MACZjR,KAAMwL,EAAKxL,KACXkR,aAAoC,UAAtBtO,EAAKe,MAAMpC,UATjBiK,EAAK1L,OAaxByT,GACG,cAACvE,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAAC,GAAD,MAGe,SAAtB5I,EAAKe,MAAMpC,QAAqBgS,GAC7B,qCACI,cAACvE,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACrC,EAAA,EAAD,CAAYlE,QAAQ,KAApB,2BAEJ,cAAC+J,EAAA,EAAD,CAAMxD,MAAI,EAACvC,WAAS,EAAC0M,eAAe,SAApC,SACI,cAAC,GAAD,aAKd1T,GAAiBsR,IACf,cAACvE,EAAA,EAAD,CAAMxD,MAAI,EAAC/K,UAAWmI,EAAQsK,SAAU5D,GAAI,GAAIC,GAAI,GAAIqG,GAAI,EAA5D,SACI,cAAC9M,EAAA,EAAD,CAAOC,UAAW,EAAlB,SACI,cAACmN,EAAA,EAAD,CAAKC,EAAG,EAAR,SACI,eAACnH,EAAA,EAAD,CACI/F,WAAS,EACTyE,QAAS,EACTuB,WAAW,SACXxO,UAAWmI,EAAQmK,OAJvB,UAMI,cAACjB,EAAA,EAAD,CAAUC,GAAI9O,IAAe0Q,EAA7B,SACI,cAACyC,EAAA,EAAD,CAAOC,SAAS,UAAhB,8DAIJ,cAACvE,EAAA,EAAD,CAAUC,GAAIiD,EAAd,SACI,cAACoB,EAAA,EAAD,CACIC,SAAS,UACTC,OACI,cAACtP,EAAA,EAAD,CACI,aAAW,QACXhC,MAAM,UACN0H,KAAK,QACLxH,QAAS,WACL+P,GAAe,IALvB,SAQI,cAAC,IAAD,CAAWjH,SAAS,cAXhC,kEAmBH/L,GACG,cAAC+M,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAAC,GAAD,CAEIa,QAAS8I,GACT7I,MAAOrJ,EACPsJ,WAAY8I,IAHP5J,MAOfxI,IAAe0Q,GAAaJ,GAC1B,cAACvE,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACZ,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,YACRC,QAASkQ,GACTzD,SAA4B,IAAlBpO,EAAO2I,OAJrB,yBAUPyH,GAAaJ,GACV,cAACvE,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACZ,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,YACRC,QAAS,WACL0O,GAAa,GACbH,GAAO,SAACgC,GAAD,OAAaA,EAAU,KAC9BjB,IACAY,MAPR,6BAcPzB,GAAaJ,GACV,cAACvE,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACZ,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,YACRC,QAASoQ,GAHb,oCAe1B/B,GAAkC,SAAtB3Q,EAAKe,MAAMpC,QACrB,eAACyN,EAAA,EAAD,CAAMxD,MAAI,EAACvC,WAAS,EAAC0M,eAAe,SAApC,UACI,cAAC3G,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACrC,EAAA,EAAD,CAAYlE,QAAQ,KAApB,2BAEJ,cAAC+J,EAAA,EAAD,CACIxD,MAAI,EACJvC,WAAS,EACT0M,eAAe,SACflV,UAAWmI,EAAQyK,SAJvB,SAMI,cAAC,GAAD,WAITE,GAAYzR,KAAqB0R,GAChC,cAACxE,EAAA,EAAD,CAAMxD,MAAI,EAACvC,WAAS,EAAC0M,eAAe,SAApC,SACI,cAAC,GAAD,YAKhB,eAAC3G,EAAA,EAAD,CACIxD,MAAI,EACJvC,WAAS,EACTqG,GAAI,GACJC,GAAI,EACJqG,GAAI,EACJC,GAAI,EACJC,GAAI,EACJrV,UAAWmI,EAAQwK,eARvB,UAUI,eAACpE,EAAA,EAAD,CAAMxD,MAAI,EAACvC,WAAS,EAAC0M,eAAe,eAApC,UACI,cAAC3G,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACrC,EAAA,EAAD,CAAYlE,QAAQ,YAApB,sBAEJ,cAAC+J,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACrC,EAAA,EAAD,CAAYlE,QAAQ,YAApB,gCAGPnD,GACG,cAACkN,EAAA,EAAD,CAAMxD,MAAI,EAACvC,WAAS,EAAC0M,eAAe,SAApC,SACI,cAACxM,EAAA,EAAD,CAAYlE,QAAQ,YAApB,sBAGPnD,GACGc,EAAKY,cACAqE,QAAO,SAAC2D,GAAD,MAAmC,WAAzBA,EAAK9H,KAAKjB,cAC3BvB,KAAI,SAACsK,GACF,OACI,eAACwD,EAAA,EAAD,CAEIxD,MAAI,EACJvC,WAAS,EACT0M,eAAe,eAJnB,UAMI,cAAC3G,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACZ,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,WACRxE,UAAWmI,EAAQwF,SAHvB,SAKKsH,GAAUlK,OAGnB,cAACwD,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAAC+C,GAAD,CACI7B,KAAK,QACL/J,SAAU6I,EAAK9H,KAAKf,SACpBL,OAAQkJ,EAAK9H,KAAKpB,OAClBvC,KAAI,UAAKyL,EAAK9H,KAAKnB,UAAf,YACAiJ,EAAK9H,KAAKlB,UAAY,IAE1BE,YAAa8I,EAAK9H,KAAKhB,aAAe,GACtCD,WAAY+I,EAAK9H,KAAKjB,iBAvBzB+I,EAAK9H,KAAKpB,WA6BnC,cAAC0M,EAAA,EAAD,CAAMxD,MAAI,EAACvC,WAAS,EAAC0M,eAAe,SAApC,SACI,cAACxM,EAAA,EAAD,CAAYlE,QAAQ,YAApB,uBAEHrC,EAAKY,cACDqE,QAAO,SAAC2D,GAAD,MAAmC,WAAzBA,EAAK9H,KAAKjB,cAC3BvB,KAAI,SAACsK,GACF,OACI,eAACwD,EAAA,EAAD,CAEIxD,MAAI,EACJvC,WAAS,EACT0M,eAAe,eAJnB,UAMI,cAAC3G,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACZ,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,WACRxE,UAAWmI,EAAQwF,SAHvB,SAKKsH,GAAUlK,OAGnB,cAACwD,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAAC+C,GAAD,CACI7B,KAAK,QACL/J,SAAU6I,EAAK9H,KAAKf,SACpBL,OAAQkJ,EAAK9H,KAAKpB,OAClBvC,KAAI,UAAKyL,EAAK9H,KAAKnB,UAAf,YACAiJ,EAAK9H,KAAKlB,UAAY,IAE1BE,YAAa8I,EAAK9H,KAAKhB,aAAe,GACtCD,WAAY+I,EAAK9H,KAAKjB,iBAvBzB+I,EAAK9H,KAAKpB,WA6B9BM,EAAKI,MAAMwC,MAAK,SAACgG,GAAD,MAA8B,aAApBA,EAAK/I,eAC5B,cAACuM,EAAA,EAAD,CAAMxD,MAAI,EAACvC,WAAS,EAAC0M,eAAe,SAApC,SACI,cAACxM,EAAA,EAAD,CAAYlE,QAAQ,YAApB,yBAGPrC,EAAKI,MAAM4M,MAAK,SAACpE,GAAD,MAA8B,aAApBA,EAAK/I,eAC5BG,EAAKY,cACAqE,QAAO,SAAC2D,GAAD,MAAmC,aAAzBA,EAAK9H,KAAKjB,cAC3BvB,KAAI,SAACsK,GACF,OACI,eAACwD,EAAA,EAAD,CAEIxD,MAAI,EACJvC,WAAS,EACT0M,eAAe,eAJnB,UAMI,cAAC3G,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAACZ,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,WACRxE,UAAWmI,EAAQwF,SAHvB,SAKKsH,GAAUlK,OAGnB,cAACwD,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,cAAC+C,GAAD,CACI7B,KAAK,QACL/J,SAAU6I,EAAK9H,KAAKf,SACpBL,OAAQkJ,EAAK9H,KAAKpB,OAClBvC,KAAI,UAAKyL,EAAK9H,KAAKnB,UAAf,YACAiJ,EAAK9H,KAAKlB,UAAY,IAE1BE,YAAa8I,EAAK9H,KAAKhB,aAAe,GACtCD,WAAY+I,EAAK9H,KAAKjB,iBAvBzB+I,EAAK9H,KAAKpB,iBAgC1CiR,GAAY,cAAC,GAAD,CAAcxT,KAAK,SAChC,cAAC+H,EAAA,EAAD,CACIhB,KAAMlE,EAAKQ,aAAa8I,OAAS,GAAKqH,EACtC,kBAAgB,qBAChB,mBAAiB,2BAHrB,SAKI,8BACK3Q,EAAKQ,aAAalC,KAAI,SAACwC,GACpB,OAAO,cAAC,GAAD,CAAuCA,KAAMA,GAAnBA,EAAKpB,eAIlD,cAACwF,EAAA,EAAD,CACIhB,KAA4B,gBAAtB7C,EAAYvC,MAClB,kBAAgB,qBAChB,mBAAiB,2BAHrB,SAKI,8BACI,cAAC,GAAD,Y,qBIljBdqG,GAAYC,YAAW,CACzBiB,UAAW,CACPsN,QAAS,OACTZ,eAAgB,SAChB1G,WAAY,SACZ+D,cAAe,SACfwD,OAAQ,IAEZxW,KAAM,CACFyW,eAAgB,UAIXC,GAAqB,WAC9B,IAAM9N,EAAUb,KAChB,OACI,sBAAKtH,UAAWmI,EAAQK,UAAxB,UACI,mCACK,cAAC,KAAD,IADL,OAGA,gDACA,cAAC,IAAD,CAAMxI,UAAWmI,EAAQ5I,KAAM2W,GAAG,IAAlC,2BC1BG,OAA0B,2C,oBCMlC,SAASC,KACZ,IAAQ9W,EAAmC+W,cAAnC/W,GACR,EAAwByF,oBAAS,GAAjC,mBAAOuB,EAAP,KAAayD,EAAb,KACA,EAAgChF,oBAAS,GAAzC,mBAAOgO,EAAP,KAAiBuD,EAAjB,KAEA,OACI,qBAAKrW,UAAWC,KAAOqW,UAAvB,SACI,sBAAKtW,UAAWC,KAAOuI,UAAvB,UACI,qBAAKxI,UAAWC,KAAOsW,eAAgB5H,IAAK6H,GAAe5H,IAAI,mBAC/D,0BAAS5O,UAAWC,KAAOwW,QAA3B,UACI,oBAAIzW,UAAWC,KAAO4L,MAAtB,kCACA,cAAC,GAAD,CAAYwK,YAAaA,EAAavM,QAASA,IAC/C,oBAAI9J,UAAWC,KAAO2I,OAAtB,iBACA,cAAC,GAAD,CACIvJ,GAAIA,EACJgH,KAAMA,EACNyM,SAAUA,EACVuD,YAAaA,EACbvM,QAASA,Y,6CCEpB4M,GAA2B,WACpC,IAAQlT,EAA8Ca,qBAAWhB,GAAzDG,YACFiQ,EAAUC,cACViD,EAAgBnT,EAAYrB,KAAKQ,aAAawM,MAChD,SAAClM,GAAD,OAAgBO,EAAY5B,YAAYC,SAAWoB,EAAKpB,UAE5DwR,qBAAU,WACN,IAAQtS,EAAayC,EAAY3C,GAAzBE,SACA,OAARA,QAAQ,IAARA,KAAUuS,oBAAoB9P,GACzBA,EAAY3C,GAAG0S,QAAgB,OAARxS,QAAQ,IAARA,KAAUyS,aACvC,CAAChQ,IAEJ6P,qBAAU,WACN,IACI7P,EAAYrB,KAAKM,cAAc0M,MAC3B,SAACpE,GAAD,OAAkBA,IAASvH,EAAY5B,YAAYC,YAEvD2B,EAAYrB,KAAKQ,aAAawM,MAC1B,SAAClM,GAAD,OAAgBO,EAAY5B,YAAYC,SAAWoB,EAAKpB,WAIhC,QAA5B2B,EAAYrB,KAAKrB,OAAkB,CAQhC,IAAD,EAPF,GACI0C,EAAYrB,KAAKI,MAAMqU,OACnB,SAAC3T,GAAD,OAAgBO,EAAY5B,YAAYC,SAAWoB,EAAKpB,YAE3D2B,EAAYrB,KAAKI,MAAM4M,MACpB,SAAClM,GAAD,OAAgBO,EAAY5B,YAAYC,SAAWoB,EAAKpB,UAO5D,YAJA,UAAA2B,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,eAAnD,uBACOzK,EAAYrB,KAAKQ,cADxB,CAEIa,EAAY5B,gBAIY,aAA5B4B,EAAYrB,KAAKrB,QACjB2S,EAAQG,KAAR,WAAiBpQ,EAAYrB,KAAKG,OAAlC,aAGT,CACCkB,EAAYrB,KAAKI,MACjBiB,EAAY5B,YACZ4B,EAAYrB,KAAKG,OACjBkB,EAAYrB,KAAKM,cACjBe,EAAYrB,KAAKQ,aACjBa,EAAYrB,KAAKrB,OACjB0C,EAAY3C,GAAGE,SACf0S,IAeJ,MAAwB3O,oBAAS,GAAjC,mBAAOuB,EAAP,KAAayD,EAAb,KACA,OACI,sBAAK9J,UAAWC,KAAO4W,MAAvB,UACI,sBAAK7W,UAAWC,KAAOuI,UAAvB,UAC4C,WAAvChF,EAAY5B,YAAYI,YACrB,cAACqP,EAAA,EAAD,CAAUC,GAAIjL,EAAd,SACI,cAACsP,EAAA,EAAD,CACIE,OACI,cAACtP,EAAA,EAAD,CACI,aAAW,QACXhC,MAAM,UACN0H,KAAK,QACLxH,QAAS,WACLqF,GAAQ,IALhB,SAQI,cAAC,IAAD,CAAWyD,SAAS,cAG5BM,KAAM,cAAC,KAAD,CAAWN,SAAS,YAC1BqI,SAAS,UAdb,mFAoBR,0BAAS5V,UAAWC,KAAO0F,IAA3B,UACI,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACwC,WAAvCnC,EAAY5B,YAAYI,YACrB,sBAAKhC,UAAWC,KAAO6W,aAAvB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,OAGgC,WAAvCtT,EAAY5B,YAAYI,YACrB,qBAAKhC,UAAWC,KAAO8W,UAAvB,SACI,cAAC5M,EAAA,EAAD,CACI3F,QAAQ,WACRD,MAAM,UACNE,QAAO,sBAAE,4BAAAW,EAAA,6DACLqO,EAAQG,KAAK,KADR,mBAECpQ,EAAY3C,GAAGE,gBAFhB,aAEC,EAAyBkN,0BAC3B,QADE,aAGKzK,EAAYrB,KAAKI,MAAM6E,QACtB,SAACnE,GAAD,OACIA,EAAKpB,SAAW2B,EAAY5B,YAAYC,YAPnD,2CAYT7B,UAAWC,KAAO+W,QAftB,uBAsBZ,0BAAShX,UAAWC,KAAOgX,QAA3B,UACI,yCACA,cAAC,GAAD,CAAcC,WAAYjX,KAAOkX,wBAErC,0BAASnX,UAAWC,KAAO6C,OAA3B,UACI,yCACA,cAAC,GAAD,CAAYoU,WAAYjX,KAAOmX,uBAEK,WAAvC5T,EAAY5B,YAAYI,YACrB,qCACI,0BAAShC,UAAWC,KAAOoX,SAA3B,UACI,gDACA,cAAC,GAAD,OAEJ,0BAASrX,UAAWC,KAAOyB,MAA3B,UACI,+CACA,cAAC,GAAD,OAEJ,0BAAS1B,UAAWC,KAAOyB,MAA3B,UACI,+CACA,cAAC,GAAD,aAMhB,cAAC2F,EAAA,EAAD,CACIhB,KAA4B,gBAAtB7C,EAAYvC,MAClB,kBAAgB,qBAChB,mBAAiB,2BAHrB,SAKI,8BACI,cAAC,GAAD,QAGR,cAACoG,EAAA,EAAD,CACIhB,KAA4B,eAAtB7C,EAAYvC,MAClB,kBAAgB,qBAChB,mBAAiB,2BAHrB,SAKI,8BACI,cAAC,GAAD,QAIR,cAACoG,EAAA,EAAD,CACIhB,QApHH7C,EAAYrB,KAAKO,MAClBc,EAAYrB,KAAKO,KAAK2L,SAAW7K,EAAY5B,YAAYC,SACxD2B,EAAYrB,KAAKM,cAAcmU,OAAM,SAACvX,GAAD,OAAQA,IAAOmE,EAAY5B,YAAYC,YAG1E2B,EAAYrB,KAAKO,KAAK4L,aAAasI,OACtC,SAACU,GAAD,OAAyBA,IAAgB9T,EAAY5B,YAAYC,UA+G7D,kBAAgB,qBAChB,mBAAiB,2BAHrB,SAKI,8BACI,cAAC,GAAD,QAGR,cAACwF,EAAA,EAAD,CACIhB,KAAMsQ,EACN,kBAAgB,qBAChB,mBAAiB,2BAHrB,SAKI,8BACI,cAAC7F,EAAA,EAAD,CAAM9Q,UAAWC,KAAOwF,MAAxB,SACI,6E,qBCrMlB6B,GAAYC,aAAW,SAACC,GAAD,OACzB+H,YAAa,CACThH,KAAM,CACFoF,SAAU,IACVzG,MAAO,IACP0F,OAAQ,GACRC,UAAW,kCACXC,aAAc,IAElB0C,cAAe,CACXC,SAAU,WACVC,QAAS,EACTC,YAAa,GAEjBlC,OAAQ,CACJgC,SAAU,WACV9J,IAAK,EACLkD,MAAO,GAEXzG,MAAO,CACHwN,WAAY,GAEhBpC,QAAS,CACLD,SAAU,UAEdtE,QAAS,CACLlB,WAAYP,EAAMI,QAAQC,UAAUC,WAanCyP,GAA6B,SAACzX,GACvC,IAAQ0D,EAA8Ca,qBAAWhB,GAAzDG,YACAlE,EAAwCQ,EAAxCR,KAAM2J,EAAkCnJ,EAAlCmJ,QAASsH,EAAyBzQ,EAAzByQ,SAAU1N,EAAe/C,EAAf+C,OAAQxD,EAAOS,EAAPT,GACnC8I,EAAUb,KAMhB,OACI,cAACwJ,EAAA,EAAD,CAAM9Q,UAAWkJ,kBAAKf,EAAQI,KAAT,gBAAkBJ,EAAQc,QAAUA,IAAYzE,QAAQ,WAA7E,SACI,eAACuM,GAAA,EAAD,CAAa/Q,UAAWmI,EAAQqH,cAAhC,UACI,cAAC9G,EAAA,EAAD,CAAY1I,UAAWmI,EAAQqF,QAAShJ,QAAQ,UAAUD,MAAM,gBAAhE,SACK0E,EAAU,UAAY,WAG3B,cAACP,EAAA,EAAD,CAAYlE,QAAQ,KAAKxE,UAAWmI,EAAQ/F,MAA5C,SACK9C,IAEL,eAACoJ,EAAA,EAAD,CAAYnE,MAAM,gBAAgBC,QAAQ,UAAUxE,UAAWmI,EAAQqF,QAAvE,UACK+C,EADL,eAGC1N,IAAWoG,GACR,cAAC+H,GAAA,EAAD,CAAahR,UAAWmI,EAAQsF,OAAhC,SACI,cAACtD,EAAA,EAAD,CAAQ+G,UAAW1N,EAAY3C,GAAGC,OAAQ2D,QApBzC,WAAO,IAAD,EACjB0M,EAAY3N,EAAYrB,KAAKW,OAAOsE,QAAO,SAACgK,GAAD,OAAkB/R,IAAO+R,EAAM/R,MAChF,UAAAmE,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,SAAUkD,IAkB7C,SACI,cAAC,IAAD,cAS5BoG,GAAUzO,aAAe,CACrBG,SAAS,EACTpG,QAAQ,G,cC7EL,IAAM2U,GAAmB,WAC5B,IAAQhU,EACJa,qBAAWhB,GADPG,YAEFiQ,EAAUC,cAEhB,OACI,qCACI,cAACvJ,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,WACRC,QAAS,kBCnBlB,SAAyB3B,GAC5B,IAAM2U,EAA0B,GAChC3U,EAAO4U,SAAQ,SAACtG,GACZqG,EAAO7D,KAAK,CAACxC,EAAM9R,KAAM8R,EAAMb,SAAUa,EAAM7R,MAAQ,GAAI6R,EAAMZ,WAKrEmH,aAAe,CAAEC,KAAMH,EAAQI,SAHd,WAGwBC,WAFtB,QDaQC,CAAgBvU,EAAYrB,KAAKW,SAHpD,kBAOA,cAACqH,EAAA,EAAD,CAAQ5F,MAAM,UAAUC,QAAQ,WAAWC,QAAS,kBAAMgP,EAAQG,KAAR,MAA1D,wBAGCpQ,EAAYrB,KAAKS,UAAUnC,KAAI,YAAgC,IAA7B2Q,EAA4B,EAA5BA,MAAO+C,EAAqB,EAArBA,eAC9B7U,EAAwC8R,EAAxC9R,KAAMiR,EAAkCa,EAAlCb,SAAUtH,EAAwBmI,EAAxBnI,QAASpG,EAAeuO,EAAfvO,OAAQxD,EAAO+R,EAAP/R,GACzC,OACI,gCACI,cAAC,GAAD,CAEIC,KAAMA,EACNiR,SAAUA,EACVtH,QAASA,EACTpG,OAAQA,EACRxD,GAAIA,GALCA,GAOT,qBAAKW,UAAWC,KAAOyJ,KAAvB,SACKyK,GACGA,EAAe1T,KAAI,SAACkJ,GAChB,OACI,qBAAK3J,UAAWC,KAAOuI,UAAvB,SACKmB,EAAGtK,GACA,qCACK,IACD,cAAC,GAAD,CACIsI,cAAc,EACdlI,MAAOkK,EAAGlK,MACV2I,YAAY,EACZ9G,UACIkC,EAAYrB,KAAKf,aACZG,eAETlC,GAAIsK,EAAGtK,KAEX,cAACqJ,EAAA,EAAD,CAAYlE,QAAQ,YAApB,SACKmF,EAAG4B,gBAIZ,qCACI,cAAClD,EAAA,EAAD,CAAOC,UAAW,EAAGtI,UAAWC,KAAO+C,KAAvC,SACI,cAAC,KAAD,CACIhD,UAAWC,KAAO2J,WAG1B,cAAClB,EAAA,EAAD,CAAYlE,QAAQ,YAApB,SACKmF,EAAG4B,iBA1BmB5B,EAAGtK,SAb9D,MAAUA,UElBjB2Y,GAAuB,WAChC,IAAQxU,EACJa,qBAAWhB,GADPG,YAEFiQ,EAAUC,cAChB,EAAkC5O,oBAAS,GAA3C,mBAAOmT,EAAP,KAAkBC,EAAlB,KACQC,EAASC,cAATD,KAEFE,EAAY7U,EAAYrB,KAAKM,cAAc0M,MAC7C,SAACpE,GAAD,OAAkBA,IAASvH,EAAY5B,YAAYC,UAEjDyW,GAAgBD,EAUtB,OATIA,IAAcJ,IACdC,GAAa,GACbpE,YAAW,kBAAML,EAAQG,KAAR,OAAmB,MAExCP,qBAAU,WAE0B,aAA5B7P,EAAYrB,KAAKrB,QAAuB2S,EAAQG,KAAR,QAI5C,qCACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAO2E,OAAK,EAACJ,KAAMA,EAAnB,SACI,cAAChC,GAAD,MAEJ,cAAC,IAAD,CAAOoC,OAAK,EAACJ,KAAI,UAAKA,EAAL,UAAjB,SACKG,EACG,cAAC,GAAD,IAEA,cAAC,IAAD,CAAUpC,GAAE,UAAKiC,EAAL,YAAa3U,EAAYrB,KAAKG,YAIlD,cAAC,IAAD,CAAOiW,OAAK,EAACJ,KAAI,UAAKA,EAAL,SAAjB,SACKG,EAAe,cAAC,GAAD,IAAW,cAAC,IAAD,CAAUpC,GAAG,QAE5C,cAAC,IAAD,CAAOqC,OAAK,EAACJ,KAAI,UAAKA,EAAL,WAAjB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOI,OAAK,EAACJ,KAAK,IAAlB,SACI,cAAC,GAAD,SAGR,cAAC9Q,EAAA,EAAD,CACIhB,KAAMgS,EACN,kBAAgB,qBAChB,mBAAiB,2BAHrB,SAKI,8BACI,cAACvH,EAAA,EAAD,CAAM9Q,UAAWC,KAAOwF,MAAxB,SACI,2D,wEC/ClB6B,GAAYC,aAAW,SAACC,GAAD,OACzB+H,YAAa,CACTiJ,IAAK,CACDtR,MAAO,GACP0F,OAAQ,IAEZ6L,IAAK,CACDhJ,SAAU,WACV5G,MAAO,MACPlD,IAAK,GACLoC,WAAYP,EAAMI,QAAQC,UAAUwE,OAExC5D,OAAQ,CACJqE,aAAc,IAElB4L,WAAY,CACR5C,QAAS,OACTZ,eAAgB,YAEpByD,SAAU,CACNrL,WAAY,YAKXsL,GAAmB,WAC5B,MACIvU,qBAAWhB,GADPG,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAEf0E,EAAUb,KACVuR,EAAWC,cACjB,OACI,cAACC,GAAA,EAAD,CAAQ/Y,UAAWmI,EAAQM,OAAQlE,MAAM,UAAUkL,SAAS,SAA5D,SACI,eAACuJ,GAAA,EAAD,CAAShZ,UAAWmI,EAAQuQ,WAA5B,UACI,cAACO,GAAA,EAAD,CAAKjZ,UAAWmI,EAAQsQ,IAAxB,SACI,qBAAKzY,UAAWmI,EAAQqQ,IAAK7J,ICpDlC,ijLDoDkDC,IAAI,qBAE9B,MAAtBiK,EAASK,UACN,cAAC3S,EAAA,EAAD,CACIvG,UAAWmI,EAAQwQ,SACnBpU,MAAM,YACNE,QAAS,WACLhB,EAAS,CAAEiB,KAAMR,GAAWS,aAAS3D,KAJ7C,SAOMwC,EAAYtC,SAAkC,cAAC,KAAD,IAAvB,cAAC,KAAD,Y,8BErDpCiY,GAA0B,SAACrZ,GACpC,IAAQ4R,EAAyB5R,EAAzB4R,MAAO0H,EAAkBtZ,EAAlBsZ,OAAQ3Z,EAAUK,EAAVL,MAEvB,OACI,cAAC4Z,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CACIC,QAAS,cAAC,KAAD,CAAgBhV,MAAM,UAAU0H,KAAK,SAASuN,QAAS/Z,IAChEiS,MAAOA,EACPjN,QAAS,kBAAM2U,GAAQ3Z,IACvBga,eAAe,aCVzBnS,GAAYC,aAAW,SAACC,GAAD,OACzB+H,YAAa,CACThH,KAAM,CACFoF,SAAU,IACVzG,MAAO,IACP2F,UAAW,kCACXC,aAAc,IAElB0C,cAAe,CACXC,SAAU,WACVC,QAAS,EACTC,YAAa,GAGjBvN,MAAO,CACHwN,WAAY,EACZO,SAAU,cAEdlH,QAAS,CACLlB,WAAYP,EAAMI,QAAQC,UAAUC,WAUnC4R,GAA4B,SAAC5Z,GACtC,IAAQ6Z,EAAkB7Z,EAAlB6Z,KAAM1Q,EAAYnJ,EAAZmJ,QACRd,EAAUb,KAEhB,OACI,cAACwJ,EAAA,EAAD,CAAM9Q,UAAWkJ,kBAAKf,EAAQI,KAAT,gBAAkBJ,EAAQc,QAAUA,IAAYzE,QAAQ,WAA7E,SACI,cAACuM,GAAA,EAAD,CAAa/Q,UAAWmI,EAAQqH,cAAhC,SACI,cAAC9G,EAAA,EAAD,CAAYlE,QAAQ,KAAKxE,UAAWmI,EAAQ/F,MAA5C,SACKuX,SC3CRC,GAAa,6B,oBCMbC,GAA4E,SAAC,GAGnF,IAFHC,EAEE,EAFFA,QACAC,EACE,EADFA,cAEQJ,EAA6CG,EAA7CH,KAAM1W,EAAuC6W,EAAvC7W,KACRgG,EAAU8Q,IAAkB9W,EAAKpB,OAEvC,OACI,sBAAK7B,UAAWC,KAAO+Z,cAAvB,UACI,cAAC,GAAD,CAAUL,KAAMA,EAAM1Q,QAASA,IAC/B,cAAC6E,GAAD,CACIxO,KAAI,UAAK2D,EAAKnB,UAAV,YAAuBmB,EAAKlB,UAChCG,SAAQ,UAAKe,EAAKnB,UAAU,IAApB,QAA0BmB,EAAKlB,UAAY,IAAI,IACvDE,YAAagB,EAAKhB,YAAcgB,EAAKhB,YAAc,GACnD8L,OAAQ6L,GAAa3W,EAAK8K,OAC1BlM,OAAQoB,EAAKpB,OACbD,YAAaqH,EACbjH,WAAYiB,EAAKjB,WACjBiK,KAAK,c,+BCjBf3E,GAAYC,aAAW,iBAAO,CAChCkG,OAAQ,CACJsI,OAAQ,YAIHkE,GAAsB,WAC/B,IAAM9R,EAAUb,KACR9D,EACJa,qBAAWhB,GADPG,YAER,EAAwBsB,mBAAiB,IAAzC,mBAAO6U,EAAP,KAAaO,EAAb,KACMC,EAAqC3W,EAAY3C,GAAGE,SAEpDqZ,EAAO,WACJD,IACLA,EAAWE,gBAAgBV,GAC3BO,EAAQ,MAOZ,OACI,eAACzE,EAAA,EAAD,CAAKzV,UAAWC,KAAOqa,YAAvB,UACI,cAAC7E,EAAA,EAAD,CAAK8E,GAAI,CAAEC,SAAU,GAArB,SACI,cAACC,GAAA,EAAD,CACIC,WAAS,EACTrb,GAAG,oBACHsb,WAAS,EACTC,WAXA,SAACpU,GACK,UAAdA,EAAMwE,KAAiC,gBAAdxE,EAAMwE,KAAuBoP,KAW9CrU,SAAU,SAACZ,GACP+U,EAAQ/U,EAAE/E,OAAOX,QAErBA,MAAOka,EACPzI,UAAW1N,EAAY3C,GAAGC,WAGlC,cAAC2U,EAAA,EAAD,UACI,cAACtL,EAAA,EAAD,CACIzF,KAAK,SACLF,QAAQ,YACRD,MAAM,UACNvE,UAAWmI,EAAQsF,OACnB7I,QAAS,cAAC,KAAD,IACTsM,UAAW1N,EAAY3C,GAAGC,OAC1B2D,QAAS,kBAAM2V,KAPnB,wBCxCHS,GAAW,WACpB,IAAQrX,EAA8Ca,qBAAWhB,GAAzDG,YACFsX,EAAUxX,IAAMyX,OAAuB,MAQ7C,OANA1H,qBAAU,WACF7P,EAAYrB,KAAKE,aAAaoJ,OAAS,GACnCqP,EAAQ7R,UAAS6R,EAAQ7R,QAAQ+R,UAAYF,EAAQ7R,QAAQgS,gBAEtE,CAACzX,EAAYrB,KAAKE,eAGjB,sBAAKrC,UAAWC,KAAOib,KAAvB,UACI,qBAAKC,IAAKL,EAAS9a,UAAWC,KAAOmb,yBAArC,SACK5X,EAAYrB,KAAKE,aAAa5B,KAAI,SAAC4a,GAAD,OAC/B,cAAC,GAAD,CAEIvB,QAASuB,EACTtB,cAAevW,EAAY5B,YAAYC,QAFlCwZ,EAAYhc,SAM7B,cAAC,GAAD,QCnBCic,GAAoC,SAAC,GAAoB,IAAlBpE,EAAiB,EAAjBA,WACxC1T,EAA8Ca,qBAAWhB,GAAzDG,YACAV,EAAWU,EAAYrB,KAAvBW,OACR,OACI,sBAAK9C,UAAWkX,EAAhB,UACKpU,EAAOrC,KAAI,YAA8C,IAA3CnB,EAA0C,EAA1CA,KAAMiR,EAAoC,EAApCA,SAAUtH,EAA0B,EAA1BA,QAASpG,EAAiB,EAAjBA,OAAQxD,EAAS,EAATA,GAC5C,OACI,cAAC,GAAD,CAEIC,KAAMA,EACNiR,SAAUA,EACVtH,QAASA,EACTpG,OAAQA,EACRxD,GAAIA,GALCA,MASuB,WAAvCmE,EAAY5B,YAAYI,YAA2B,cAAC,GAAD,QCjBnDuZ,GAAwB,WACjC,MACIlX,qBAAWhB,GADPG,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAErB,EAAwBqB,mBAAe,CACnCrF,MAAO,GACPJ,IAAI,IAAI4L,MAAOC,UAAUC,SAAS,IAAMC,KAAKC,SAASF,SAAS,IAAIG,MAAM,KAF7E,mBAAOtI,EAAP,KAAawY,EAAb,KAKMtW,EAAY,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sDACjBD,EAAEE,iBAEF5B,EAAS,CACLiB,KAAMP,GACNQ,QAAS,CACLY,SAAU,QACV9F,MAAM,GAAD,oBAAM+D,EAAYrC,wBAAwBO,OAA1C,CAAiDsB,OAG9DS,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,KAVpB,2CAAH,sDAalB,OACI,uBAAMa,SAAUN,EAAclF,UAAWC,KAAOwF,MAAhD,UACI,sBAAKzF,UAAWC,KAAOyF,aAAvB,UACI,qBAAK1F,UAAWC,KAAO0F,IAAvB,SACI,+CAEJ,qBAAK3F,UAAWC,KAAO2F,OAAvB,SACI,eAAC,KAAD,CAAYC,QAAQ,QAApB,mBAEI,cAAC,KAAD,CACIC,UAAQ,EACRrG,MAAOuD,EAAKvD,MACZsG,SAAU,SAACZ,GAAD,OAAOqW,EAAQ,2BAAKxY,GAAN,IAAYvD,MAAO0F,EAAE/E,OAAOX,UACpDJ,GAAG,2BACHqF,KAAK,OACLpF,KAAK,QACLkF,QAAQ,qBAKxB,sBAAKxE,UAAWC,KAAO+F,QAAvB,UACI,cAAC,KAAD,CAAQzB,MAAM,UAAUvE,UAAWC,KAAOgG,IAAKvB,KAAK,SAASF,QAAQ,YAArE,qBAGA,cAAC,KAAD,CACID,MAAM,UACNvE,UAAWC,KAAOgG,IAClBzB,QAAQ,WACRC,QAAS,kBAAMhB,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,MAJxD,2B,qBC/CH8W,GAAkC,WAC3C,IAAMhI,EAAUC,cACRlQ,EAA8Ca,qBAAWhB,GAAzDG,YACR,EAAoCsB,oBAAS,GAA7C,mBAAO4W,EAAP,KAAmBC,EAAnB,KACA,EAAwB7W,oBAAS,GAAjC,mBAAOuB,EAAP,KAAayD,EAAb,KAQA,OACI,qCACI,cAACK,EAAA,EAAD,CACI+G,UAAW1N,EAAY3C,GAAGC,OAC1ByD,MAAM,UACNC,QAAQ,WACRC,QAZU,WAAO,IAAD,EACxB,UAAAjB,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,SAAU,YAC7D0N,GAAc,GACd7R,GAAQ,IAKJ,yBAQA,cAACzC,EAAA,EAAD,CACIhB,KAAMqV,EACN7U,QAAS,WACL8U,GAAc,GACdlI,EAAQG,KAAK,MAEjB,kBAAgB,qBAChB,mBAAiB,2BAPrB,SASI,qBAAK5T,UAAWC,KAAO2b,YAAvB,SACI,cAACvK,EAAA,EAAD,CAAUC,GAAIjL,EAAd,SACI,cAACsP,EAAA,EAAD,CACIE,OACI,cAACtP,EAAA,EAAD,CACI,aAAW,QACXhC,MAAM,UACN0H,KAAK,QACLxH,QAAS,WACLqF,GAAQ,GACR2J,EAAQG,KAAK,MANrB,SASI,cAAC,IAAD,CAAWrG,SAAS,cAXhC,6C,kDCpCX5B,GAAQ,SAAC,GAAkE,IAAhEnC,EAA+D,EAA/DA,QACpB,EAAwB1E,mBAAS,CAAE+W,QAAS,EAAGjQ,QAAS,KAAxD,mBAAOa,EAAP,KAAaqP,EAAb,KACMC,EAAYC,mBAAQ,WACtB,MAAO,CACHC,WAAYC,MAAMC,KAAKD,MAAM,IAAIE,QACjCC,WAAYH,MAAMC,KAAKD,MAAM,GAAGE,QAAQ3b,KAAI,SAACsK,GAAD,OAAiB,GAAPA,QAE3D,IAWH,OACI,sBAAK/K,UAAWC,KAAOyU,MAAvB,UACI,cAAC,KAAD,CAAYrV,GAAG,UAAf,qBACA,cAAC,KAAD,CACI6S,QAAQ,UACR7S,GAAG,qBACHI,MAAOgN,EAAKoP,QACZ9V,SAhBW,SAACZ,GACpB2W,EAAQ,2BAAKrP,GAAN,IAAYoP,QAAS1W,EAAE/E,OAAOX,SACrC+J,EAAqC,GAA5BrE,EAAE/E,OAAOX,MAAwBgN,EAAKb,UAU3C,SAMKmQ,EAAUE,WAAWxb,KAAI,SAACsK,GAAD,OACtB,cAAC,KAAD,CAAqBtL,MAAOsL,EAA5B,SACKA,GADUA,QAKvB,cAAC,KAAD,CAAY1L,GAAG,UAAf,qBACA,cAAC,KAAD,CACI6S,QAAQ,UACR7S,GAAG,qBACHI,MAAOgN,EAAKb,QACZ8F,MAAM,GACN3L,SA1BW,SAACZ,GACpB2W,EAAQ,2BAAKrP,GAAN,IAAYb,QAASzG,EAAE/E,OAAOX,SACrC+J,EAAuB,GAAfiD,EAAKoP,QAAgB1W,EAAE/E,OAAOX,QAmBlC,SAOKsc,EAAUM,WAAW5b,KAAI,SAACsK,GAAD,OACtB,cAAC,KAAD,CAAqBtL,MAAOsL,EAA5B,SACKA,GADUA,YC7B7BzD,GAAYC,aAAW,SAACC,GAAD,OACzB+H,YAAa,CACT+M,YAAa,CACTvG,OAAQvO,EAAMyF,QAAQ,GACtBU,SAAU,KAEd4O,YAAa,CACTlM,UAAW7I,EAAMyF,QAAQ,SAKxBuP,GAAkC,WAC3C,IAAQ/Y,EAA6CY,qBAAWhB,GAAxDI,SACR,EAAgCqB,mBAAgC,CAC5D4P,MAAO,IACPrT,iBAAiB,EACjBC,UAAW,cACXC,eAAgB,KAChBC,eAAe,EACfC,wBAAwB,EACxB8H,cAAe,YACf+F,eAAe,IARnB,mBAAO+H,EAAP,KAAiBoF,EAAjB,KAUMtU,EAAUb,KAMhB+L,qBAAU,WACN5P,EAAS,CACLiB,KAAMP,GACNQ,QAAS,CAAEY,SAAU,eAAgB9F,MAAO4X,OAEjD,CAACA,EAAU5T,IACd,IAAMiZ,EAAY,CACd,CACIjd,MAAO4X,EAAShW,gBAChBqQ,MAAO,0BACPiL,SAAU,SAACC,GAAD,OAAoBH,EAAY,2BAAKpF,GAAN,IAAgBhW,gBAAiBub,OAE9E,CACInd,MAAO4X,EAAS7V,cAChBkQ,MAAO,oBACPiL,SAAU,SAACC,GAAD,OAAoBH,EAAY,2BAAKpF,GAAN,IAAgB7V,cAAeob,OAE5E,CACInd,MAAO4X,EAAS5V,uBAChBiQ,MAAO,8BACPiL,SAAU,SAACC,GAAD,OACNH,EAAY,2BAAKpF,GAAN,IAAgB5V,uBAAwBmb,OAE3D,CACInd,MAAO4X,EAAS/H,cAChBoC,MAAO,6BACPiL,SAAU,SAACC,GAAD,OAAoBH,EAAY,2BAAKpF,GAAN,IAAgB/H,cAAesN,QAI1EC,EAAa,CACf,CACIpd,MAAO4X,EAAS/V,UAChBoQ,MAAO,cACPiL,SAAU,SAACxX,GACPsX,EAAY,2BAAKpF,GAAN,IAAgB/V,UAAW6D,EAAE/E,OAAOX,WAGvD,CACIA,MAAO4X,EAAS9V,eAChBmQ,MAAO,sBACPiL,SAAU,SAACxX,GACPsX,EAAY,2BAAKpF,GAAN,IAAgB9V,eAAgB4D,EAAE/E,OAAOX,YAIhE,OACI,sBAAKO,UAAWC,KAAO6c,eAAvB,UACKJ,EAAUjc,KAAI,gBAAGhB,EAAH,EAAGA,MAAOiS,EAAV,EAAUA,MAAOiL,EAAjB,EAAiBA,SAAjB,OACX,sBAAiB3c,UAAWC,KAAOyR,MAAnC,UACKA,EACD,cAAC,GAAD,CAAQA,MAAM,GAAGjS,MAAOA,EAAO2Z,OAAQuD,MAFjCjL,MAMd,eAACqL,GAAA,EAAD,CAAa/c,UAAWmI,EAAQmU,YAAhC,UACI,cAAC,KAAD,CAAYjd,GAAG,2BAAf,wBACA,eAAC,KAAD,CACI6S,QAAQ,2BACR7S,GAAG,qBACHI,MAAO4X,EAAS9N,cAChBxD,SAjEK,SAACS,GAClBiW,EAAY,2BAAKpF,GAAN,IAAgB9N,cAAe/C,EAAMpG,OAAOX,UA4D/C,UAMI,cAAC0H,GAAA,EAAD,CAAU1H,MAAM,YAAhB,gCACA,cAAC0H,GAAA,EAAD,CAAU1H,MAAM,cAAhB,2BACA,cAAC0H,GAAA,EAAD,CAAU1H,MAAM,SAAhB,oCAIPod,EAAWpc,KAAI,gBAAGhB,EAAH,EAAGA,MAAOiS,EAAV,EAAUA,MAAOiL,EAAjB,EAAiBA,SAAjB,OACZ,sBAAiB3c,UAAWC,KAAOyR,MAAnC,UACKA,EACD,cAAC,KAAD,CACIgJ,WAAS,EACTrb,GAAG,iBACHmF,QAAQ,WACR/E,MAAOA,EACPsG,SAAU4W,MAPRjL,MAYb2F,EAAS7V,eACN,sBAAKxB,UAAWC,KAAOyR,MAAvB,wBAEI,cAAC,GAAD,CACIlI,QAAS,SAACoC,GACN6Q,EAAY,2BAAKpF,GAAN,IAAgB3C,MAAO9I,e,0CCjIjDoR,GAAW,WACpB,IAAQxZ,EAA8Ca,qBAAWhB,GAAzDG,YAER,EAA0BsB,mBAAS,IAAnC,mBAAO1C,EAAP,KAAc6a,EAAd,KACA,EAA8BnY,oBAAS,GAAvC,mBAAOoY,EAAP,KAAgBC,EAAhB,KAEMjY,EAAe,WAAO,IAAD,EACnBgY,IAAS,UAAA1Z,EAAY3C,GAAGE,gBAAf,SAAyBkN,0BAA0B,QAAS7L,IACzE+a,GAAYD,IAShB,OAHA7J,qBAAU,WACN4J,EAASzZ,EAAYrB,KAAKC,SAC3B,CAACoB,IAEA,sBAAKxD,UAAWC,KAAOmd,SAAvB,UACKF,GACG,cAAC,KAAD,CACIpX,UAAQ,EACRrG,MAAO2C,EACP2D,SAAU,SAACZ,GAAD,OAAO8X,EAAS9X,EAAE/E,OAAOX,QACnCJ,GAAG,2BACHqF,KAAK,OACLF,QAAQ,WACRoW,WAjBA,SAACpU,GACK,UAAdA,EAAMwE,KAAiC,gBAAdxE,EAAMwE,KAAuB9F,QAmBpDgY,GAAW,6BAAK9a,IACsB,WAAvCoB,EAAY5B,YAAYI,YAA2BwB,EAAY3C,GAAGC,QAC/D,cAAC,KAAD,CAAYd,UAAWC,KAAO4N,KAAMpJ,QAAS,kBAAMS,W,yCC7BtDmY,GAAY,WACrB,IAIIjU,EAJJ,EACI/E,qBAAWhB,GADPG,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAEb/B,EAAU8B,EAAYrC,wBAAtBO,MACR,EAA0C8B,EAAYrC,wBAAwBC,aAAtEG,EAAR,EAAQA,eAAgBgI,EAAxB,EAAwBA,cAExB,OAAQA,GAUJ,QACIH,EAAe5J,QAPnB,IAAK,cACD4J,EAAe1J,EACf,MACJ,IAAK,SACD0J,EAAe1H,EAKvB,OACI,sBAAK1B,UAAWC,KAAOqd,iBAAvB,UACKlU,EAAa3I,KAAI,YAAoB,IAAjBhB,EAAgB,EAAhBA,MAAOJ,EAAS,EAATA,GACxB,OACI,cAAC,GAAD,CACII,MAAOA,EACP6B,UAAWC,GAAkB,GAC7B6G,WAA8B,WAAlBmB,EAEZ5B,cAAc,EACdtI,GAAIA,GAFCA,MAME,WAAlBkK,GACG,qBACIgU,KAAK,eACL9Y,QAAS,kBACLhB,EAAS,CAAEiB,KAAMT,EAAWU,QAAS,gBAH7C,SAMI,cAAC0D,EAAA,EAAD,CAAOC,UAAW,EAAGtI,UAAWC,KAAO+C,KAAvC,SACI,cAAC,KAAD,CAAsBhD,UAAWC,KAAOud,eC9CnDC,GAAuB,WAChC,OACI,qBAAKzd,UAAWC,KAAOqd,iBAAvB,SACK3d,EAAgBc,KAAI,SAACkJ,GAClB,OAAO,cAAC,GAAD,CAAsBX,KAAMW,EAAG/J,OAAhB+J,EAAGtK,U,qBCA5Bqe,GAAiC,WAC1C,IAAQla,EAA8Ca,qBAAWhB,GAAzDG,YACFiR,EAAcjR,EAAYrB,KAAKI,MAAMwC,MAAK,SAAC9B,GAAD,MAAoC,WAApBA,EAAKjB,cACrE,IAAKyS,EACD,OACI,sBAAKzU,UAAWC,KAAOwU,YAAvB,UACI,cAAC/L,EAAA,EAAD,4BADJ,gBAKR,IAAQxG,EAA2EuS,EAA3EvS,SAAUJ,EAAiE2S,EAAjE3S,UAAWC,EAAsD0S,EAAtD1S,SAAUE,EAA4CwS,EAA5CxS,YAAaJ,EAA+B4S,EAA/B5S,OAAQG,EAAuByS,EAAvBzS,WAAY+L,EAAW0G,EAAX1G,OACxE,OACI,sBAAK/N,UAAWC,KAAOwU,YAAvB,UACI,cAAC/L,EAAA,EAAD,4BACA,cAACoF,GAAD,CACI5L,SAAUA,EACV5C,KAAI,UAAKwC,EAAL,YAAkBC,GACtBE,YAAaA,GAAe,GAC5BJ,OAAQA,EACRD,YAAaC,IAAW2B,EAAY5B,YAAYC,OAChDG,WAAYA,EACZiK,KAAK,QACL8B,OAAQ6L,GAAa7L,Q,0CCxBxB4P,GAAiC,WAC1C,IAAQna,EAA8Ca,qBAAWhB,GAAzDG,YACFoa,EAAU,UAAMC,OAAOhF,SAASiF,OAAtB,YAAgCta,EAAYrB,KAAKG,QAEjE,OACI,qBAAKtC,UAAWC,KAAO8d,YAAvB,SACI,cAACxP,EAAA,EAAD,CAAM/F,WAAS,EAAf,SACI,cAAC+F,EAAA,EAAD,CAAMxD,MAAI,EAAC8D,GAAI,GAAf,SACI,cAAC,KAAD,CACIxP,GAAG,2BACHqS,MAAM,gBACNgJ,WAAS,EACTsD,aAAcJ,EACdjM,WAAY,CACRC,UAAU,EACVC,aACI,cAAC1H,EAAA,EAAD,CACI5F,MAAM,UACNC,QAAQ,YACRC,QAAS,WACLwZ,UAAUC,UAAUC,UAAUP,IAElChZ,QAAS,cAAC,KAAD,IANb,4BCdnBwZ,GAAiC,WAC1C,IAAQ5a,EACJa,qBAAWhB,GADPG,YAEFiQ,EAAUC,cACZtK,EAAuB,GAC3B,OAAQ5F,EAAYrC,wBAAwBC,aAAamI,eAUrD,QACIH,EAAe5J,QAPnB,IAAK,cACD4J,EAAe1J,EACf,MACJ,IAAK,SACD0J,EAAe5F,EAAYrC,wBAAwBO,MAM3D,IAAM2c,EAAa,uCAAG,8BAAAjZ,EAAA,yDACZkZ,EADY,UACO9a,EAAY3C,GAAGE,gBADtB,aACO,EAAyBkN,0BAA0BsQ,KACxE/a,EAAY3C,GAAGE,UAFD,iEAKZud,EAAiB,eAAgB9a,EAAYrC,wBAAwBC,cALzD,uBAMZkd,EAAiB,QAASlV,GANd,uBAOZkV,EAAiB,gBAAiB9a,EAAYrC,wBAAwBQ,eAP1D,wBAQZ2c,EACF,gBACA9a,EAAYrB,KAAKI,MAAM9B,KAAI,SAACwC,GACxB,MAAO,CAAED,UAAMhC,EAAWiC,YAXhB,yBAcZqb,EAAiB,SAAU,WAdf,QAelB7K,EAAQG,KAAR,WAAiBpQ,EAAYrB,KAAKG,OAAlC,UAfkB,4CAAH,qDAkBnB,OACI,cAAC,KAAD,CACI4O,UAAW1N,EAAY3C,GAAGC,OAC1ByD,MAAM,UACNC,QAAQ,YACRC,QAAS4Z,EAJb,yBCpCKG,GAAuC,SAAC,GAAoB,IAAlBtH,EAAiB,EAAjBA,WAC3C1T,EAA8Ca,qBAAWhB,GAAzDG,YACFjB,EAAQiB,EAAYrB,KAAKI,MAAM6E,QAAO,SAACnE,GAAD,MAAoC,WAApBA,EAAKjB,cAEjE,OACI,qBAAKhC,UAAWkX,EAAhB,SACK3U,EAAM9B,KACH,YAQa,IAPTqB,EAOQ,EAPRA,UACAC,EAMQ,EANRA,SACAE,EAKQ,EALRA,YACAJ,EAIQ,EAJRA,OACAkM,EAGQ,EAHRA,OACA7L,EAEQ,EAFRA,SACAF,EACQ,EADRA,WAEA,OACI,cAAC8L,GAAD,CACI5L,SAAUA,EACV5C,KAAI,UAAKwC,EAAL,YAAkBC,GACtBE,YAAaA,GAAe,GAC5BJ,OAAQA,EACRD,YAAaC,IAAW2B,EAAY5B,YAAYC,OAEhDoK,KAAK,QACLjK,WAAYA,EACZ+L,OAAQ6L,GAAa7L,GAHhBlM,S,+BC9B1B,SAAe4c,GAAtB,mC,8CAAO,WAA2Bpf,GAA3B,eAAA+F,EAAA,yDACE/F,EADF,sBACY,IAAIqf,MAAM,yBADtB,gCAGwBC,KAAMC,IAAN,UAAahF,GAAb,gBAA+Bva,IAHvD,UAIyB,OADlBwf,EAHP,QAIc/d,OAJd,yCAIqC+d,EAASjH,MAJ9C,qCAKQ5W,GALR,gEAOQA,GAPR,2D,sBAWA,IAAM8d,GAAU,uCAAG,4BAAA1Z,EAAA,+EAEKuZ,KAAMI,KAAN,UAAcnF,GAAd,SAFL,UAGM,OADlBiF,EAFY,QAGL/d,OAHK,yCAIP+d,EAASjH,MAJF,cAOlBoH,QAAQC,IAAI,sKAPM,uBAQXje,GARW,yCAWlBge,QAAQC,IAAI,gKAXM,uBAYXje,GAZW,0DAAH,qDCXjBsG,GAAYC,aAAW,SAACC,GAAD,OACzB+H,YAAa,CACThH,KAAM,CACFrB,MAAO,IACP0F,OAAQ,GACR,QAAS,CACLmJ,OAAQvO,EAAMyF,QAAQ,KAG9BiS,MAAO,CACHpJ,QAAS,aAoCNqJ,GA3B+B,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACvCjX,EAAUb,KAQhB,OACI,qBAAKtH,UAAWmI,EAAQI,KAAxB,SACI,wBAAO1C,QAAQ,wBAAf,UACI,uBACIwZ,OAAO,UACPhgB,GAAG,wBACHqF,KAAK,OACL1E,UAAWmI,EAAQ+W,MACnBnZ,SAAU,SAACZ,GAAD,OAdL,SAACA,GACdA,EAAE/E,OAAOkf,OACTF,EAASja,EAAE/E,OAAOkf,MAAM,IAYCC,CAAapa,MAElC,cAACgF,EAAA,EAAD,CAAQ3F,QAAQ,YAAYD,MAAM,UAAUib,UAAU,OAAtD,0BC/BT,SAAeC,GAAtB,mC,8CAAO,yCAAAra,EAAA,6DACHtD,EADG,EACHA,UACAC,EAFG,EAEHA,SACAC,EAHG,EAGHA,WACAC,EAJG,EAIHA,YACAkL,EALG,EAKHA,QAEMuS,EAAW,IAAIC,UACZC,OAAO,aAAcC,KAAKC,UAAU,CAAEhe,YAAWC,WAAUE,cAAaD,gBAC7EmL,GAAQuS,EAASE,OAAO,SAAUzS,GATnC,kBAWwBwR,KAAM,CACzBoB,OAAQ,OACRC,IAAI,GAAD,OAAKpG,GAAL,WACHhC,KAAM8H,EACNO,QAAS,CAAE,eAAgB,yBAfhC,cAWOpB,EAXP,yBAiBQA,EAASjH,MAjBjB,yCAqBCoH,QAAQC,IAAI,KAAMJ,SAASjH,MArB5B,uBAsBQ5W,GAtBR,2D,sBCFA,IAAMkf,GAA6B,SAACpgB,GACvC,IAAQ4R,EAAmC5R,EAAnC4R,MAAOyO,EAA4BrgB,EAA5BqgB,YAAapN,EAAejT,EAAfiT,WAC5B,OACI,cAACsG,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CACIC,QAAS,cAAC,KAAD,CAAgBhV,MAAM,UAAU0H,KAAK,SAASuN,QAASzG,IAChErB,MAAOA,EACPjN,QAAS,kBAAM0b,GAAapN,IAC5B0G,eAAe,a,oBCClB2G,GAAgD,SAAC,GAA2B,IAAzBtW,EAAwB,EAAxBA,QAASgJ,EAAe,EAAfA,SACrE,EAAkChO,mBAAS,IAA3C,mBAAOhD,EAAP,KAAkBue,EAAlB,KACA,EAAgCvb,mBAAS,IAAzC,mBAAO/C,EAAP,KAAiBue,EAAjB,KACA,EAAsBxb,mBAAS,IAA/B,mBAAOyb,EAAP,KAAYC,EAAZ,KACA,EAAoC1b,oBAAS,GAA7C,mBAAOiO,EAAP,KAAmB0N,EAAnB,KACA,EAA4B3b,qBAA5B,mBAAOqI,EAAP,KAAeuT,EAAf,KACMjN,EAAUC,cAChB,EAAwC5O,oBAAS,GAAjD,mBAAO6b,EAAP,KAAqBC,EAArB,KACA,EACIvc,qBAAWhB,GADPI,EAAR,EAAQA,SAAUD,EAAlB,EAAkBA,YAEZ0B,EAAY,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,sDACjBD,EAAEE,iBADe,MAGT,EAHS,cAIRyN,EAJQ,SAORC,EAPQ,wBAKT9Q,EAAc,SALL,kCAQTA,EAAc,WARL,2BAWTA,EAAc,SAXL,UAaQ,KAArBH,EAAU+e,OAbG,wBAcPjJ,EAA4B,CAC9B9V,YACAC,WACAE,YAAase,EACbve,WAAYC,EACZkL,UAEJyT,GAAgB,GArBH,UAsBsCnB,GAAW7H,GAtBjD,WAsBPhW,EAtBO,OAuBbgf,GAAgB,GAvBH,OAwBRhf,QAxBQ,IAwBRA,OAxBQ,EAwBRA,EAAaC,OAxBL,mDAyBb4B,EAAS,CAAEiB,KAAMX,EAAkBY,QAAS/C,IAC5C6R,EAAQG,KAAR,WAAiBpQ,EAAYrB,KAAKG,OAAlC,WA1Ba,4CAAH,sDA6BZwe,EAAY,CACd,CACIpP,MAAO,mBACP5L,UAAU,EACVrG,MAAOqC,EACPiE,SAAUsa,EACV/gB,KAAM,aAEV,CACIoS,MAAO,kBACP5L,UAAU,EACVrG,MAAOsC,EACPgE,SAAUua,EACVhhB,KAAM,YAEV,CACIoS,MAAO,qBACP5L,UAAU,EACVrG,MAAO8gB,EACPxa,SAAUya,EACVlhB,KAAM,QAId,OACI,uBAAMkG,SAAUN,EAAclF,UAAWC,KAAOwF,MAAhD,UACI,sBAAKzF,UAAWC,KAAOyF,aAAvB,UACI,sBAAK1F,UAAWC,KAAO0F,IAAvB,UACI,mDACEmN,GACE,qBAAK9S,UAAWC,KAAO8gB,gBAAvB,SACI,cAAC,GAAD,CACIrP,MAAM,sBACNyO,YAAaM,EACb1N,WAAYA,SAK5B,eAACxE,EAAA,EAAD,CAAM/F,WAAS,EAACxI,UAAWC,KAAO2F,OAAQqH,QAAS,EAAnD,UACK6T,EAAUrgB,KAAI,YAAiD,IAA9CiR,EAA6C,EAA7CA,MAAO5L,EAAsC,EAAtCA,SAAUrG,EAA4B,EAA5BA,MAAOsG,EAAqB,EAArBA,SAAUzG,EAAW,EAAXA,KAChD,OACI,cAACiP,EAAA,EAAD,CAAMxD,MAAI,EAAV,SACI,eAAC,KAAD,CAAYlF,QAASvG,EAArB,UACKoS,EACD,cAAC,KAAD,CACI5L,SAAUA,EACVrG,MAAOA,EACPsG,SAAU,SAACZ,GAAD,OAAOY,EAASZ,EAAE/E,OAAOX,QACnCJ,GAAG,2BACHqF,KAAK,OACLpF,KAAMA,EACNkF,QAAQ,WACRwN,WAAY,CACRC,UAAW,UAZX3S,MAoBxB,eAACiP,EAAA,EAAD,CAAMxD,MAAI,EAAC/K,UAAWC,KAAO+gB,OAA7B,UACI,uCACA,qBAAKhhB,UAAWC,KAAOghB,gBAAvB,SACI,cAAC,GAAD,CAAc7B,SAAUsB,MAE5B,cAAChS,GAAA,EAAD,CAAQC,IAAKxB,EAAS+T,IAAIC,gBAAgBhU,GAAU,oBAApD,SACKrL,GAAaC,EAAb,UAA2BD,EAAU,IAArC,OAA0CC,EAAS,IAAO,gBAK3E,sBAAK/B,UAAWC,KAAO+F,QAAvB,UACI,cAACmE,EAAA,EAAD,CACI+G,SAAUyP,EACVpc,MAAM,UACNvE,UAAWC,KAAOgG,IAClBvB,KAAK,SACLF,QAAQ,YALZ,SAOKmc,EAAe,cAACS,GAAA,EAAD,IAAuB,YAE3C,cAACjX,EAAA,EAAD,CACI5F,MAAM,UACNvE,UAAWC,KAAOgG,IAClBzB,QAAQ,WACRC,QAAS,kBAAMqF,GAAQ,IAJ3B,2B,qBCrHHuX,GAAsC,SAAC,GAM7C,IALHhb,EAKE,EALFA,KACAyD,EAIE,EAJFA,QACAuM,EAGE,EAHFA,YACAvD,EAEE,EAFFA,SACAzT,EACE,EADFA,GAEA,EAAsByF,mBAAS,IAA/B,mBAAOkb,EAAP,KAAYsB,EAAZ,KACA,EAAgCxc,oBAAS,GAAzC,mBAAOyc,EAAP,KAAiBC,EAAjB,KACA,EAAwC1c,oBAAS,GAAjD,mBAAO6b,EAAP,KAAqBC,EAArB,KACQnd,EAA6CY,qBAAWhB,GAAxDI,SACFgQ,EAAUC,cACV+N,EAASzB,EAAI0B,UAAU1B,EAAI2B,YAAY,KAAO,GAE9CC,EAAUC,sBAAW,sBAAC,4BAAAzc,EAAA,yDACnB/F,EADmB,wDAExBuhB,GAAgB,GAFQ,SAGanC,GAAYpf,GAHzB,OAGlB8C,EAHkB,OAIxBye,GAAgB,GACZze,GACAsB,EAAS,CAAEiB,KAAMV,EAAWW,QAASxC,IACrC2H,GAAQ,GACRuM,GAAY,KAEZmL,GAAY,GACZ1N,YAAW,WACP0N,GAAY,KACb,MAbiB,2CAezB,CAAC/d,EAAU4S,EAAavM,EAASzK,IAE9ByiB,EAAa,uCAAG,WAAO3c,GAAP,SAAAC,EAAA,sDAClBD,EAAEE,iBACFoO,EAAQG,KAAK6N,GAFK,2CAAH,sDASnB,OAJApO,qBAAU,WACFhU,GAAIuiB,MACT,CAACviB,EAAIuiB,IAGJ,uBAAMpc,SAAUsc,EAAe9hB,UAAWC,KAAO2hB,QAAjD,UACI,qDACwB,sBAAM5hB,UAAWC,KAAO8hB,UAAxB,iBADxB,OAGA,sBAAK/hB,UAAWC,KAAO+hB,iBAAvB,UACI,cAAC,KAAD,CACIC,MAAOV,EACPzb,UAAQ,EACRzG,GAAG,2BACHI,MAAOugB,EACPja,SAAU,SAACZ,GAAD,OAAOmc,EAAOnc,EAAE/E,OAAOX,QACjCiF,KAAK,OACLwd,WAAYX,EAAW,cAAgB,GACvC/c,QAAQ,aAEZ,cAAC2F,EAAA,EAAD,CACInK,UAAWC,KAAOgG,IAClB1B,MAAM,UACNC,QAAQ,YACRE,KAAK,SACLwM,SAAUyP,EALd,SAOKA,EAAe,cAACS,GAAA,EAAD,IAAuB,YAG3C,cAAC/Z,EAAA,EAAD,CACIhB,KAAMA,EACNQ,QAAS,kBAAMiD,GAAQ,IACvB,kBAAgB,qBAChB,mBAAiB,2BAJrB,SAMI,8BACI,cAAC,GAAD,CAAkBgJ,SAAUA,EAAUhJ,QAASA,e,qBChF1DqY,GAAwC,SAAC,GAA8B,IAA5BrY,EAA2B,EAA3BA,QAASuM,EAAkB,EAAlBA,YACrD5S,EAA6CY,qBAAWhB,GAAxDI,SACR,EAAwCqB,oBAAS,GAAjD,mBAAO6b,EAAP,KAAqBC,EAArB,KACMwB,EAAS,uCAAG,4BAAAhd,EAAA,6DACdwb,GAAgB,GADF,SAEuB9B,KAFvB,UAER3c,EAFQ,OAGdye,GAAgB,GACXze,EAJS,iDAKdsB,EAAS,CAAEiB,KAAMV,EAAWW,QAASxC,IACrC2H,GAAQ,GACRuM,GAAY,GAPE,4CAAH,qDAUf,OACI,sBAAKrW,UAAWC,KAAOoiB,YAAvB,UACI,gDACA,cAAClY,EAAA,EAAD,CAAQ5F,MAAM,UAAUC,QAAQ,YAAYC,QAAS2d,EAAWlR,SAAUyP,EAA1E,SACKA,EAAe,cAACS,GAAA,EAAD,IAAuB,uB,oBC3B1CkB,GAAqB,WAAO,IAAD,IAC5B9e,EACJa,qBAAWhB,GADPG,YAGF0B,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sDACjBD,EAAEE,iBACF,UAAA7B,EAAY3C,GAAGE,gBAAf,SAAyBwhB,UAAS,GAFjB,2CAAH,sDAKlB,OACI,uBAAM/c,SAAUN,EAAclF,UAAWC,KAAOwF,MAAhD,UACI,qBAAKzF,UAAWC,KAAOyF,aAAvB,SACI,qBAAK1F,UAAWC,KAAO0F,IAAvB,SACI,0CAGR,sDACanC,EAAYrB,KAAKO,YAD9B,aACa,EAAuB3C,OAAO+B,UAD3C,yDAGK0B,EAAYrB,KAAKI,MAAMwC,MACnB,SAAC9B,GAAD,aAAUA,EAAKpB,UAAL,UAAgB2B,EAAYrB,KAAKO,YAAjC,aAAgB,EAAuB2L,kBAJ1D,aAGK,EAEGvM,aAGR,sBAAK9B,UAAWC,KAAO+F,QAAvB,UACI,cAAC,KAAD,CAAQzB,MAAM,UAAUvE,UAAWC,KAAOgG,IAAKvB,KAAK,SAASF,QAAQ,YAArE,uBAGA,cAAC,KAAD,CACID,MAAM,UACNvE,UAAWC,KAAOgG,IAClBzB,QAAQ,WACRC,QAAS,kCAAMjB,EAAY3C,GAAGE,gBAArB,aAAM,EAAyBwhB,UAAS,IAJrD,iCChCHC,GAAkC,iBAClCC,GAAe,cACfC,GAAiB,eCcvB,SAASC,GAAQnf,EAA0BqS,GAC9C,MAAgCrS,EAAYrB,KAApCI,EAAR,EAAQA,MAAOF,EAAf,EAAeA,aACf,OAAQwT,EAAOnR,MACX,KAAKhB,EACD,IAAM2X,EAAcxF,EAAOlR,QAE3B,OADqCtC,EACxB+E,QAAO,SAAC0S,GAAD,OAAaA,EAAQza,KAAOgc,EAAYhc,MAAIoM,OAAS,EAC9DjI,EACJ,2BACAA,GADP,IAEIrB,KAAK,2BACEqB,EAAYrB,MADf,IAEAE,aAAa,GAAD,oBAAMA,GAAN,CAAoBgZ,QAI5C,KAAK1X,EACD,IAAM4P,EAASsC,EAAOlR,QACtB,OAAO,2BAAKnB,GAAZ,IAAyB3C,GAAG,2BAAM2C,EAAY3C,IAAnB,IAAuB0S,aAEtD,KAAK3P,EACD,IAAMgf,EAAe/M,EAAOlR,QAC5B,OAAO,2BAAKnB,GAAZ,IAAyB3C,GAAG,2BAAM2C,EAAY3C,IAAnB,IAAuBC,OAAQ8hB,MAE9D,KAAK/e,EACD,IAAM9C,EAAW8U,EAAOlR,QACxB,OAAO,2BAAKnB,GAAZ,IAAyB3C,GAAG,2BAAM2C,EAAY3C,IAAnB,IAAuBE,eAEtD,KAAKiD,EACD,IAAM7B,EAAO0T,EAAOlR,QAEpB,OAAO,2BAAKnB,GAAZ,IAAyBrB,KAAK,2BAAMqB,EAAYrB,MAASA,KAG7D,KAAK2B,EACD,IAAM3B,EAAO0T,EAAOlR,QACpB,OAAO,2BAAKnB,GAAZ,IAAyBrB,KAAK,2BAAMqB,EAAYrB,MAASA,KAE7D,KAAK4B,EACD,IAAMnC,EAAciU,EAAOlR,QAC3B,OAAO,2BAAKnB,GAAZ,IAAyB5B,gBAE7B,KAAK4gB,GACD,IAAMK,EAAUhN,EAAOlR,QACvB,MACgC,QAA5BnB,EAAYrB,KAAKrB,QACjB0C,EAAYrB,KAAKI,MAAMqU,OAAM,SAAC3T,GAAD,OAAUA,EAAKpB,SAAWghB,EAAQhhB,UAExD,2BACA2B,GADP,IAEIrB,KAAK,2BAAMqB,EAAYrB,MAAnB,IAAyBI,MAAM,GAAD,oBAAMA,GAAN,CAAasgB,QAGhD,eAAKrf,GAEhB,KAAKS,EACD,IAAMhD,EAAQ4U,EAAOlR,QACrB,OAAO,2BAAKnB,GAAZ,IAAyBvC,UAE7B,IzDrEyB,kByDsErB,IAAMG,EAAeyU,EAAOlR,QAC5B,OAAO,2BAAKnB,GAAZ,IAAyBrB,KAAK,2BAAMqB,EAAYrB,MAAnB,IAAyBf,mBAE1D,KAAK8C,GACD,IAAMhD,GAAYsC,EAAYtC,SAC9B,OAAO,2BAAKsC,GAAZ,IAAyBtC,aAE7B,KAAKiD,GACD,OAAQ0R,EAAOlR,QAAQY,UACnB,IAAK,eACD,IAAMnE,EAAsCyU,EAAOlR,QAC9ClF,MACL,OAAO,2BACA+D,GADP,IAEIrC,wBAAwB,2BACjBqC,EAAYrC,yBADI,IAEnBC,mBAKZ,IAAK,QACD,IAAMM,EAAqBmU,EAAOlR,QAAQlF,MAC1C,OAAO,2BACA+D,GADP,IAEIrC,wBAAwB,2BACjBqC,EAAYrC,yBADI,IAEnBO,YAIZ,IAAK,gBACD,IAAMC,EAAwBkU,EAAOlR,QAAQlF,MAC7C,OAAO,2BACA+D,GADP,IAEIrC,wBAAwB,2BACjBqC,EAAYrC,yBADI,IAEnBQ,oBAIZ,QACI,OAAO,eAAK6B,GAIxB,QACI,MAAM,IAAIkb,MAAM,mB,wBCxHrB,SAASoE,GAAiBhJ,EAAwBrW,GACrD,OAAQqW,EAAQtT,OACZ,IFFoB,cEGhB,IAAKsT,EAAQ3X,KAAM,OACnBsB,EAAS,CAAEiB,KAAMZ,EAAUa,QAASmV,EAAQ3X,OAC5C,MAEJ,KAAKqgB,GACD,IAAK1I,EAAQ7W,KAAM,OACnBQ,EAAS,CAAEiB,KAAM8d,GAAqC7d,QAASmV,EAAQ7W,OACvE,MAGJ,KAAKwf,GACD,IAAK3I,EAAQuB,YAAa,OAC1B5X,EAAS,CACLiB,KAAMhB,EACNiB,QAASmV,EAAQuB,cAErB,MACJ,KAAKqH,GACD,IAAK5I,EAAQ3X,KAAM,OACnBsB,EAAS,CACLiB,KAAMZ,EACNa,QAAQ,2BAAMmV,EAAQ3X,MAAf,6BAAyB2X,EAAQiJ,cAAiBjJ,EAAQra,WCnB1E,IAAMujB,GAAb,WASI,WAAYC,GAAmC,0BAR/CA,oBAQ8C,OAN9CrhB,iBAM8C,OAJ9CO,UAI8C,OAF9CoR,YAE8C,EAC1C2P,KAAKthB,iBAAcZ,EACnBkiB,KAAK/gB,UAAOnB,EACZkiB,KAAKD,eAAiBA,EAZ9B,oFAeI,qCAAA7d,EAAA,yDACU4a,EADV,eACwBpG,GAAWuJ,MAAM,OAAO,GADhD,yBAGaD,KAAK/gB,YAHlB,aAGa,EAAWG,OAHxB,sBAGsC,IAAIoc,MAAM,6BAHhD,OAIQwE,KAAK3P,OAAS,IAAI6P,UAAUpD,GAC5BkD,KAAK3P,OAAO8P,OAAZ,sBAAqB,gCAAAje,EAAA,0DACb,UAAC,EAAKjD,YAAN,aAAC,EAAWG,SAAW,EAAKV,YADf,oDAEX0hB,EAAmC,CACrCrgB,KAAM,EAAKrB,YACXU,OAAQ,EAAKH,KAAKG,OAClBkE,MAAOgc,IAEX,EAAKS,eAAe,CAAEve,KAAMd,EAAmBe,SAAS,IACnD,EAAK4O,OARO,sBAQO,IAAImL,MARX,iCASX,EAAKnL,cATM,aASX,EAAa6G,KAAKyF,KAAKC,UAAUwD,IATtB,2CAL7B,gDAkBQtE,QAAQC,IAAI,6JAlBpB,WAoBSiE,KAAK3P,OApBd,mDAsBI2P,KAAKD,eAAe,CAAEve,KAAMf,EAAYgB,QAASue,KAAK3P,SAEtD2P,KAAK3P,OAAOgQ,QAAU,WAClB,EAAKN,eAAe,CAAEve,KAAMd,EAAmBe,SAAS,IACxDmP,YAAW,WACP,EAAKN,aACN,MAEP0P,KAAK3P,OAAOiQ,UAAY,SAAChd,GACrB,GAAK,EAAK5E,YAAV,CACA,IAAIkY,EAAyB,CACzB7W,KAAM,EAAKrB,YACXU,OAAQ,GACRkE,MAAO,kBAEX,IACIsT,EAAU+F,KAAK4D,MAAMjd,EAAMoR,MAC7B,MAAOzS,GAEL6Z,QAAQC,IAAIzY,EAAMoR,KAAM,KAAMzS,GAElC2d,GAAiBhJ,EAAS,EAAKmJ,kBA3CvC,yDAfJ,+GA8DI,WAAWS,GAAX,SAAAte,EAAA,yDACS8d,KAAK3P,OADd,0EAGc2P,KAAK3P,OAAO6G,KAAKyF,KAAKC,UAAU4D,IAH9C,uDAMQ1E,QAAQC,IAAI,wFAAZ,MANR,yDA9DJ,2HAwEI,WAAsBtF,GAAtB,mBAAAvU,EAAA,0DACQ,UAAC8d,KAAK/gB,YAAN,aAAC,EAAWG,SAAW4gB,KAAKthB,YADpC,wDAEUyZ,EAA2B,CAC7BpY,KAAMigB,KAAKthB,YACX+X,OACAta,IAAI,IAAI4L,MAAOC,UAAUC,SAAS,IAAMC,KAAKC,SAASF,SAAS,IAAIG,MAAM,GACzEqY,KAAM,IAAI1Y,MAER6O,EAAyB,CAC3BxX,OAAQ4gB,KAAK/gB,KAAKG,OAClBW,KAAMigB,KAAKthB,YACX4E,MAAOic,GACPpH,eAZR,SAcU6H,KAAK9I,KAAKN,GAdpB,gDAxEJ,wFAyFI,SAAoBtW,GAChB0f,KAAKthB,YAAc4B,EAAY5B,YAC/BshB,KAAK/gB,KAAOqB,EAAYrB,OA3FhC,8EA8FI,WAAgC4gB,EAAsBtjB,GAAtD,mBAAA2F,EAAA,0DACQ,UAAC8d,KAAK/gB,YAAN,aAAC,EAAWG,SAAW4gB,KAAKthB,YADpC,oDAEUwa,EAAOvR,OAAOuR,KAAK8G,KAAK/gB,MAFlC,SAIaia,EAAKwH,SAASb,GAJ3B,sBAIgD,IAAIrE,MAAM,+JAJ1D,cAKc5E,EAAyB,CAC3BxX,OAAQ4gB,KAAK/gB,KAAKG,OAClBW,KAAMigB,KAAKthB,YACX4E,MAAOkc,GACPK,eACAtjB,SAVZ,SAYcyjB,KAAK9I,KAAKN,GAZxB,yDAeQkF,QAAQC,IAAI,wFAAZ,MAfR,0DA9FJ,sHAiHI,WAAevc,GAAf,iBAAA0C,EAAA,0DACQ,UAAC8d,KAAK/gB,YAAN,aAAC,EAAWG,SAAW4gB,KAAKthB,YADpC,6DAIashB,KAAK/gB,KAAKO,KAJvB,sBAImC,IAAIgc,MAAM,yFAJ7C,cAKc5E,EAAyB,CAC3BxX,OAAQ4gB,KAAK/gB,KAAKG,OAClBW,KAAMigB,KAAKthB,YACX4E,MH5HI,OG6HJ9D,QATZ,SAWcwgB,KAAK9I,KAAKN,GAXxB,yDAcQkF,QAAQC,IAAI,wFAAZ,MAdR,0DAjHJ,0HAmII,WAAqBjc,GAArB,iBAAAoC,EAAA,0DACQ,UAAC8d,KAAK/gB,YAAN,aAAC,EAAWG,SAAW4gB,KAAKthB,YADpC,oDAEmC,UAA3BshB,KAAK/gB,KAAKe,MAAMpC,OAFxB,iEAIcgZ,EAAyB,CAC3BxX,OAAQ4gB,KAAK/gB,KAAKG,OAClBW,KAAMigB,KAAKthB,YACX4E,MH5IW,aG6IXxD,QARZ,SAUckgB,KAAK9I,KAAKN,GAVxB,yDAaQkF,QAAQC,IAAI,wFAAZ,MAbR,0DAnIJ,8D,qBCIMzX,GAAQqc,YAAY,CACtBjc,QAAS,CACLwE,QAAS,CACLC,MAAO,UACPvE,KAAM,UACNwE,KAAM,WAEVzE,UAAW,CACPwE,MAAO,UACPvE,KAAM,UACNwE,KAAM,cAKLwX,GAAgB,WACzB,MAAiEC,qBAAWpB,GAAS/hB,GAArF,mBAAO4C,EAAP,KAAoBC,EAApB,KAMA,OALA4P,qBAAU,WACN,IAAMtS,EAAW,IAAIiiB,GAAWvf,GAChCA,EAAS,CAAEiB,KAAMb,EAAiCc,QAAS5D,MAC5D,CAAC0C,IAGA,mCACI,cAACJ,EAAc2gB,SAAf,CAAwBvkB,MAAO,CAAEgE,WAAUD,eAA3C,SACI,eAAC,IAAD,CAAkBgE,MAAOA,GAAzB,UACI,cAAC,GAAD,IACA,uBAAMxH,UAAWC,KAAOwW,QAAxB,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAO8B,OAAK,EAACJ,KAAK,IAAlB,SACI,cAAChC,GAAD,MAEJ,cAAC,IAAD,CAAOgC,KAAK,OAAZ,SACI,cAAC,GAAD,SAGP3U,EAAYtC,UAAY,cAAC,GAAD,OAE7B,cAAC,EAAD,Y,OC9CpB+iB,IAASC,OACL,cAAC,IAAD,UACI,cAAC,GAAD,MAEJC,SAASC,eAAe,U,mBCT5BllB,EAAOC,QAAU,CAAC,MAAQ,2BAA2B,QAAU,6BAA6B,IAAM,yBAAyB,aAAe,kCAAkC,OAAS,4BAA4B,IAAM,yBAAyB,OAAS,4BAA4B,gBAAkB,qCAAqC,gBAAkB,uC,mBCA9VD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,UAAY,yBAAyB,IAAM,mBAAmB,aAAe,4BAA4B,UAAY,yBAAyB,QAAU,uBAAuB,QAAU,uBAAuB,OAAS,sBAAsB,MAAQ,qBAAqB,mBAAqB,kCAAkC,kBAAoB,iCAAiC,iBAAmB,gCAAgC,SAAW,wBAAwB,MAAQ,uB,mBCArgBD,EAAOC,QAAU,CAAC,MAAQ,gCAAgC,QAAU,kCAAkC,IAAM,8BAA8B,aAAe,uCAAuC,OAAS,iCAAiC,IAAM,8BAA8B,OAAS,iCAAiC,gBAAkB,0CAA0C,gBAAkB,4C,mBCAtYD,EAAOC,QAAU,CAAC,OAAS,0BAA0B,KAAO,wBAAwB,KAAO,wBAAwB,UAAY,+B,mBCA/HD,EAAOC,QAAU,CAAC,MAAQ,+BAA+B,QAAU,iCAAiC,IAAM,6BAA6B,aAAe,sCAAsC,OAAS,gCAAgC,IAAM,6BAA6B,OAAS,gCAAgC,gBAAkB,yCAAyC,gBAAkB,2C,mBCA9XD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,yBAA2B,uCAAuC,cAAgB,4BAA4B,WAAa,yBAAyB,YAAc,4B,mBCA9MD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,gBAAkB,gCAAgC,OAAS,uBAAuB,IAAM,oBAAoB,QAAU,0B,mBCAxKD,EAAOC,QAAU,CAAC,eAAiB,qCAAqC,MAAQ,4BAA4B,MAAQ,8B,mBCApHD,EAAOC,QAAU,CAAC,MAAQ,mCAAmC,QAAU,qCAAqC,IAAM,iCAAiC,aAAe,0CAA0C,OAAS,oCAAoC,IAAM,iCAAiC,OAAS,oCAAoC,gBAAkB,6CAA6C,gBAAkB,+C,mBCA9ZD,EAAOC,QAAU,CAAC,UAAY,4BAA4B,UAAY,4BAA4B,eAAiB,iCAAiC,QAAU,0BAA0B,OAAS,2B,mBCAjMD,EAAOC,QAAU,CAAC,MAAQ,wBAAwB,QAAU,0BAA0B,IAAM,sBAAsB,aAAe,+BAA+B,OAAS,yBAAyB,IAAM,sBAAsB,OAAS,yBAAyB,gBAAkB,kCAAkC,gBAAkB,oC,mBCAtUD,EAAOC,QAAU,CAAC,KAAO,wBAAwB,MAAQ,yBAAyB,iBAAmB,oCAAoC,KAAO,wBAAwB,UAAY,6BAA6B,OAAS,0BAA0B,QAAU,2BAA2B,MAAQ,yBAAyB,OAAS,6B","file":"static/js/main.1cbe1a45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"connect\":\"ConnectForm_connect__38UKm\",\"connect__control\":\"ConnectForm_connect__control__OmsQe\",\"highlight\":\"ConnectForm_highlight__kVvsk\",\"btn\":\"ConnectForm_btn__RDsAA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameInfo\":\"GameInfo_gameInfo__6fY0r\",\"icon\":\"GameInfo_icon__2XGO0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrumMaster\":\"ScrumMaster_scrumMaster__Eigul\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"gameCard_card__E4CpF\",\"container\":\"gameCard_container__2wPeS\",\"header\":\"gameCard_header__1tmAt\",\"menuBtn\":\"gameCard_menuBtn__CRx6v\",\"right\":\"gameCard_right__1Cabn\",\"center\":\"gameCard_center__bciEQ\",\"bgMountains\":\"gameCard_bgMountains__27HYZ\",\"bgLeaf\":\"gameCard_bgLeaf__3pa3z\",\"bgMoon\":\"gameCard_bgMoon__29hOC\",\"bgEagle\":\"gameCard_bgEagle__O_MpI\",\"coffee\":\"gameCard_coffee__2Q3q1\",\"demo\":\"gameCard_demo__1hlTn\",\"current\":\"gameCard_current__3i38F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"issueBtn\":\"IssueButton_issueBtn__1Ts9F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"timer_time__24Exl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"invitation_modal__Ay8QZ\",\"buttons\":\"invitation_buttons__1BXcF\",\"top\":\"invitation_top__122On\",\"registration\":\"invitation_registration__21Ely\",\"inputs\":\"invitation_inputs__2ZQMF\",\"btn\":\"invitation_btn__2eq5w\",\"upload\":\"invitation_upload__3m1-g\",\"upload__buttons\":\"invitation_upload__buttons__3jAwx\",\"SwitchContainer\":\"invitation_SwitchContainer__3iC9a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cancelAlert\":\"CancelButton_cancelAlert__34NrR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"linkToLobby\":\"LinkToLobby_linkToLobby__33bG6\",\"linkToLobby__controls\":\"LinkToLobby_linkToLobby__controls__UQqol\",\"linkToLobby__controls__url\":\"LinkToLobby_linkToLobby__controls__url__Yfiq4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_session\":\"NewSession_new_session__3Dwvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"style_content__3grKH\"};","import { Author, UserWithScore } from './types';\nimport { Card, Issue, StatisticCard } from '../types/game';\nimport { User } from '../types/user';\n\nexport const authors: Author[] = [\n    {\n        id: '1',\n        name: 'Alexey Pirozerskiy',\n        link: 'https://github.com/lexomut',\n    },\n    {\n        id: '2',\n        name: 'LenarFF',\n        link: 'https://github.com/LenarFF',\n    },\n    {\n        id: '3',\n        name: 'Olga Kitel',\n        link: 'https://github.com/OKitel',\n    },\n];\n\nexport const gameCardsData: Card[] = [\n    {\n        id: '1',\n        value: '1',\n    },\n    {\n        id: '2',\n        value: '13',\n    },\n    {\n        id: '2',\n        value: '13',\n    },\n];\n\nexport const fibonacciDeck: Card[] = [\n    {\n        id: '1',\n        value: '1',\n    },\n    {\n        id: '2',\n        value: '2',\n    },\n    {\n        id: '3',\n        value: '3',\n    },\n    {\n        id: '4',\n        value: '5',\n    },\n    {\n        id: '5',\n        value: '8',\n    },\n    {\n        id: '6',\n        value: '13',\n    },\n    {\n        id: '7',\n        value: '21',\n    },\n    {\n        id: '8',\n        value: '34',\n    },\n    {\n        id: '9',\n        value: '55',\n    },\n    {\n        id: '10',\n        value: '89',\n    },\n];\n\nexport const powersOfTwoDeck: Card[] = [\n    {\n        id: '1',\n        value: '2',\n    },\n    {\n        id: '2',\n        value: '4',\n    },\n    {\n        id: '3',\n        value: '8',\n    },\n    {\n        id: '4',\n        value: '16',\n    },\n    {\n        id: '5',\n        value: '32',\n    },\n    {\n        id: '6',\n        value: '64',\n    },\n    {\n        id: '7',\n        value: '128',\n    },\n    {\n        id: '8',\n        value: '256',\n    },\n];\nexport const statisticCardsData: StatisticCard[] = [\n    {\n        id: '1',\n        value: '1',\n        voteResult: '45%',\n    },\n    {\n        id: '2',\n        value: '13',\n        voteResult: '10%',\n    },\n];\n\nexport const cardsBackground = [\n    {\n        id: '1',\n        class: 'bgMountains',\n    },\n    {\n        id: '2',\n        class: 'bgMoon',\n    },\n    {\n        id: '3',\n        class: 'bgEagle',\n    },\n    {\n        id: '4',\n        class: 'bgLeaf',\n    },\n];\n\nexport const usersWithScore: UserWithScore[] = [\n    {\n        firstName: 'Lily',\n        name: 'Lily Atkins',\n        jobPosition: 'Senior',\n        initials: 'LA',\n        userID: '1',\n        score: 'In progress',\n        roleInGame: 'player',\n    },\n    {\n        firstName: 'Barsik',\n        name: 'Barsik',\n        jobPosition: 'Junior lion',\n        initials: 'BB',\n        userID: '2',\n        score: '5 SP',\n        imgSrc: 'https://placekitten.com/200/200',\n        roleInGame: 'player',\n    },\n    {\n        firstName: 'Mark',\n        name: 'Mark Zuckerberg',\n        jobPosition: 'Facebook founder',\n        initials: 'MZ',\n        userID: '3',\n        score: '1 SP',\n        roleInGame: 'player',\n    },\n    {\n        firstName: 'Alex',\n        name: 'Alex',\n        jobPosition: 'Junior',\n        initials: 'AL',\n        userID: '4',\n        score: '10 SP',\n        roleInGame: 'player',\n    },\n    {\n        firstName: 'Mike',\n        name: 'Mike Smith',\n        jobPosition: 'Middle',\n        initials: 'MS',\n        userID: '5',\n        score: 'In progress',\n        roleInGame: 'player',\n    },\n];\n\nexport const selectedCards: Array<{ card: Card; user: User }> = [\n    {\n        card: { id: '1', value: '1' },\n        user: {\n            firstName: 'Lily',\n            lastName: 'Atkins',\n            roleInGame: 'dealer',\n            jobPosition: 'Senior',\n            initials: 'LA',\n            userID: '1',\n        },\n    },\n    {\n        card: { id: '2', value: '2' },\n        user: {\n            firstName: 'Barsik',\n            roleInGame: 'player',\n            jobPosition: 'Junior lion',\n            initials: 'BB',\n            userID: '2',\n            imgSrc: 'https://placekitten.com/200/200',\n        },\n    },\n    {\n        card: { id: '3', value: '3' },\n        user: {\n            firstName: 'Alex',\n            roleInGame: 'observer',\n            jobPosition: 'Junior',\n            initials: 'AL',\n            userID: '4',\n        },\n    },\n];\n\nexport const issues: Issue[] = [\n    {\n        id: '5',\n        current: true,\n        name: 'Issue 123',\n        priority: 'Critical',\n        score: '-',\n    },\n    {\n        id: '4',\n        current: false,\n        name: 'Issue 135',\n        priority: 'High',\n        score: '-',\n    },\n    {\n        id: '3',\n        current: false,\n        name: 'Issue 144',\n        priority: 'Medium',\n        score: '-',\n    },\n    {\n        id: '2',\n        current: false,\n        name: 'Issue 162',\n        priority: 'Low',\n        score: '-',\n    },\n    {\n        id: '1',\n        current: false,\n        name: 'Issue 163',\n        priority: 'Low',\n        score: '-',\n    },\n];\n\nexport const cardsDeck: Card[] = [\n    {\n        id: '1',\n        value: '1',\n    },\n    {\n        id: '2',\n        value: '2',\n    },\n    {\n        id: '3',\n        value: '3',\n    },\n    {\n        id: '4',\n        value: '5',\n    },\n    {\n        id: '5',\n        value: '8',\n    },\n    {\n        id: '6',\n        value: '13',\n    },\n];\n","import GitHubIcon from '@material-ui/icons/GitHub';\nimport React from 'react';\nimport { Author } from '../../shared/types';\nimport styles from './footer.module.scss';\n\nexport function GithubLink(props: { author: Author }): JSX.Element {\n    const {\n        author: { name, link },\n    } = props;\n    return (\n        <a className={styles.github} href={link} target=\"_blank\" rel=\"noreferrer\">\n            <GitHubIcon />\n            <span>{name}</span>\n        </a>\n    );\n}\n","import React from 'react';\nimport styles from './footer.module.scss';\nimport { authors } from '../../shared/data';\nimport { GithubLink } from './GithubLink';\n\nexport const Footer: React.FC = () => {\n    return (\n        <footer className={styles.footer}>\n            <div className={styles.footerContainer}>\n                {authors.map((author) => {\n                    return <GithubLink author={author} key={author.id} />;\n                })}\n                <a\n                    className={styles.rss}\n                    href=\"https://rs.school/react/\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <span className={styles.rssYear}>&apos;21</span>\n                </a>\n            </div>\n        </footer>\n    );\n};\n","import { CurrentUser, GlobalState } from '../types/GlobalState';\nimport { User } from '../types/user';\nimport { Card, GameSettingsInterface } from '../types/game';\n\nexport const initState: GlobalState = {\n    ws: { status: false, provider: undefined },\n    popup: '',\n    chatOpen: false,\n    temporaryDialerSettings: {\n        gameSettings: {\n            dealerIsPlaying: false,\n            scoreType: '',\n            shortScoreType: '',\n            isTimerNeeded: false,\n            changingCardInRoundEnd: false,\n        } as GameSettingsInterface,\n        cards: [],\n        cartBackClass: 'bgMountains',\n    },\n\n    currentUser: {\n        userID: '',\n        firstName: 'Alex',\n        lastName: 'Pirozerskiy',\n        roleInGame: 'player',\n        jobPosition: 'junior',\n        initials: 'AP',\n    } as CurrentUser,\n    game: {\n        title: '',\n        chatMessages: [],\n        gameID: undefined,\n        users: [],\n        status: 'new',\n        startTimer: undefined,\n        cartBackClass: 'bgMountains',\n        kickedUsersID: [],\n        vote: undefined,\n        pendingUsers: [],\n        statistic: [],\n        dealer: {\n            userID: '',\n            firstName: '',\n            lastName: '',\n            roleInGame: 'player',\n            jobPosition: '',\n            initials: '',\n        } as User,\n        issues: [],\n        cards: [],\n        selectedCards: [\n            {\n                card: {\n                    id: '123',\n                    value: '1',\n                } as Card,\n                user: {\n                    userID: '3434',\n                    firstName: 'Alex',\n                    lastName: 'Pirozerskiy',\n                    roleInGame: 'player',\n                    jobPosition: 'junior',\n                    initials: 'AP',\n                } as User,\n            },\n        ],\n        gameSettings: {\n            dealerIsPlaying: false,\n            scoreType: '',\n            shortScoreType: '',\n            isTimerNeeded: false,\n            changingCardInRoundEnd: false,\n        } as GameSettingsInterface,\n        round: {\n            issueID: '',\n            roundID: '',\n            status: 'pending',\n        },\n    },\n};\n","import React from 'react';\nimport { Action, GlobalState } from '../types/GlobalState';\nimport { initState } from './InitState';\n\nexport const GlobalContext = React.createContext<{\n    globalState: GlobalState;\n    dispatch: (arg: Action) => void;\n}>({\n    globalState: initState,\n    dispatch: () => {},\n});\n","export const ADD_CHAT_MESSAGE = 'addChatMessage';\nexport const SET_SOCKET = 'setSocket';\nexport const SET_SOCKET_STATUS = 'setSocketStatus';\nexport const ADD_WS_PROVIDER_TO_GLOBAL_STATE = 'addWSProviderToGlobalState';\nexport const SET_GAME = 'setGame';\nexport const SET_CURRENT_USER = 'setCurrentUser';\nexport const INIT_GAME = 'initGame';\nexport const SET_POPUP = 'setPopup';\nexport const SET_GAME_SETTINGS = 'setGameSettings';\nexport const SHOW_CHAT = 'showChat';\nexport const SET_GAME_TEMP_SETTINGS = 'setGameTemporarySettings';\n","import React, { Dispatch, useContext } from 'react';\nimport { Button as MaterialButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { Action, PopupType } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { SET_POPUP } from '../../state/ActionTypesConstants';\nimport styles from './IssueButton.module.scss';\n\nexport const IssueButton: React.FC = (): JSX.Element => {\n    const { dispatch }: { dispatch: Dispatch<Action> } = useContext(GlobalContext);\n    const handlerClick = () => {\n        dispatch({ type: SET_POPUP, payLoad: 'createIssue' as PopupType });\n    };\n    return (\n        <MaterialButton\n            className={styles.issueBtn}\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={handlerClick}\n            endIcon={<AddIcon />}\n        >\n            create new issue\n        </MaterialButton>\n    );\n};\n","import Button from '@material-ui/core/Button/Button';\nimport InputLabel from '@material-ui/core/InputLabel/InputLabel';\nimport TextField from '@material-ui/core/TextField/TextField';\nimport React, { Dispatch, useContext, useState } from 'react';\nimport styles from './CardAddForm.module.scss';\nimport { Action, GlobalState, PopupType } from '../../types/GlobalState';\nimport { Card } from '../../types/game';\nimport { GlobalContext } from '../../state/Context';\nimport { SET_GAME_TEMP_SETTINGS, SET_POPUP } from '../../state/ActionTypesConstants';\n\nexport const CardEditForm: React.FC<{ id: string }> = ({ id }) => {\n    const { globalState, dispatch }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const [inputValue, setInputValue] = useState(\n        (globalState.temporaryDialerSettings.cards.find((card) => card.id === id) || { value: '' })\n            .value,\n    );\n\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        const newCards = globalState.temporaryDialerSettings.cards.map((card) => {\n            if (card.id === id) return { ...card, value: inputValue };\n            return card;\n        });\n\n        dispatch({\n            type: SET_GAME_TEMP_SETTINGS,\n            payLoad: {\n                property: 'cards',\n                value: newCards as Card[],\n            },\n        });\n        dispatch({ type: SET_POPUP, payLoad: '' as PopupType });\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className={styles.modal}>\n            <div className={styles.registration}>\n                <div className={styles.top}>\n                    <h2>Edit Card</h2>\n                </div>\n                <div className={styles.inputs}>\n                    <InputLabel htmlFor=\"value\">\n                        Value:\n                        <TextField\n                            required\n                            value={inputValue}\n                            onChange={(e) => setInputValue(e.target.value)}\n                            id=\"filled-error-helper-text\"\n                            type=\"text\"\n                            name=\"value\"\n                            variant=\"outlined\"\n                        />\n                    </InputLabel>\n                </div>\n            </div>\n            <div className={styles.buttons}>\n                <Button color=\"primary\" className={styles.btn} type=\"submit\" variant=\"contained\">\n                    Confirm\n                </Button>\n                <Button\n                    color=\"primary\"\n                    className={styles.btn}\n                    variant=\"outlined\"\n                    onClick={() => dispatch({ type: SET_POPUP, payLoad: '' as PopupType })}\n                >\n                    Cancel\n                </Button>\n            </div>\n        </form>\n    );\n};\n","import React, { Dispatch, useContext } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Modal from '@material-ui/core/Modal';\nimport styles from './gameCard.module.scss';\nimport { ITEM_HEIGHT } from './constants';\nimport { Action, GlobalState, PopupType } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { SET_GAME_TEMP_SETTINGS, SET_POPUP } from '../../state/ActionTypesConstants';\nimport { Card } from '../../types/game';\nimport { CardEditForm } from '../CardAddForm/CardEditForm';\n\ntype Props = {\n    id: string;\n};\nexport const CardMenu: React.FC<Props> = (props: Props): JSX.Element => {\n    const { globalState, dispatch }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const { id } = props;\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n    const open = Boolean(anchorEl);\n    const handleEdit = () => {\n        dispatch({ type: SET_POPUP, payLoad: 'editCard' as PopupType });\n        setAnchorEl(null);\n    };\n    const handleDelete = () => {\n        const newCards = globalState.temporaryDialerSettings.cards.filter((card) => card.id !== id);\n        dispatch({\n            type: SET_GAME_TEMP_SETTINGS,\n            payLoad: {\n                property: 'cards',\n                value: newCards as Card[],\n            },\n        });\n    };\n\n    const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <>\n            <IconButton\n                aria-label=\"more\"\n                aria-controls=\"long-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n                className={styles.menuBtn}\n            >\n                <MoreVertIcon />\n            </IconButton>\n            <Menu\n                id=\"long-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                PaperProps={{\n                    style: {\n                        maxHeight: ITEM_HEIGHT * 4.5,\n                        width: '20ch',\n                    },\n                }}\n            >\n                <MenuItem onClick={handleEdit}>Edit</MenuItem>\n                <MenuItem onClick={handleDelete}>Delete</MenuItem>\n            </Menu>\n            <Modal\n                open={globalState.popup === 'editCard'}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <CardEditForm id={id as string} />\n            </Modal>\n        </>\n    );\n};\n","import { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { Paper, Typography } from '@material-ui/core';\nimport { CardMenu } from './CardMenu';\nimport styles from './gameCard.module.scss';\n\ntype Props = {\n    value: string;\n    scoreType: string;\n    isEditable: boolean;\n    isActiveCard: boolean;\n    onClick?: () => void;\n    id: string;\n};\n\nconst useStyles = makeStyles((theme) => ({\n    activeCard: (props: Props) => ({\n        backgroundColor: props.isActiveCard\n            ? theme.palette.secondary.main\n            : theme.palette.background.default,\n        transform: props.isActiveCard ? 'scale(1.1)' : 'scale(1)',\n    }),\n}));\n\nexport const GameCard: React.FC<Props> = (props: Props) => {\n    const { isActiveCard } = props;\n    const classes = useStyles(props);\n    const { value, scoreType, isEditable, onClick, id } = props;\n    return (\n        <Paper\n            elevation={isActiveCard ? 9 : 3}\n            className={styles.card}\n            classes={{ root: classes.activeCard }}\n            onClick={() => onClick && onClick()}\n        >\n            <div className={styles.container}>\n                <div className={styles.header}>\n                    <Typography className={styles.left} variant=\"subtitle1\">\n                        {scoreType}\n                    </Typography>\n                    {isEditable && <CardMenu id={id} />}\n                </div>\n                <Typography className={styles.center} variant=\"h2\">\n                    {value}\n                </Typography>\n                <Typography className={styles.right} variant=\"subtitle1\">\n                    {scoreType}\n                </Typography>\n            </div>\n        </Paper>\n    );\n};\n\nGameCard.defaultProps = {\n    onClick: () => {},\n};\n","import React, { Dispatch, useContext } from 'react';\nimport { Paper } from '@material-ui/core';\nimport clsx from 'clsx';\nimport styles from './gameCard.module.scss';\nimport { SET_GAME_TEMP_SETTINGS } from '../../state/ActionTypesConstants';\nimport { GlobalContext } from '../../state/Context';\nimport { Action, GlobalState } from '../../types/GlobalState';\n\ntype Props = {\n    back: string;\n};\nexport const CardBack = (props: Props): JSX.Element => {\n    const { globalState, dispatch }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n\n    const { back } = props;\n    const handler = () => {\n        dispatch({\n            type: SET_GAME_TEMP_SETTINGS,\n            payLoad: {\n                property: 'cartBackClass',\n                value: back,\n            },\n        });\n    };\n    return (\n        <div\n            className={\n                globalState.temporaryDialerSettings.cartBackClass === back ? styles.current : ''\n            }\n        >\n            <Paper\n                onClick={() => handler()}\n                elevation={3}\n                className={clsx(styles.card, styles[back])}\n            />\n        </div>\n    );\n};\n","import { makeStyles } from '@material-ui/core/styles';\nimport React, { useState, useContext } from 'react';\nimport FreeBreakfastOutlinedIcon from '@material-ui/icons/FreeBreakfastOutlined';\nimport { Paper } from '@material-ui/core';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { GameCard } from './GameCard';\nimport { Card } from '../../types/game';\n\nimport styles from './gameCard.module.scss';\nimport { fibonacciDeck, powersOfTwoDeck } from '../../shared/data';\n\nconst useStyles = makeStyles((theme) => ({\n    activeCard: (props: { isActiveCard: boolean }) => ({\n        backgroundColor: props.isActiveCard\n            ? theme.palette.secondary.main\n            : theme.palette.background.default,\n        transform: props.isActiveCard ? 'scale(1.1)' : 'scale(1)',\n    }),\n}));\n\nexport const CardsDeck: React.FC = () => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const [activeCardID, setActiveCardID] = useState<string>('');\n    const classes = useStyles({ isActiveCard: activeCardID === '' });\n    const { cards } = globalState.game;\n    const { shortScoreType, cardsDeckType } = globalState.game.gameSettings;\n    let visibleCards;\n    switch (cardsDeckType) {\n        case 'fibonacci':\n            visibleCards = fibonacciDeck;\n            break;\n        case 'powersOfTwo':\n            visibleCards = powersOfTwoDeck;\n            break;\n        case 'custom':\n            visibleCards = cards;\n            break;\n        default:\n            visibleCards = fibonacciDeck;\n    }\n    const handler = async (card: Card) => {\n        setActiveCardID(card.id);\n        if (globalState.game.status === 'going')\n            await globalState.ws.provider?.sendChooseCard(card);\n        setActiveCardID(card.id);\n    };\n\n    return (\n        <div className={styles.demo}>\n            {visibleCards.map((el: Card) => {\n                return (\n                    <GameCard\n                        isActiveCard={el.id === activeCardID}\n                        key={el.id}\n                        value={el.value}\n                        isEditable={false}\n                        scoreType={shortScoreType}\n                        onClick={() => {\n                            handler(el);\n                        }}\n                        id={el.id}\n                    />\n                );\n            })}\n            <Paper\n                elevation={!activeCardID ? 9 : 3}\n                className={styles.card}\n                classes={{ root: classes.activeCard }}\n                onClick={() => {\n                    setActiveCardID('');\n                    handler({ id: '', value: 'cup' });\n                }}\n            >\n                <FreeBreakfastOutlinedIcon className={styles.coffee} />\n            </Paper>\n        </div>\n    );\n};\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\ntype Props = {\n    name: string;\n};\n\nexport const AddUserPopup: React.FC<Props> = (props: Props) => {\n    const { name } = props;\n    const [open, setOpen] = React.useState(false);\n\n    // Need to show dealer a message to setOpen(true);\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">\n                    {`${name} wants to connect to this game`}\n                </DialogTitle>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Disagree\n                    </Button>\n                    <Button onClick={handleClose} color=\"primary\" autoFocus>\n                        Agree\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n};\n","import { Card, StatisticCard } from '../../types/game';\nimport { User } from '../../types/user';\n\nexport function makeStatisticCards(\n    selectedCards: Array<{ card: Card | undefined; user: User }>,\n): StatisticCard[] {\n    const values = selectedCards.map((obj) => (!obj.card ? ('?' as any) : obj.card.value));\n    const obj = values.reduce((previousValue, currentValue) => {\n        const prev = previousValue;\n        const curr = currentValue;\n        const res = ((prev[curr] = prev[curr] + 1 || 1), prev);\n        return res;\n    }, {});\n    return Object.entries(obj).map((item) => {\n        const key: string = item[0] as string;\n        const value: number = item[1] as number;\n        return {\n            id:\n                key === 'cup'\n                    ? ''\n                    : new Date().getTime().toString(36) + Math.random().toString(36).slice(2),\n            value: key,\n            voteResult: `${Math.ceil((value / values.length) * 100)}%`,\n        };\n    });\n}\n","import React, { useContext } from 'react';\nimport FreeBreakfastOutlinedIcon from '@material-ui/icons/FreeBreakfastOutlined';\nimport { Paper, Typography } from '@material-ui/core';\nimport { GameCard } from '../GameCards';\nimport styles from './statistic.module.scss';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { User } from '../../types/user';\nimport { Card, StatisticCard } from '../../types/game';\nimport { makeStatisticCards } from './makeStatistic';\n\nexport const Statistic: React.FC = () => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const { selectedCards }: { selectedCards: Array<{ card: Card | undefined; user: User }> } =\n        globalState.game;\n\n    return (\n        <div className={styles.demo}>\n            {makeStatisticCards(selectedCards).map((el: StatisticCard) => {\n                return (\n                    <div className={styles.container} key={el.id}>\n                        {el.id ? (\n                            <>\n                                {' '}\n                                <GameCard\n                                    isActiveCard={false}\n                                    value={el.value}\n                                    isEditable={false}\n                                    scoreType={globalState.game.gameSettings.shortScoreType}\n                                    id={el.id}\n                                />\n                                <Typography variant=\"subtitle1\">{el.voteResult}</Typography>\n                            </>\n                        ) : (\n                            <>\n                                <Paper elevation={3} className={styles.card}>\n                                    <FreeBreakfastOutlinedIcon className={styles.coffee} />\n                                </Paper>\n                                <Typography variant=\"subtitle1\">{el.voteResult}</Typography>\n                            </>\n                        )}\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n","import { useTheme } from '@material-ui/core';\nimport React from 'react';\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer';\nimport styles from './timer.module.scss';\n\ntype Props = {\n    seconds: number;\n    start: boolean;\n    onComplete: () => void;\n};\nexport const Timer: React.FC<Props> = (props: Props): JSX.Element => {\n    const { seconds, start, onComplete } = props;\n    const theme = useTheme();\n    const renderTime = (dimension: string, time: number) => {\n        return (\n            <div>\n                <div className={styles.time}>{time}</div>\n                <div>{dimension}</div>\n            </div>\n        );\n    };\n    return (\n        <CountdownCircleTimer\n            isPlaying={start}\n            size={110}\n            strokeWidth={10}\n            colors={[\n                [theme.palette.primary.main, 0.25],\n                [theme.palette.primary.light, 0.25],\n                [theme.palette.secondary.main, 0.25],\n                [theme.palette.primary.dark, 0.25],\n            ]}\n            duration={seconds}\n            onComplete={() => {\n                onComplete();\n                return [false, 0];\n            }}\n        >\n            {({ remainingTime }) => renderTime('seconds', remainingTime ?? seconds)}\n        </CountdownCircleTimer>\n    );\n};\n","import { Avatar } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport BlockIcon from '@material-ui/icons/Block';\nimport clsx from 'clsx';\nimport React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: (props: Props) => {\n        if (props.size === 'large') {\n            return {\n                width: 250,\n                height: 60,\n                boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\n                marginBottom: 10,\n                userSelect: 'none',\n            };\n        }\n        return {\n            width: 180,\n            height: 45,\n            boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\n            marginBottom: 10,\n            userSelect: 'none',\n        };\n    },\n    small: {\n        width: theme.spacing(4),\n        height: theme.spacing(4),\n    },\n    large: {\n        width: theme.spacing(5),\n        height: theme.spacing(5),\n    },\n    avatar: {\n        background: '#60DABF',\n        boxShadow: 'inset 0px 4px 4px rgba(0, 0, 0, 0.25)',\n        textShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\n        fontWeight: 'bold',\n        marginLeft: theme.spacing(1),\n    },\n    title: (props: Props) => {\n        if (props.size === 'large') {\n            return {\n                fontSize: '1rem',\n            };\n        }\n        return {\n            fontSize: '0.8rem',\n        };\n    },\n    caption: (props: Props) => {\n        if (props.size === 'large') {\n            return {\n                fontSize: '0.8rem',\n            };\n        }\n        return {\n            fontSize: '0.7rem',\n        };\n    },\n    button: (props: Props) => {\n        if (props.size === 'large') {\n            return {\n                maxWidth: theme.spacing(6),\n                minWidth: theme.spacing(6),\n                maxHeight: theme.spacing(6),\n                minHeight: theme.spacing(6),\n                fontSize: '1.5rem',\n            };\n        }\n        return {\n            maxWidth: theme.spacing(4),\n            minWidth: theme.spacing(4),\n            maxHeight: theme.spacing(4),\n            minHeight: theme.spacing(4),\n            fontSize: '1rem',\n        };\n    },\n    icon: ({ size }: Props) => ({\n        fontSize: size === 'large' ? '1.5rem' : '1rem',\n    }),\n    current: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n}));\n\ntype Props = {\n    currentUser?: boolean;\n    name: string;\n    jobPosition: string;\n    initials: string;\n    imgSrc?: string;\n    userID: string;\n    roleInGame: 'observer' | 'player' | 'dealer';\n    size: 'large' | 'small';\n};\n\nexport function UserCard(props: Props): JSX.Element {\n    const classes = useStyles(props);\n    const { name, jobPosition, size, imgSrc, initials, currentUser, userID, roleInGame } = props;\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const { ws, game } = globalState;\n\n    const clickHandler = async (): Promise<void> => {\n        if (globalState.currentUser.roleInGame === 'dealer') {\n            await ws.provider?.changeValueOfGameProperty('kickedUsersID', [\n                ...game.kickedUsersID,\n                userID,\n            ]);\n            const users = game.users.filter((user) => user.userID !== userID);\n            await ws.provider?.changeValueOfGameProperty('users', users);\n        } else {\n            if (game.vote) return;\n            if (game.users.length < 4) {\n                alert('player less then 3');\n                return;\n            }\n            ws.provider?.changeValueOfGameProperty('vote', {\n                author: globalState.currentUser,\n                yes: 1,\n                no: 0,\n                kickID: userID,\n                votedUsersID: [globalState.currentUser.userID],\n            });\n        }\n    };\n\n    return (\n        <Paper className={clsx(classes.paper, { [classes.current]: currentUser })}>\n            <Grid container spacing={1} alignItems=\"center\" wrap=\"nowrap\">\n                <Grid item>\n                    {imgSrc ? (\n                        <Avatar\n                            className={clsx(classes.avatar, {\n                                [classes.large]: size === 'large',\n                                [classes.small]: size === 'small',\n                            })}\n                            src={imgSrc}\n                            alt={name}\n                        >\n                            {initials}\n                        </Avatar>\n                    ) : (\n                        <Avatar\n                            className={clsx(classes.avatar, {\n                                [classes.large]: size === 'large',\n                                [classes.small]: size === 'small',\n                            })}\n                        >\n                            {initials}\n                        </Avatar>\n                    )}\n                </Grid>\n                <Grid item xs={12} sm container alignItems=\"center\">\n                    <Grid item xs container direction=\"column\" spacing={1}>\n                        <Grid item xs>\n                            <Typography variant=\"h6\" className={classes.title}>\n                                {name}\n                            </Typography>\n                            <Typography\n                                variant=\"caption\"\n                                color=\"textSecondary\"\n                                className={classes.caption}\n                            >\n                                {jobPosition}\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid item>\n                        {(!(currentUser || globalState.game.vote || roleInGame === 'dealer') ||\n                            (globalState.currentUser.roleInGame === 'dealer' &&\n                                roleInGame !== 'dealer')) && (\n                            <Button\n                                className={classes.button}\n                                aria-label=\"kick\"\n                                onClick={() => clickHandler()}\n                            >\n                                <BlockIcon className={classes.icon} />\n                            </Button>\n                        )}\n                    </Grid>\n                </Grid>\n            </Grid>\n        </Paper>\n    );\n}\n\nUserCard.defaultProps = {\n    imgSrc: undefined,\n    currentUser: false,\n};\n","import React from 'react';\nimport { UserCard } from './UserCard';\n\nexport const DemoUserCards: React.FC = () => {\n    return (\n        <>\n            <UserCard\n                name=\"Mark\"\n                initials=\"MZ\"\n                jobPosition=\"junior front-end developer\"\n                userID=\"1\"\n                size=\"large\"\n                roleInGame=\"player\"\n            />\n            <UserCard\n                name=\"Linda Atkins\"\n                initials=\"LA\"\n                jobPosition=\"senior\"\n                currentUser\n                userID=\"1\"\n                size=\"large\"\n                roleInGame=\"player\"\n            />\n            <UserCard\n                name=\"Barsik\"\n                initials=\"JL\"\n                jobPosition=\"junior lion\"\n                imgSrc=\"https://placekitten.com/200/200\"\n                userID=\"1\"\n                size=\"large\"\n                roleInGame=\"player\"\n            />\n            <UserCard\n                name=\"Max \"\n                initials=\"MM\"\n                jobPosition=\"middle\"\n                imgSrc=\"https://image.freepik.com/free-photo/handsome-confident-smiling-man-with-hands-crossed-chest_176420-18743.jpg\"\n                userID=\"2\"\n                size=\"large\"\n                roleInGame=\"player\"\n            />\n        </>\n    );\n};\n","import Button from '@material-ui/core/Button/Button';\nimport React, { Dispatch, useContext } from 'react';\nimport styles from './LetInUserToGameForm.module.scss';\nimport { Action, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { User } from '../../types/user';\n\ntype Props = {\n    user: User;\n};\n\nexport const LetInUserToGameForm = (props: Props): JSX.Element => {\n    const { globalState }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const { user } = props;\n\n    const getOutPendingUsers = async () => {\n        await globalState.ws.provider?.changeValueOfGameProperty('pendingUsers', [\n            ...globalState.game.pendingUsers.filter(\n                (pendingUser) => pendingUser.userID !== user.userID,\n            ),\n        ]);\n    };\n    if (globalState.game.users.some((_user) => _user.userID === user.userID)) getOutPendingUsers();\n\n    const letIn = async () => {\n        await globalState.ws.provider?.changeValueOfGameProperty('users', [\n            ...globalState.game.users,\n            user,\n        ]);\n        await getOutPendingUsers();\n        await globalState.ws.provider?.changeValueOfGameProperty('selectedCards', [\n            ...globalState.game.selectedCards,\n            { card: undefined, user },\n        ]);\n    };\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        await letIn();\n    };\n    const cancelHandler = () => {\n        globalState.ws.provider?.changeValueOfGameProperty('kickedUsersID', [\n            ...globalState.game.kickedUsersID,\n            user.userID,\n        ]);\n        getOutPendingUsers();\n    };\n\n    if (globalState.game.gameSettings.freeGameEnter) letIn();\n    return (\n        <form onSubmit={handleSubmit} className={styles.modal}>\n            <div className={styles.registration}>\n                <div className={styles.top}>\n                    <h2>Let in user</h2>\n                </div>\n            </div>\n            <h4>{`let the user ${user.firstName} into the game`}</h4>\n            <div className={styles.buttons}>\n                <Button color=\"primary\" className={styles.btn} type=\"submit\" variant=\"contained\">\n                    let in user\n                </Button>\n                <Button\n                    color=\"primary\"\n                    className={styles.btn}\n                    variant=\"outlined\"\n                    onClick={cancelHandler}\n                >\n                    Kick him/her\n                </Button>\n            </div>\n        </form>\n    );\n};\n","import React, { useContext, useState } from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport { Button, Link, TextField } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport SaveIcon from '@material-ui/icons/Save';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { Issue } from '../../types/game';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            minWidth: 250,\n            width: 250,\n            boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\n            marginBottom: 10,\n        },\n        cardContainer: {\n            position: 'relative',\n            padding: 0,\n            paddingLeft: 5,\n        },\n        button: {\n            position: 'absolute',\n            top: 5,\n            right: 0,\n        },\n        title: {\n            lineHeight: 1,\n        },\n        caption: {\n            fontSize: '0.6rem',\n        },\n        current: {\n            background: theme.palette.secondary.main,\n        },\n        expand: {\n            transform: 'rotate(0deg)',\n            marginLeft: 'auto',\n            transition: theme.transitions.create('transform', {\n                duration: theme.transitions.duration.shortest,\n            }),\n        },\n        expandOpen: {\n            transform: 'rotate(180deg)',\n        },\n        link: {\n            wordWrap: 'break-word',\n        },\n        mt: {\n            marginTop: 10,\n        },\n    }),\n);\n\ntype Props = {\n    current?: boolean;\n    name: string;\n    priority: 'Critical' | 'High' | 'Medium' | 'Low';\n    dealer?: boolean;\n    id: string;\n    score: string;\n    link: string | undefined;\n    isRoundGoing: boolean;\n};\n\nexport const IssueCardExpandable: React.FC<Props> = (props: Props) => {\n    const { name, current, priority, dealer, id, link, score, isRoundGoing } = props;\n    const classes = useStyles();\n\n    const [expanded, setExpanded] = useState(false);\n    const [newScore, setNewScore] = useState(score);\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const handleExpandClick = () => {\n        setExpanded(!expanded);\n    };\n\n    const handleDeleteIssue = () => {\n        const newIssues = globalState.game.issues.filter((issue: Issue) => id !== issue.id);\n        globalState.ws.provider?.changeValueOfGameProperty('issues', newIssues);\n    };\n\n    const handleScoreSave = () => {\n        const issues = globalState.game.issues.map((item) => {\n            return item.id === id ? { ...item, score: newScore } : item;\n        });\n        if (dealer) globalState.ws.provider?.changeValueOfGameProperty('issues', issues);\n    };\n\n    const handleCurrentIssue = () => {\n        const issues = globalState.game.issues.map((item) => {\n            return { ...item, current: item.id === id };\n        });\n        if (dealer) globalState.ws.provider?.changeValueOfGameProperty('issues', issues);\n    };\n\n    return (\n        <Card className={clsx(classes.root, { [classes.current]: current })} variant=\"outlined\">\n            <CardContent className={classes.cardContainer}>\n                <Typography className={classes.caption} variant=\"caption\" color=\"textSecondary\">\n                    {current ? 'CURRENT' : ' '}\n                </Typography>\n                <Typography variant=\"h6\" className={classes.title}>\n                    {name}\n                </Typography>\n                <Typography color=\"textSecondary\" variant=\"caption\" className={classes.caption}>\n                    {priority} priority\n                </Typography>\n                <CardActions className={classes.button} disableSpacing>\n                    {dealer && !current && (\n                        <Button disabled={!globalState.ws.status} onClick={handleDeleteIssue}>\n                            <CloseIcon />\n                        </Button>\n                    )}\n                    <IconButton\n                        className={clsx(classes.expand, {\n                            [classes.expandOpen]: expanded,\n                        })}\n                        onClick={handleExpandClick}\n                        aria-expanded={expanded}\n                        aria-label=\"show more\"\n                    >\n                        <ExpandMoreIcon />\n                    </IconButton>\n                </CardActions>\n            </CardContent>\n            <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                <CardContent>\n                    <Typography variant=\"subtitle1\">Link:</Typography>\n                    <Link href={link} target=\"_blank\" className={classes.link}>\n                        {link}\n                    </Link>\n                    <TextField\n                        className={classes.mt}\n                        id=\"outlined-read-only-input\"\n                        label=\"Score:\"\n                        value={newScore}\n                        onChange={(event) => {\n                            return setNewScore(event.target.value || '');\n                        }}\n                        InputProps={{\n                            readOnly: !dealer,\n                            endAdornment: (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"outlined\"\n                                    onClick={handleScoreSave}\n                                    endIcon={<SaveIcon />}\n                                >\n                                    Save\n                                </Button>\n                            ),\n                        }}\n                    />\n                    <Button\n                        className={classes.mt}\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        onClick={handleCurrentIssue}\n                        endIcon={<ForumIcon />}\n                        disabled={isRoundGoing}\n                    >\n                        Set as current issue\n                    </Button>\n                </CardContent>\n            </Collapse>\n        </Card>\n    );\n};\n\nIssueCardExpandable.defaultProps = {\n    current: false,\n    dealer: false,\n};\n","import Button from '@material-ui/core/Button/Button';\nimport InputLabel from '@material-ui/core/InputLabel/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem/MenuItem';\nimport Select from '@material-ui/core/Select/Select';\nimport TextField from '@material-ui/core/TextField/TextField';\nimport React, { Dispatch, useContext, useState } from 'react';\nimport styles from './IssueCreateForm.module.scss';\nimport { Action, GlobalState, PopupType } from '../../types/GlobalState';\nimport { Issue, Priority } from '../../types/game';\nimport { GlobalContext } from '../../state/Context';\nimport { SET_POPUP } from '../../state/ActionTypesConstants';\n\nexport const IssueCreateForm: React.FC = () => {\n    const { globalState, dispatch }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const [issue, setIssue] = useState<Issue>({\n        name: '',\n        link: '',\n        priority: 'Medium',\n        id: new Date().getTime().toString(36) + Math.random().toString(36).slice(2),\n        dealer: true,\n        score: '-',\n        current: globalState.game.issues.length === 0,\n    });\n\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        await globalState.ws.provider?.changeValueOfGameProperty('issues', [\n            ...globalState.game.issues,\n            issue,\n        ]);\n        dispatch({ type: SET_POPUP, payLoad: '' as PopupType });\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className={styles.modal}>\n            <div className={styles.registration}>\n                <div className={styles.top}>\n                    <h2>Create Issue</h2>\n                </div>\n                <div className={styles.inputs}>\n                    <InputLabel htmlFor=\"name\">\n                        Title:\n                        <TextField\n                            required\n                            value={issue.name}\n                            onChange={(e) => setIssue({ ...issue, name: e.target.value })}\n                            id=\"filled-error-helper-text\"\n                            type=\"text\"\n                            name=\"name\"\n                            variant=\"outlined\"\n                            inputProps={{\n                                maxLength: 10,\n                            }}\n                        />\n                    </InputLabel>\n                    <InputLabel htmlFor=\"link\">\n                        Link:\n                        <TextField\n                            required\n                            value={issue.link}\n                            onChange={(e) => setIssue({ ...issue, link: e.target.value })}\n                            id=\"filled-error-helper-text\"\n                            type=\"text\"\n                            name=\"link\"\n                            variant=\"outlined\"\n                        />\n                    </InputLabel>\n\n                    <InputLabel id=\"priority\">\n                        Priority\n                        <Select\n                            labelId=\"priority\"\n                            id=\"filled-error-helper-text\"\n                            value={issue.priority}\n                            onChange={(e) => {\n                                setIssue({ ...issue, priority: e.target.value as Priority });\n                            }}\n                            variant=\"outlined\"\n                        >\n                            {['Critical', 'High', 'Medium', 'Low'].map((item) => (\n                                <MenuItem key={item} value={item}>\n                                    {item}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </InputLabel>\n                </div>\n            </div>\n            <div className={styles.buttons}>\n                <Button\n                    disabled={!globalState.ws.status}\n                    color=\"primary\"\n                    className={styles.btn}\n                    type=\"submit\"\n                    variant=\"contained\"\n                >\n                    Confirm\n                </Button>\n                <Button\n                    color=\"primary\"\n                    className={styles.btn}\n                    variant=\"outlined\"\n                    onClick={() => dispatch({ type: SET_POPUP, payLoad: '' as PopupType })}\n                >\n                    Cancel\n                </Button>\n            </div>\n        </form>\n    );\n};\n","import clsx from 'clsx';\nimport React, { Dispatch, useContext, useEffect, useState } from 'react';\nimport {\n    Typography,\n    Grid,\n    Theme,\n    createStyles,\n    makeStyles,\n    Button,\n    Paper,\n    Box,\n    Modal,\n    IconButton,\n    Collapse,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport { useHistory } from 'react-router-dom';\nimport { IssueButton } from '../buttons';\nimport { CardsDeck } from '../GameCards';\nimport { AddUserPopup } from '../popups';\nimport { Statistic } from '../statistic';\nimport { Timer } from '../timer';\nimport { UserCard } from '../UserCard';\nimport { Action, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { User } from '../../types/user';\nimport { LetInUserToGameForm } from '../LetInUserToGameForm';\nimport { IssueCardExpandable } from '../IssueCard/IssueCardExpandable';\nimport { IssueCreateForm } from '../IssueCreateForm';\nimport { Card, Issue, StatisticCard } from '../../types/game';\nimport { gameExit } from './exitGame';\nimport { gameOver } from './stopGame';\nimport { saveStatistic } from '../Result/saveStatistic';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        mainContainer: {\n            color: theme.palette.primary.dark,\n        },\n        rightBorder: {\n            borderRight: `2px solid ${theme.palette.primary.dark}`,\n        },\n        column: {\n            flexDirection: 'column',\n        },\n        bottomSpace: {\n            marginBottom: 20,\n        },\n        topSpace: {\n            marginTop: 40,\n        },\n        minWidth: {\n            minWidth: 125,\n            cursor: 'default',\n        },\n        rightContainer: {\n            height: '50%',\n        },\n        minimize: {\n            transform: 'scale(0.7)',\n        },\n    }),\n);\n\nexport const Game: React.FC = () => {\n    const { globalState }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const { game } = globalState;\n    const isDealer = globalState.currentUser.roleInGame === 'dealer';\n    const isObserver = globalState.currentUser.roleInGame === 'observer';\n    const classes = useStyles();\n    const [key, setKey] = useState(0);\n    const [startTimer, setStartTimer] = useState(false);\n    const [roundOver, setRoundOver] = useState(false);\n    const [statistic, setStatistic] = useState<{ issue: Issue; statisticCards: StatisticCard[] }[]>(\n        [],\n    );\n    useEffect(() => {\n        const { provider } = globalState.ws;\n        provider?.updateProviderState(globalState);\n        if (!globalState.ws.socket) provider?.connects();\n    }, [globalState]);\n    const history = useHistory();\n    const goToMain = () => {\n        history.push(`/`);\n    };\n    const goToResult = async () => {\n        await globalState.ws.provider?.changeValueOfGameProperty('statistic', statistic);\n        setTimeout(() => history.push(`/${globalState.game.gameID}/result`), 1000);\n    };\n    const { round } = game;\n    const resetSelectedCards = async () => {\n        if (!isDealer) return;\n        await globalState.ws.provider?.changeValueOfGameProperty(\n            'selectedCards',\n            game.users.map((user: User) => {\n                return { card: undefined, user };\n            }),\n        );\n    };\n\n    useEffect(() => {\n        const asyncFunc = async () => {\n            if (game.round.status === 'going') {\n                setStartTimer(true);\n                setRoundOver(false);\n                return;\n            }\n            if (game.round.status === 'over' && !roundOver) {\n                setRoundOver(true);\n                setStartTimer(false);\n                return;\n            }\n            if (game.round.status === 'pending') {\n                setRoundOver(false);\n                setStartTimer(false);\n            }\n        };\n        asyncFunc();\n    }, [globalState, game, setStartTimer, startTimer, roundOver, setRoundOver]);\n\n    useEffect(() => {\n        setStatistic(saveStatistic(game.issues, game.statistic, game.selectedCards));\n    }, [game.issues, game.statistic, game.selectedCards, setStatistic]);\n\n    const [isLastIssue, setIsLastIssue] = useState(false);\n    const scrumMaster = game.users.find((user: User) => user.roleInGame === 'dealer');\n    const { issues } = game;\n    const { dealerIsPlaying } = globalState.game.gameSettings;\n    const { isTimerNeeded, timer } = game.gameSettings;\n    const runRoundHandler = async () => {\n        await globalState.ws.provider?.changeValueOfGameProperty('round', {\n            ...round,\n            status: 'going',\n        });\n        await globalState.ws.provider?.changeValueOfGameProperty('status', 'going');\n    };\n    const overRoundHandler = async () => {\n        if (!isDealer) return;\n        await globalState.ws.provider?.changeValueOfGameProperty('round', {\n            ...round,\n            status: 'over',\n        });\n    };\n\n    const handleNextIssue = async () => {\n        let currentItemFound = false;\n        let newNextIssueFound = false;\n        let newIssues = issues.map((item) => {\n            if (item.current) {\n                currentItemFound = true;\n                return { ...item, current: false };\n            }\n            if (currentItemFound) {\n                if (item.score === '-' && !newNextIssueFound) {\n                    newNextIssueFound = true;\n                    return { ...item, current: true };\n                }\n            }\n            return item;\n        });\n        if (!newNextIssueFound) {\n            newIssues = newIssues.map((item) => {\n                if (item.score === '-' && !newNextIssueFound) {\n                    newNextIssueFound = true;\n                    return { ...item, current: true };\n                }\n\n                return item;\n            });\n        }\n        if (newNextIssueFound) {\n            if (isDealer) {\n                await globalState.ws.provider?.changeValueOfGameProperty('issues', newIssues);\n                await globalState.ws.provider?.changeValueOfGameProperty('round', {\n                    ...round,\n                    status: 'pending',\n                });\n            }\n\n            resetSelectedCards();\n\n            setIsLastIssue(false);\n            setRoundOver(false);\n            setKey((prevKey) => prevKey + 1);\n            setStartTimer(false);\n        } else {\n            setIsLastIssue(true);\n        }\n    };\n\n    const fillScore = (item: { card: Card | undefined; user: User }) => {\n        if (isDealer) {\n            return item.card\n                ? `${item.card.value} ${game.gameSettings.shortScoreType}`\n                : 'undefined';\n        }\n        if (item.user.userID === globalState.currentUser.userID)\n            return item.card\n                ? `${item.card.value} ${game.gameSettings.shortScoreType}`\n                : 'undefined';\n\n        if (!roundOver) return 'in pogress';\n        return item.card ? `${item.card.value} ${game.gameSettings.shortScoreType}` : 'undefined';\n    };\n    return (\n        <>\n            <Grid container className={classes.mainContainer}>\n                <Grid\n                    item\n                    container\n                    alignItems=\"center\"\n                    justifyContent=\"space-between\"\n                    xs={12}\n                    sm={5}\n                    md={8}\n                    lg={9}\n                    xl={10}\n                    className={clsx(classes.rightBorder, classes.column)}\n                >\n                    <Grid item>\n                        <Typography variant=\"h4\">{game.title}</Typography>\n                    </Grid>\n                    <Grid item container alignItems=\"center\" spacing={10} justifyContent=\"center\">\n                        <Grid item>\n                            <Typography variant=\"caption\">Scrum master:</Typography>\n                            {scrumMaster ? (\n                                <UserCard\n                                    size=\"large\"\n                                    initials={scrumMaster.initials}\n                                    userID={scrumMaster.userID}\n                                    name={`${scrumMaster.firstName} ${scrumMaster.lastName}`}\n                                    jobPosition={scrumMaster.jobPosition || ''}\n                                    currentUser={\n                                        globalState.currentUser.userID === scrumMaster.userID\n                                    }\n                                    roleInGame=\"dealer\"\n                                />\n                            ) : (\n                                <Typography variant=\"h6\">Loading...</Typography>\n                            )}\n                        </Grid>\n                        <Grid item>\n                            <Button\n                                color=\"primary\"\n                                variant=\"outlined\"\n                                onClick={() =>\n                                    isDealer\n                                        ? gameOver(globalState, goToResult)\n                                        : gameExit(globalState, goToMain)\n                                }\n                            >\n                                {isDealer ? 'Stop game' : 'Exit game'}\n                            </Button>\n                        </Grid>\n                    </Grid>\n                    <Grid container className={classes.bottomSpace}>\n                        <Grid\n                            container\n                            item\n                            className={classes.column}\n                            alignItems=\"center\"\n                            spacing={1}\n                            xs={6}\n                        >\n                            <Grid item>\n                                <Typography variant=\"h6\">Issues:</Typography>\n                            </Grid>\n                            {issues.map((item) => (\n                                <Grid item key={item.id}>\n                                    <IssueCardExpandable\n                                        id={item.id}\n                                        name={item.name}\n                                        priority={item.priority}\n                                        current={item.current}\n                                        dealer={isDealer}\n                                        score={item.score}\n                                        link={item.link}\n                                        isRoundGoing={game.round.status === 'going'}\n                                    />\n                                </Grid>\n                            ))}\n                            {isDealer && (\n                                <Grid item>\n                                    <IssueButton />\n                                </Grid>\n                            )}\n                            {game.round.status === 'over' && isDealer && (\n                                <>\n                                    <Grid item>\n                                        <Typography variant=\"h6\">Statistics:</Typography>\n                                    </Grid>\n                                    <Grid item container justifyContent=\"center\">\n                                        <Statistic />\n                                    </Grid>\n                                </>\n                            )}\n                        </Grid>\n                        {(isTimerNeeded || isDealer) && (\n                            <Grid item className={classes.topSpace} xs={12} sm={12} md={3}>\n                                <Paper elevation={3}>\n                                    <Box p={3}>\n                                        <Grid\n                                            container\n                                            spacing={2}\n                                            alignItems=\"center\"\n                                            className={classes.column}\n                                        >\n                                            <Collapse in={startTimer && !roundOver}>\n                                                <Alert severity=\"success\">\n                                                    Round in progress. Waiting for players vote...\n                                                </Alert>\n                                            </Collapse>\n                                            <Collapse in={isLastIssue}>\n                                                <Alert\n                                                    severity=\"success\"\n                                                    action={\n                                                        <IconButton\n                                                            aria-label=\"close\"\n                                                            color=\"inherit\"\n                                                            size=\"small\"\n                                                            onClick={() => {\n                                                                setIsLastIssue(false);\n                                                            }}\n                                                        >\n                                                            <CloseIcon fontSize=\"inherit\" />\n                                                        </IconButton>\n                                                    }\n                                                >\n                                                    All issues were discussed. There is no next\n                                                    issue.\n                                                </Alert>\n                                            </Collapse>\n                                            {isTimerNeeded && (\n                                                <Grid item>\n                                                    <Timer\n                                                        key={key}\n                                                        seconds={timer}\n                                                        start={startTimer}\n                                                        onComplete={overRoundHandler}\n                                                    />\n                                                </Grid>\n                                            )}\n                                            {!startTimer && !roundOver && isDealer && (\n                                                <Grid item>\n                                                    <Button\n                                                        color=\"primary\"\n                                                        variant=\"contained\"\n                                                        onClick={runRoundHandler}\n                                                        disabled={issues.length === 0}\n                                                    >\n                                                        Run round\n                                                    </Button>\n                                                </Grid>\n                                            )}\n                                            {roundOver && isDealer && (\n                                                <Grid item>\n                                                    <Button\n                                                        color=\"primary\"\n                                                        variant=\"contained\"\n                                                        onClick={() => {\n                                                            setRoundOver(false);\n                                                            setKey((prevKey) => prevKey + 1);\n                                                            resetSelectedCards();\n                                                            runRoundHandler();\n                                                        }}\n                                                    >\n                                                        Restart round\n                                                    </Button>\n                                                </Grid>\n                                            )}\n                                            {roundOver && isDealer && (\n                                                <Grid item>\n                                                    <Button\n                                                        color=\"primary\"\n                                                        variant=\"contained\"\n                                                        onClick={handleNextIssue}\n                                                    >\n                                                        Next Issue\n                                                    </Button>\n                                                </Grid>\n                                            )}\n                                        </Grid>\n                                    </Box>\n                                </Paper>\n                            </Grid>\n                        )}\n\n                        {!isDealer && game.round.status === 'over' && (\n                            <Grid item container justifyContent=\"center\">\n                                <Grid item>\n                                    <Typography variant=\"h6\">Statistics:</Typography>\n                                </Grid>\n                                <Grid\n                                    item\n                                    container\n                                    justifyContent=\"center\"\n                                    className={classes.minimize}\n                                >\n                                    <Statistic />\n                                </Grid>\n                            </Grid>\n                        )}\n                        {(!isDealer || dealerIsPlaying) && !isObserver && (\n                            <Grid item container justifyContent=\"center\">\n                                <CardsDeck />\n                            </Grid>\n                        )}\n                    </Grid>\n                </Grid>\n                <Grid\n                    item\n                    container\n                    xs={12}\n                    sm={7}\n                    md={4}\n                    lg={3}\n                    xl={2}\n                    className={classes.rightContainer}\n                >\n                    <Grid item container justifyContent=\"space-around\">\n                        <Grid item>\n                            <Typography variant=\"subtitle1\">Score:</Typography>\n                        </Grid>\n                        <Grid item>\n                            <Typography variant=\"subtitle1\">Participants:</Typography>\n                        </Grid>\n                    </Grid>\n                    {dealerIsPlaying && (\n                        <Grid item container justifyContent=\"center\">\n                            <Typography variant=\"subtitle1\">Dealer</Typography>\n                        </Grid>\n                    )}\n                    {dealerIsPlaying &&\n                        game.selectedCards\n                            .filter((item) => item.user.roleInGame === 'dealer')\n                            .map((item) => {\n                                return (\n                                    <Grid\n                                        key={item.user.userID}\n                                        item\n                                        container\n                                        justifyContent=\"space-around\"\n                                    >\n                                        <Grid item>\n                                            <Button\n                                                color=\"primary\"\n                                                variant=\"outlined\"\n                                                className={classes.minWidth}\n                                            >\n                                                {fillScore(item)}\n                                            </Button>\n                                        </Grid>\n                                        <Grid item>\n                                            <UserCard\n                                                size=\"small\"\n                                                initials={item.user.initials}\n                                                userID={item.user.userID}\n                                                name={`${item.user.firstName} ${\n                                                    item.user.lastName || ''\n                                                }`}\n                                                jobPosition={item.user.jobPosition || ''}\n                                                roleInGame={item.user.roleInGame}\n                                            />\n                                        </Grid>\n                                    </Grid>\n                                );\n                            })}\n                    <Grid item container justifyContent=\"center\">\n                        <Typography variant=\"subtitle1\">Players</Typography>\n                    </Grid>\n                    {game.selectedCards\n                        .filter((item) => item.user.roleInGame === 'player')\n                        .map((item) => {\n                            return (\n                                <Grid\n                                    key={item.user.userID}\n                                    item\n                                    container\n                                    justifyContent=\"space-around\"\n                                >\n                                    <Grid item>\n                                        <Button\n                                            color=\"primary\"\n                                            variant=\"outlined\"\n                                            className={classes.minWidth}\n                                        >\n                                            {fillScore(item)}\n                                        </Button>\n                                    </Grid>\n                                    <Grid item>\n                                        <UserCard\n                                            size=\"small\"\n                                            initials={item.user.initials}\n                                            userID={item.user.userID}\n                                            name={`${item.user.firstName} ${\n                                                item.user.lastName || ''\n                                            }`}\n                                            jobPosition={item.user.jobPosition || ''}\n                                            roleInGame={item.user.roleInGame}\n                                        />\n                                    </Grid>\n                                </Grid>\n                            );\n                        })}\n                    {game.users.find((item) => item.roleInGame === 'observer') && (\n                        <Grid item container justifyContent=\"center\">\n                            <Typography variant=\"subtitle1\">Observers</Typography>\n                        </Grid>\n                    )}\n                    {game.users.some((item) => item.roleInGame === 'observer') &&\n                        game.selectedCards\n                            .filter((item) => item.user.roleInGame === 'observer')\n                            .map((item) => {\n                                return (\n                                    <Grid\n                                        key={item.user.userID}\n                                        item\n                                        container\n                                        justifyContent=\"space-around\"\n                                    >\n                                        <Grid item>\n                                            <Button\n                                                color=\"primary\"\n                                                variant=\"outlined\"\n                                                className={classes.minWidth}\n                                            >\n                                                {fillScore(item)}\n                                            </Button>\n                                        </Grid>\n                                        <Grid item>\n                                            <UserCard\n                                                size=\"small\"\n                                                initials={item.user.initials}\n                                                userID={item.user.userID}\n                                                name={`${item.user.firstName} ${\n                                                    item.user.lastName || ''\n                                                }`}\n                                                jobPosition={item.user.jobPosition || ''}\n                                                roleInGame={item.user.roleInGame}\n                                            />\n                                        </Grid>\n                                    </Grid>\n                                );\n                            })}\n                </Grid>\n            </Grid>\n\n            {isDealer && <AddUserPopup name=\"Mike\" />}\n            <Modal\n                open={game.pendingUsers.length > 0 && isDealer}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div>\n                    {game.pendingUsers.map((user: User) => {\n                        return <LetInUserToGameForm key={user.userID} user={user} />;\n                    })}\n                </div>\n            </Modal>\n            <Modal\n                open={globalState.popup === 'createIssue'}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div>\n                    <IssueCreateForm />\n                </div>\n            </Modal>\n        </>\n    );\n};\n","import { makeStatisticCards } from '../statistic/makeStatistic';\nimport { Card, Issue, StatisticCard } from '../../types/game';\nimport { User } from '../../types/user';\n\nexport function saveStatistic(\n    issues: Issue[],\n    oldStatistic: { issue: Issue; statisticCards: StatisticCard[] }[],\n    selectedCards: Array<{ card: Card | undefined; user: User }>,\n): { issue: Issue; statisticCards: StatisticCard[] }[] | [] {\n    const currentIssue = issues.find((issue) => issue.current);\n    if (currentIssue) {\n        const statistic = [...oldStatistic];\n        const statisticCards = makeStatisticCards(selectedCards);\n        const index = statistic.findIndex((item) => item.issue.id === currentIssue.id);\n        if (index >= 0) {\n            statistic[index] = { issue: currentIssue, statisticCards };\n        } else {\n            oldStatistic.push({ issue: currentIssue, statisticCards });\n        }\n        return statistic;\n    }\n    return [];\n}\n","import { GlobalState } from '../../types/GlobalState';\n\nexport function gameOver(globalState: GlobalState, callBack: () => void): void {\n    globalState.ws.provider?.changeValueOfGameProperty('status', 'over');\n\n    callBack();\n}\n","import { GlobalState } from '../../types/GlobalState';\n\nexport function gameExit(globalState: GlobalState, callBack: () => void): void {\n    globalState.ws.provider?.changeValueOfGameProperty('users', [\n        ...globalState.game.users.filter((user) => user.userID !== globalState.currentUser.userID),\n    ]);\n    callBack();\n}\n","import React from 'react';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport { makeStyles } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n    container: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column',\n        margin: 50,\n    },\n    link: {\n        textDecoration: 'none',\n    },\n});\n\nexport const NotFound: React.FC = () => {\n    const classes = useStyles();\n    return (\n        <div className={classes.container}>\n            <h1>\n                4<ErrorOutlineIcon />4\n            </h1>\n            <h2>PAGE NOT FOUND</h2>\n            <Link className={classes.link} to=\"/\">\n                Main page\n            </Link>\n        </div>\n    );\n};\n","export default __webpack_public_path__ + \"static/media/poker-planning.14acbaf0.svg\";","import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport pokerPlanning from '../../assets/images/poker-planning.svg';\nimport { ConnectForm, NewSession } from '../../components';\nimport styles from './MainPage.module.scss';\n\nexport function MainPage(): JSX.Element {\n    const { id }: { id: string | undefined } = useParams();\n    const [open, setOpen] = useState(false);\n    const [isDealer, setIsDealer] = useState(false);\n\n    return (\n        <div className={styles.main_page}>\n            <div className={styles.container}>\n                <img className={styles.poker_planning} src={pokerPlanning} alt=\"poker-planning\" />\n                <section className={styles.content}>\n                    <h3 className={styles.start}>Start your planning:</h3>\n                    <NewSession setIsDealer={setIsDealer} setOpen={setOpen} />\n                    <h3 className={styles.center}>OR:</h3>\n                    <ConnectForm\n                        id={id}\n                        open={open}\n                        isDealer={isDealer}\n                        setIsDealer={setIsDealer}\n                        setOpen={setOpen}\n                    />\n                </section>\n            </div>\n        </div>\n    );\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Modal, IconButton, Collapse, Button, Card } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport Alert from '@material-ui/lab/Alert';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport {\n    VoteForm,\n    CardAddForm,\n    IssueCreateForm,\n    IssueField,\n    CancelButton,\n    GameSettings,\n    CardField,\n    GameInfo,\n    CardFieldSelectCover,\n    ScrumMaster,\n    LinkToLobby,\n    StartButton,\n    MembersField,\n} from '../../components';\nimport styles from './Lobby.module.scss';\nimport { User } from '../../types/user';\n\nexport const Lobby: () => JSX.Element = () => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const history = useHistory();\n    const isPendingUser = globalState.game.pendingUsers.some(\n        (user: User) => globalState.currentUser.userID === user.userID,\n    );\n    useEffect(() => {\n        const { provider } = globalState.ws;\n        provider?.updateProviderState(globalState);\n        if (!globalState.ws.socket) provider?.connects();\n    }, [globalState]);\n\n    useEffect(() => {\n        if (\n            globalState.game.kickedUsersID.some(\n                (item: string) => item === globalState.currentUser.userID,\n            ) ||\n            globalState.game.pendingUsers.some(\n                (user: User) => globalState.currentUser.userID === user.userID,\n            )\n        )\n            return;\n        if (globalState.game.status !== 'new') {\n            if (\n                globalState.game.users.every(\n                    (user: User) => globalState.currentUser.userID !== user.userID,\n                ) &&\n                !globalState.game.users.some(\n                    (user: User) => globalState.currentUser.userID === user.userID,\n                )\n            ) {\n                globalState.ws.provider?.changeValueOfGameProperty('pendingUsers', [\n                    ...globalState.game.pendingUsers,\n                    globalState.currentUser,\n                ]);\n                return;\n            }\n            if (globalState.game.status !== 'canceled') {\n                history.push(`/${globalState.game.gameID}/game`);\n            }\n        }\n    }, [\n        globalState.game.users,\n        globalState.currentUser,\n        globalState.game.gameID,\n        globalState.game.kickedUsersID,\n        globalState.game.pendingUsers,\n        globalState.game.status,\n        globalState.ws.provider,\n        history,\n    ]);\n\n    function checkVoted(): boolean {\n        if (\n            !globalState.game.vote ||\n            globalState.game.vote.kickID === globalState.currentUser.userID ||\n            !globalState.game.kickedUsersID.every((id) => id !== globalState.currentUser.userID)\n        )\n            return false;\n        return globalState.game.vote.votedUsersID.every(\n            (votedUserID: string) => votedUserID !== globalState.currentUser.userID,\n        );\n    }\n\n    const [open, setOpen] = useState(true);\n    return (\n        <div className={styles.lobby}>\n            <div className={styles.container}>\n                {globalState.currentUser.roleInGame !== 'dealer' && (\n                    <Collapse in={open}>\n                        <Alert\n                            action={\n                                <IconButton\n                                    aria-label=\"close\"\n                                    color=\"inherit\"\n                                    size=\"small\"\n                                    onClick={() => {\n                                        setOpen(false);\n                                    }}\n                                >\n                                    <CloseIcon fontSize=\"inherit\" />\n                                </IconButton>\n                            }\n                            icon={<CheckIcon fontSize=\"inherit\" />}\n                            severity=\"success\"\n                        >\n                            Welcome to Poker Planning lobby! You are waiting for game to start.\n                        </Alert>\n                    </Collapse>\n                )}\n                <section className={styles.top}>\n                    <GameInfo />\n                    <ScrumMaster />\n                    <LinkToLobby />\n                    {globalState.currentUser.roleInGame === 'dealer' && (\n                        <div className={styles.top__buttons}>\n                            <StartButton />\n                            <CancelButton />\n                        </div>\n                    )}\n                    {globalState.currentUser.roleInGame !== 'dealer' && (\n                        <div className={styles.exitField}>\n                            <Button\n                                variant=\"outlined\"\n                                color=\"primary\"\n                                onClick={async () => {\n                                    history.push('/');\n                                    await globalState.ws.provider?.changeValueOfGameProperty(\n                                        'users',\n                                        [\n                                            ...globalState.game.users.filter(\n                                                (user) =>\n                                                    user.userID !== globalState.currentUser.userID,\n                                            ),\n                                        ],\n                                    );\n                                }}\n                                className={styles.exitBtn}\n                            >\n                                Exit\n                            </Button>\n                        </div>\n                    )}\n                </section>\n                <section className={styles.members}>\n                    <h4>Members</h4>\n                    <MembersField classNames={styles.members__cardField} />\n                </section>\n                <section className={styles.issues}>\n                    <h4>Issues:</h4>\n                    <IssueField classNames={styles.issues__cardField} />\n                </section>\n                {globalState.currentUser.roleInGame === 'dealer' && (\n                    <>\n                        <section className={styles.settings}>\n                            <h4>Game settings:</h4>\n                            <GameSettings />\n                        </section>\n                        <section className={styles.cards}>\n                            <h4>Select cover:</h4>\n                            <CardFieldSelectCover />\n                        </section>\n                        <section className={styles.cards}>\n                            <h4>Cards values:</h4>\n                            <CardField />\n                        </section>\n                    </>\n                )}\n            </div>\n\n            <Modal\n                open={globalState.popup === 'createIssue'}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div>\n                    <IssueCreateForm />\n                </div>\n            </Modal>\n            <Modal\n                open={globalState.popup === 'createCard'}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div>\n                    <CardAddForm />\n                </div>\n            </Modal>\n\n            <Modal\n                open={checkVoted()}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div>\n                    <VoteForm />\n                </div>\n            </Modal>\n            <Modal\n                open={isPendingUser}\n                aria-labelledby=\"parent-modal-title\"\n                aria-describedby=\"parent-modal-description\"\n            >\n                <div>\n                    <Card className={styles.modal}>\n                        <h4>please wait until they let you in</h4>\n                    </Card>\n                </div>\n            </Modal>\n        </div>\n    );\n};\n","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { createStyles, Theme } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport clsx from 'clsx';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { Issue } from '../../types/game';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            minWidth: 250,\n            width: 250,\n            height: 60,\n            boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\n            marginBottom: 10,\n        },\n        cardContainer: {\n            position: 'relative',\n            padding: 0,\n            paddingLeft: 5,\n        },\n        button: {\n            position: 'absolute',\n            top: 5,\n            right: 0,\n        },\n        title: {\n            lineHeight: 1,\n        },\n        caption: {\n            fontSize: '0.6rem',\n        },\n        current: {\n            background: theme.palette.secondary.main,\n        },\n    }),\n);\n\ntype Props = {\n    current?: boolean;\n    name: string;\n    priority: 'Critical' | 'High' | 'Medium' | 'Low';\n    dealer?: boolean;\n    id: string;\n};\n\nexport const IssueCard: React.FC<Props> = (props: Props) => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const { name, current, priority, dealer, id } = props;\n    const classes = useStyles();\n    const handlerClick = () => {\n        const newIssues = globalState.game.issues.filter((issue: Issue) => id !== issue.id);\n        globalState.ws.provider?.changeValueOfGameProperty('issues', newIssues);\n    };\n\n    return (\n        <Card className={clsx(classes.root, { [classes.current]: current })} variant=\"outlined\">\n            <CardContent className={classes.cardContainer}>\n                <Typography className={classes.caption} variant=\"caption\" color=\"textSecondary\">\n                    {current ? 'CURRENT' : ' '}\n                </Typography>\n\n                <Typography variant=\"h6\" className={classes.title}>\n                    {name}\n                </Typography>\n                <Typography color=\"textSecondary\" variant=\"caption\" className={classes.caption}>\n                    {priority} priority\n                </Typography>\n                {dealer && !current && (\n                    <CardActions className={classes.button}>\n                        <Button disabled={!globalState.ws.status} onClick={handlerClick}>\n                            <CloseIcon />\n                        </Button>\n                    </CardActions>\n                )}\n            </CardContent>\n        </Card>\n    );\n};\n\nIssueCard.defaultProps = {\n    current: false,\n    dealer: false,\n};\n","import React, { Dispatch, useContext } from 'react';\nimport { Button, Paper, Typography } from '@material-ui/core';\nimport FreeBreakfastOutlinedIcon from '@material-ui/icons/FreeBreakfastOutlined';\nimport { useHistory } from 'react-router-dom';\nimport { Action, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { StatisticCard } from '../../types/game';\nimport { IssueCard } from '../IssueCard';\nimport styles from '../statistic/statistic.module.scss';\nimport { GameCard } from '../GameCards';\nimport { IssueIssueToCSV } from '../../utils/save';\n\nexport const Result: React.FC = () => {\n    const { globalState }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const history = useHistory();\n\n    return (\n        <>\n            <Button\n                color=\"primary\"\n                variant=\"outlined\"\n                onClick={() => IssueIssueToCSV(globalState.game.issues)}\n            >\n                Save\n            </Button>\n            <Button color=\"primary\" variant=\"outlined\" onClick={() => history.push(`/`)}>\n                Go to main\n            </Button>\n            {globalState.game.statistic.map(({ issue, statisticCards }) => {\n                const { name, priority, current, dealer, id } = issue;\n                return (\n                    <div key={id}>\n                        <IssueCard\n                            key={id}\n                            name={name}\n                            priority={priority}\n                            current={current}\n                            dealer={dealer}\n                            id={id}\n                        />\n                        <div className={styles.demo}>\n                            {statisticCards &&\n                                statisticCards.map((el: StatisticCard) => {\n                                    return (\n                                        <div className={styles.container} key={el.id}>\n                                            {el.id ? (\n                                                <>\n                                                    {' '}\n                                                    <GameCard\n                                                        isActiveCard={false}\n                                                        value={el.value}\n                                                        isEditable={false}\n                                                        scoreType={\n                                                            globalState.game.gameSettings\n                                                                .shortScoreType\n                                                        }\n                                                        id={el.id}\n                                                    />\n                                                    <Typography variant=\"subtitle1\">\n                                                        {el.voteResult}\n                                                    </Typography>\n                                                </>\n                                            ) : (\n                                                <>\n                                                    <Paper elevation={3} className={styles.card}>\n                                                        <FreeBreakfastOutlinedIcon\n                                                            className={styles.coffee}\n                                                        />\n                                                    </Paper>\n                                                    <Typography variant=\"subtitle1\">\n                                                        {el.voteResult}\n                                                    </Typography>\n                                                </>\n                                            )}\n                                        </div>\n                                    );\n                                })}\n                        </div>\n                        )\n                    </div>\n                );\n            })}\n        </>\n    );\n};\n","import exportFromJSON from 'export-from-json';\nimport { Issue } from '../types/game';\n\nexport function IssueIssueToCSV(issues: Issue[]): void {\n    const result: Array<string[]> = [];\n    issues.forEach((issue) => {\n        result.push([issue.name, issue.priority, issue.link || '', issue.score]);\n    });\n    const fileName = 'download';\n    const exportType = 'csv';\n\n    exportFromJSON({ data: result, fileName, exportType });\n}\n","import React, { Dispatch, useContext, useEffect, useState } from 'react';\nimport { Redirect, Route, Switch, useHistory, useRouteMatch } from 'react-router-dom';\nimport Modal from '@material-ui/core/Modal';\nimport { Card } from '@material-ui/core';\nimport { Game } from '../game';\nimport { NotFound } from '../notFound';\nimport { Action, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { MainPage } from '../../pages/MainPage';\nimport { Lobby } from '../../pages/Lobby';\n\nimport styles from './invitation.module.scss';\nimport { Result } from '../Result/Result';\n\nexport const Invitation: React.FC = (): JSX.Element => {\n    const { globalState }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const history = useHistory();\n    const [isTimeout, setIsTimeout] = useState(false);\n    const { path } = useRouteMatch();\n\n    const openModal = globalState.game.kickedUsersID.some(\n        (item: string) => item === globalState.currentUser.userID,\n    );\n    const isAuthorized = !openModal;\n    if (openModal && !isTimeout) {\n        setIsTimeout(true);\n        setTimeout(() => history.push(`/`), 6000);\n    }\n    useEffect(() => {\n        // if (globalState.game.status === 'over') history.push(`/${globalState.game.gameID}/result`);\n        if (globalState.game.status === 'canceled') history.push(`/`);\n    });\n\n    return (\n        <>\n            <Switch>\n                <Route exact path={path}>\n                    <MainPage />\n                </Route>\n                <Route exact path={`${path}/lobby`}>\n                    {isAuthorized ? (\n                        <Lobby />\n                    ) : (\n                        <Redirect to={`${path}/${globalState.game.gameID}`} />\n                    )}\n                </Route>\n\n                <Route exact path={`${path}/game`}>\n                    {isAuthorized ? <Game /> : <Redirect to=\"/\" />}\n                </Route>\n                <Route exact path={`${path}/result`}>\n                    <Result />\n                </Route>\n                <Route exact path=\"*\">\n                    <NotFound />\n                </Route>\n            </Switch>\n            <Modal\n                open={openModal}\n                aria-labelledby=\"parent-modal-title\"\n                aria-describedby=\"parent-modal-description\"\n            >\n                <div>\n                    <Card className={styles.modal}>\n                        <h4>YOU WERE KICKED</h4>\n                    </Card>\n                </div>\n            </Modal>\n        </>\n    );\n};\n","import React, { Dispatch, useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport {\n    AppBar,\n    createStyles,\n    Fab,\n    IconButton,\n    makeStyles,\n    Theme,\n    Toolbar,\n} from '@material-ui/core';\nimport SpeakerNotesIcon from '@material-ui/icons/SpeakerNotes';\nimport SpeakerNotesOffIcon from '@material-ui/icons/SpeakerNotesOff';\nimport pokerIcon from './assets/transparent_dark_icon.png';\nimport { Action, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { SHOW_CHAT } from '../../state/ActionTypesConstants';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        img: {\n            width: 50,\n            height: 50,\n        },\n        fab: {\n            position: 'relative',\n            right: '50%',\n            top: 30,\n            background: theme.palette.secondary.light,\n        },\n        header: {\n            marginBottom: 30,\n        },\n        header_bar: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n        },\n        chatIcon: {\n            marginLeft: '-5%',\n        },\n    }),\n);\n\nexport const Header: React.FC = () => {\n    const { globalState, dispatch }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const classes = useStyles();\n    const location = useLocation();\n    return (\n        <AppBar className={classes.header} color=\"primary\" position=\"static\">\n            <Toolbar className={classes.header_bar}>\n                <Fab className={classes.fab}>\n                    <img className={classes.img} src={pokerIcon} alt=\"pointing poker\" />\n                </Fab>\n                {location.pathname !== '/' && (\n                    <IconButton\n                        className={classes.chatIcon}\n                        color=\"secondary\"\n                        onClick={() => {\n                            dispatch({ type: SHOW_CHAT, payLoad: undefined });\n                        }}\n                    >\n                        {!globalState.chatOpen ? <SpeakerNotesIcon /> : <SpeakerNotesOffIcon />}\n                    </IconButton>\n                )}\n            </Toolbar>\n        </AppBar>\n    );\n};\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { FormControlLabel, FormGroup, Switch as MaterialSwitch } from '@material-ui/core';\n\ntype Props = {\n    label: string;\n    toggle: (arg: boolean) => void;\n    value: boolean;\n};\n\nexport const Switch: React.FC<Props> = (props: Props) => {\n    const { label, toggle, value } = props;\n\n    return (\n        <FormGroup>\n            <FormControlLabel\n                control={<MaterialSwitch color=\"primary\" size=\"medium\" checked={value} />}\n                label={label}\n                onClick={() => toggle(!value)}\n                labelPlacement=\"start\"\n            />\n        </FormGroup>\n    );\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { createStyles, Theme } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            minWidth: 250,\n            width: 250,\n            boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\n            marginBottom: 10,\n        },\n        cardContainer: {\n            position: 'relative',\n            padding: 0,\n            paddingLeft: 5,\n        },\n\n        title: {\n            lineHeight: 1,\n            wordWrap: 'break-word',\n        },\n        current: {\n            background: theme.palette.secondary.main,\n        },\n    }),\n);\n\ntype Props = {\n    text: string;\n    current: boolean;\n};\n\nexport const ChatText: React.FC<Props> = (props: Props) => {\n    const { text, current } = props;\n    const classes = useStyles();\n\n    return (\n        <Card className={clsx(classes.root, { [classes.current]: current })} variant=\"outlined\">\n            <CardContent className={classes.cardContainer}>\n                <Typography variant=\"h6\" className={classes.title}>\n                    {text}\n                </Typography>\n            </CardContent>\n        </Card>\n    );\n};\n","// export const SERVER_URL = 'http://localhost:5000/';\n// export const SERVER_URL = 'https://fast-reaches-40751.herokuapp.com/';\nexport const SERVER_URL = 'http://35.217.41.219:5000/';\n","import React, { FC } from 'react';\nimport { ChatMessage } from '../../types/ChatMessage';\nimport { User } from '../../types/user';\nimport { ChatText } from './ChatText';\nimport { UserCard } from '../UserCard';\nimport { SERVER_URL } from '../../api/url';\nimport styles from './chat.module.scss';\n\nexport const ChatMessageComponent: FC<{ message: ChatMessage; currentUserID: string }> = ({\n    message,\n    currentUserID,\n}) => {\n    const { text, user }: { text: string; user: User } = message;\n    const current = currentUserID === user.userID;\n\n    return (\n        <div className={styles.chat__message}>\n            <ChatText text={text} current={current} />\n            <UserCard\n                name={`${user.firstName} ${user.lastName}`}\n                initials={`${user.firstName[0]}${(user.lastName || '')[0]}`}\n                jobPosition={user.jobPosition ? user.jobPosition : ''}\n                imgSrc={SERVER_URL + user.imgSrc}\n                userID={user.userID}\n                currentUser={current}\n                roleInGame={user.roleInGame}\n                size=\"large\"\n            />\n        </div>\n    );\n};\n","import React, { Dispatch, useContext, useState } from 'react';\nimport { Button, Box, Input } from '@material-ui/core';\nimport Send from '@material-ui/icons/Send';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Action, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { WSProvider } from '../../api/WSProvider';\nimport styles from './chat.module.scss';\n\nconst useStyles = makeStyles(() => ({\n    button: {\n        margin: ' 5px',\n    },\n}));\n\nexport const ChatInput: React.FC = () => {\n    const classes = useStyles();\n    const { globalState }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const [text, setText] = useState<string>('');\n    const wsProvider: WSProvider | undefined = globalState.ws.provider;\n\n    const send = () => {\n        if (!wsProvider) return;\n        wsProvider.sendChatMessage(text);\n        setText('');\n    };\n\n    const handler = (event: React.KeyboardEvent) => {\n        if (event.key === 'Enter' || event.key === 'NumpadEnter') send();\n    };\n\n    return (\n        <Box className={styles.chat__input}>\n            <Box sx={{ flexGrow: 1 }}>\n                <Input\n                    fullWidth\n                    id=\"outlined-textarea\"\n                    multiline\n                    onKeyPress={handler}\n                    onChange={(e) => {\n                        setText(e.target.value);\n                    }}\n                    value={text}\n                    disabled={!globalState.ws.status}\n                />\n            </Box>\n            <Box>\n                <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.button}\n                    endIcon={<Send />}\n                    disabled={!globalState.ws.status}\n                    onClick={() => send()}\n                >\n                    Send\n                </Button>\n            </Box>\n        </Box>\n    );\n};\n","import React, { FC, useContext, useEffect } from 'react';\nimport { GlobalContext } from '../../state/Context';\nimport { GlobalState } from '../../types/GlobalState';\nimport { ChatMessage } from '../../types/ChatMessage';\nimport { ChatMessageComponent } from './ChatMessageComponent';\nimport { ChatInput } from './input';\nimport styles from './chat.module.scss';\n\nexport const Chat: FC = () => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const chatRef = React.useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (globalState.game.chatMessages.length > 0) {\n            if (chatRef.current) chatRef.current.scrollTop = chatRef.current.scrollHeight;\n        }\n    }, [globalState.game.chatMessages]);\n\n    return (\n        <div className={styles.chat}>\n            <div ref={chatRef} className={styles.chat__messages_container}>\n                {globalState.game.chatMessages.map((chatMessage: ChatMessage) => (\n                    <ChatMessageComponent\n                        key={chatMessage.id}\n                        message={chatMessage}\n                        currentUserID={globalState.currentUser.userID}\n                    />\n                ))}\n            </div>\n            <ChatInput />\n        </div>\n    );\n};\n","import React, { useContext } from 'react';\nimport { IssueCard } from '../IssueCard';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { IssueButton } from '../buttons/IssueButton';\n\ninterface IIssueField {\n    classNames: string;\n}\n\nexport const IssueField: React.FC<IIssueField> = ({ classNames }) => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const { issues } = globalState.game;\n    return (\n        <div className={classNames}>\n            {issues.map(({ name, priority, current, dealer, id }) => {\n                return (\n                    <IssueCard\n                        key={id}\n                        name={name}\n                        priority={priority}\n                        current={current}\n                        dealer={dealer}\n                        id={id}\n                    />\n                );\n            })}\n            {globalState.currentUser.roleInGame === 'dealer' && <IssueButton />}\n        </div>\n    );\n};\n","import Button from '@material-ui/core/Button/Button';\nimport InputLabel from '@material-ui/core/InputLabel/InputLabel';\nimport TextField from '@material-ui/core/TextField/TextField';\nimport React, { Dispatch, useContext, useState } from 'react';\nimport styles from './CardAddForm.module.scss';\nimport { Action, GlobalState, PopupType } from '../../types/GlobalState';\nimport { Card } from '../../types/game';\nimport { GlobalContext } from '../../state/Context';\nimport { SET_GAME_TEMP_SETTINGS, SET_POPUP } from '../../state/ActionTypesConstants';\n\nexport const CardAddForm: React.FC = () => {\n    const { globalState, dispatch }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const [card, setCard] = useState<Card>({\n        value: '',\n        id: new Date().getTime().toString(36) + Math.random().toString(36).slice(2),\n    });\n\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        dispatch({\n            type: SET_GAME_TEMP_SETTINGS,\n            payLoad: {\n                property: 'cards',\n                value: [...globalState.temporaryDialerSettings.cards, card] as Card[],\n            },\n        });\n        dispatch({ type: SET_POPUP, payLoad: '' as PopupType });\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className={styles.modal}>\n            <div className={styles.registration}>\n                <div className={styles.top}>\n                    <h2>Create Card</h2>\n                </div>\n                <div className={styles.inputs}>\n                    <InputLabel htmlFor=\"value\">\n                        Value:\n                        <TextField\n                            required\n                            value={card.value}\n                            onChange={(e) => setCard({ ...card, value: e.target.value })}\n                            id=\"filled-error-helper-text\"\n                            type=\"text\"\n                            name=\"value\"\n                            variant=\"outlined\"\n                        />\n                    </InputLabel>\n                </div>\n            </div>\n            <div className={styles.buttons}>\n                <Button color=\"primary\" className={styles.btn} type=\"submit\" variant=\"contained\">\n                    Confirm\n                </Button>\n                <Button\n                    color=\"primary\"\n                    className={styles.btn}\n                    variant=\"outlined\"\n                    onClick={() => dispatch({ type: SET_POPUP, payLoad: '' as PopupType })}\n                >\n                    Cancel\n                </Button>\n            </div>\n        </form>\n    );\n};\n","import { Button, Modal, Collapse, IconButton } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React, { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport styles from './CancelButton.module.scss';\n\nexport const CancelButton: () => JSX.Element = () => {\n    const history = useHistory();\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const [cancelGame, setCancelGame] = useState(false);\n    const [open, setOpen] = useState(false);\n\n    const buttonHandler = () => {\n        globalState.ws.provider?.changeValueOfGameProperty('status', 'canceled');\n        setCancelGame(true);\n        setOpen(true);\n    };\n\n    return (\n        <>\n            <Button\n                disabled={!globalState.ws.status}\n                color=\"primary\"\n                variant=\"outlined\"\n                onClick={buttonHandler}\n            >\n                cancel game\n            </Button>\n            <Modal\n                open={cancelGame}\n                onClose={() => {\n                    setCancelGame(false);\n                    history.push('/');\n                }}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div className={styles.cancelAlert}>\n                    <Collapse in={open}>\n                        <Alert\n                            action={\n                                <IconButton\n                                    aria-label=\"close\"\n                                    color=\"inherit\"\n                                    size=\"small\"\n                                    onClick={() => {\n                                        setOpen(false);\n                                        history.push('/');\n                                    }}\n                                >\n                                    <CloseIcon fontSize=\"inherit\" />\n                                </IconButton>\n                            }\n                        >\n                            The game was canceled\n                        </Alert>\n                    </Collapse>\n                </div>\n            </Modal>\n        </>\n    );\n};\n","import React, { ChangeEvent, useMemo, useState } from 'react';\nimport InputLabel from '@material-ui/core/InputLabel/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem/MenuItem';\nimport Select from '@material-ui/core/Select/Select';\nimport styles from './GameSettings.module.scss';\n\nexport const Timer = ({ handler }: { handler: (arg: number) => void }): JSX.Element => {\n    const [time, setTime] = useState({ minutes: 1, seconds: 20 });\n    const selectMap = useMemo(() => {\n        return {\n            minutesMap: Array.from(Array(60).keys()),\n            secondsMap: Array.from(Array(6).keys()).map((item) => item * 10),\n        };\n    }, []);\n\n    const minutesHandler = (e: ChangeEvent<{ name?: string; value: unknown }>) => {\n        setTime({ ...time, minutes: e.target.value as number });\n        handler((e.target.value as number) * 60 + time.seconds);\n    };\n    const secondsHandler = (e: ChangeEvent<{ name?: string; value: unknown }>) => {\n        setTime({ ...time, seconds: e.target.value as number });\n        handler(time.minutes * 60 + (e.target.value as number));\n    };\n\n    return (\n        <div className={styles.timer}>\n            <InputLabel id=\"minutes\">minutes</InputLabel>\n            <Select\n                labelId=\"minutes\"\n                id=\"demo-simple-select\"\n                value={time.minutes}\n                onChange={minutesHandler}\n            >\n                {selectMap.minutesMap.map((item) => (\n                    <MenuItem key={item} value={item}>\n                        {item}\n                    </MenuItem>\n                ))}\n            </Select>\n            <InputLabel id=\"seconds\">seconds</InputLabel>\n            <Select\n                labelId=\"seconds\"\n                id=\"demo-simple-select\"\n                value={time.seconds}\n                label=\"\"\n                onChange={secondsHandler}\n            >\n                {selectMap.secondsMap.map((item) => (\n                    <MenuItem key={item} value={item}>\n                        {item}\n                    </MenuItem>\n                ))}\n            </Select>\n        </div>\n    );\n};\n","import TextField from '@material-ui/core/TextField/TextField';\nimport React, { ChangeEvent, Dispatch, useContext, useEffect, useState } from 'react';\nimport {\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    makeStyles,\n    createStyles,\n    Theme,\n} from '@material-ui/core';\nimport { GameSettingsInterface } from '../../types/game';\nimport { Switch } from '../switch';\nimport styles from './GameSettings.module.scss';\nimport { Timer } from './Timer';\nimport { Action } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { SET_GAME_TEMP_SETTINGS } from '../../state/ActionTypesConstants';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        formControl: {\n            margin: theme.spacing(1),\n            minWidth: 120,\n        },\n        selectEmpty: {\n            marginTop: theme.spacing(2),\n        },\n    }),\n);\n\nexport const GameSettings: () => JSX.Element = () => {\n    const { dispatch }: { dispatch: Dispatch<Action> } = useContext(GlobalContext);\n    const [settings, setSettings] = useState<GameSettingsInterface>({\n        timer: 120,\n        dealerIsPlaying: true,\n        scoreType: 'Story Point',\n        shortScoreType: 'SP',\n        isTimerNeeded: false,\n        changingCardInRoundEnd: false,\n        cardsDeckType: 'fibonacci',\n        freeGameEnter: false,\n    });\n    const classes = useStyles();\n\n    const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        setSettings({ ...settings, cardsDeckType: event.target.value as string });\n    };\n\n    useEffect(() => {\n        dispatch({\n            type: SET_GAME_TEMP_SETTINGS,\n            payLoad: { property: 'gameSettings', value: settings as GameSettingsInterface },\n        });\n    }, [settings, dispatch]);\n    const switchers = [\n        {\n            value: settings.dealerIsPlaying,\n            label: 'Scrum master as player:',\n            callback: (state: boolean) => setSettings({ ...settings, dealerIsPlaying: state }),\n        },\n        {\n            value: settings.isTimerNeeded,\n            label: ' Is timer needed:',\n            callback: (state: boolean) => setSettings({ ...settings, isTimerNeeded: state }),\n        },\n        {\n            value: settings.changingCardInRoundEnd,\n            label: 'Changing card in round end:',\n            callback: (state: boolean) =>\n                setSettings({ ...settings, changingCardInRoundEnd: state }),\n        },\n        {\n            value: settings.freeGameEnter,\n            label: 'Allow new members to join:',\n            callback: (state: boolean) => setSettings({ ...settings, freeGameEnter: state }),\n        },\n    ];\n\n    const textFields = [\n        {\n            value: settings.scoreType,\n            label: 'Score type:',\n            callback: (e: ChangeEvent<HTMLInputElement>) => {\n                setSettings({ ...settings, scoreType: e.target.value });\n            },\n        },\n        {\n            value: settings.shortScoreType,\n            label: 'Score type (Short):',\n            callback: (e: ChangeEvent<HTMLInputElement>) => {\n                setSettings({ ...settings, shortScoreType: e.target.value });\n            },\n        },\n    ];\n    return (\n        <div className={styles.settings__wrap}>\n            {switchers.map(({ value, label, callback }) => (\n                <div key={label} className={styles.label}>\n                    {label}\n                    <Switch label=\"\" value={value} toggle={callback} />\n                </div>\n            ))}\n\n            <FormControl className={classes.formControl}>\n                <InputLabel id=\"demo-simple-select-label\">Cards Deck</InputLabel>\n                <Select\n                    labelId=\"demo-simple-select-label\"\n                    id=\"demo-simple-select\"\n                    value={settings.cardsDeckType}\n                    onChange={handleChange}\n                >\n                    <MenuItem value=\"fibonacci\">Fibonacci Sequence</MenuItem>\n                    <MenuItem value=\"powersOfTwo\">Powers of Two</MenuItem>\n                    <MenuItem value=\"custom\">Create your deck</MenuItem>\n                </Select>\n            </FormControl>\n\n            {textFields.map(({ value, label, callback }) => (\n                <div key={label} className={styles.label}>\n                    {label}\n                    <TextField\n                        fullWidth\n                        id=\"outlined-basic\"\n                        variant=\"outlined\"\n                        value={value}\n                        onChange={callback}\n                    />\n                </div>\n            ))}\n\n            {settings.isTimerNeeded && (\n                <div className={styles.label}>\n                    Round time:\n                    <Timer\n                        handler={(seconds: number) => {\n                            setSettings({ ...settings, timer: seconds });\n                        }}\n                    />\n                </div>\n            )}\n        </div>\n    );\n};\n","import React, { ReactElement, useContext, useEffect, useState } from 'react';\nimport CreateIcon from '@material-ui/icons/Create';\nimport { TextField } from '@material-ui/core';\nimport styles from './GameInfo.module.scss';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\n\nexport const GameInfo = (): ReactElement => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n\n    const [title, setTitle] = useState('');\n    const [isInput, setIsInput] = useState(false);\n\n    const handleSubmit = () => {\n        if (isInput) globalState.ws.provider?.changeValueOfGameProperty('title', title);\n        setIsInput(!isInput);\n    };\n    const handler = (event: React.KeyboardEvent) => {\n        if (event.key === 'Enter' || event.key === 'NumpadEnter') handleSubmit();\n    };\n\n    useEffect(() => {\n        setTitle(globalState.game.title);\n    }, [globalState]);\n    return (\n        <div className={styles.gameInfo}>\n            {isInput && (\n                <TextField\n                    required\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    id=\"filled-error-helper-text\"\n                    type=\"text\"\n                    variant=\"outlined\"\n                    onKeyPress={handler}\n                />\n            )}\n            {!isInput && <h4>{title}</h4>}\n            {globalState.currentUser.roleInGame === 'dealer' && globalState.ws.status && (\n                <CreateIcon className={styles.icon} onClick={() => handleSubmit()} />\n            )}\n        </div>\n    );\n};\n","import React, { Dispatch, useContext } from 'react';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport { Paper } from '@material-ui/core';\nimport { GameCard } from '../GameCards';\nimport { Action, GlobalState, PopupType } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { SET_POPUP } from '../../state/ActionTypesConstants';\nimport styles from './CardField.module.scss';\nimport { fibonacciDeck, powersOfTwoDeck } from '../../shared/data';\n\nexport const CardField = (): JSX.Element => {\n    const { globalState, dispatch }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const { cards } = globalState.temporaryDialerSettings;\n    const { shortScoreType, cardsDeckType } = globalState.temporaryDialerSettings.gameSettings;\n    let visibleCards;\n    switch (cardsDeckType) {\n        case 'fibonacci':\n            visibleCards = fibonacciDeck;\n            break;\n        case 'powersOfTwo':\n            visibleCards = powersOfTwoDeck;\n            break;\n        case 'custom':\n            visibleCards = cards;\n            break;\n        default:\n            visibleCards = fibonacciDeck;\n    }\n    return (\n        <div className={styles.cards__cardField}>\n            {visibleCards.map(({ value, id }) => {\n                return (\n                    <GameCard\n                        value={value}\n                        scoreType={shortScoreType || ''}\n                        isEditable={cardsDeckType === 'custom'}\n                        key={id}\n                        isActiveCard={false}\n                        id={id}\n                    />\n                );\n            })}\n            {cardsDeckType === 'custom' && (\n                <div\n                    role=\"presentation\"\n                    onClick={() =>\n                        dispatch({ type: SET_POPUP, payLoad: 'createCard' as PopupType })\n                    }\n                >\n                    <Paper elevation={3} className={styles.card}>\n                        <AddCircleOutlineIcon className={styles.plus} />\n                    </Paper>\n                </div>\n            )}\n        </div>\n    );\n};\n","import React from 'react';\nimport { CardBack } from '../GameCards';\nimport styles from './CardField.module.scss';\nimport { cardsBackground } from '../../shared/data';\n\nexport const CardFieldSelectCover = (): JSX.Element => {\n    return (\n        <div className={styles.cards__cardField}>\n            {cardsBackground.map((el) => {\n                return <CardBack key={el.id} back={el.class} />;\n            })}\n        </div>\n    );\n};\n","import React, { useContext } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { UserCard } from '../UserCard';\nimport { User } from '../../types/user';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { SERVER_URL } from '../../api/url';\nimport styles from './ScrumMaster.module.scss';\n\nexport const ScrumMaster: () => JSX.Element = () => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const scrumMaster = globalState.game.users.find((user: User) => user.roleInGame === 'dealer');\n    if (!scrumMaster)\n        return (\n            <div className={styles.scrumMaster}>\n                <Typography>Scrum master:</Typography>\n                Loading...\n            </div>\n        );\n    const { initials, firstName, lastName, jobPosition, userID, roleInGame, imgSrc } = scrumMaster;\n    return (\n        <div className={styles.scrumMaster}>\n            <Typography>Scrum master:</Typography>\n            <UserCard\n                initials={initials}\n                name={`${firstName} ${lastName}`}\n                jobPosition={jobPosition || ''}\n                userID={userID}\n                currentUser={userID === globalState.currentUser.userID}\n                roleInGame={roleInGame}\n                size=\"large\"\n                imgSrc={SERVER_URL + imgSrc}\n            />\n        </div>\n    );\n};\n","import React, { useContext } from 'react';\nimport { Button, Grid, TextField } from '@material-ui/core';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport { GlobalContext } from '../../state/Context';\nimport { GlobalState } from '../../types/GlobalState';\nimport styles from './LinkToLobby.module.scss';\n\nexport const LinkToLobby: () => JSX.Element = () => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const currentURL = `${window.location.origin}/${globalState.game.gameID}`;\n\n    return (\n        <div className={styles.linkToLobby}>\n            <Grid container>\n                <Grid item xs={12}>\n                    <TextField\n                        id=\"outlined-read-only-input\"\n                        label=\"Link to lobby\"\n                        fullWidth\n                        defaultValue={currentURL}\n                        InputProps={{\n                            readOnly: true,\n                            endAdornment: (\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    onClick={() => {\n                                        navigator.clipboard.writeText(currentURL);\n                                    }}\n                                    endIcon={<FileCopyIcon />}\n                                >\n                                    Copy\n                                </Button>\n                            ),\n                        }}\n                    />\n                </Grid>\n            </Grid>\n        </div>\n    );\n};\n","import Button from '@material-ui/core/Button/Button';\nimport React, { Dispatch, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Action, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { fibonacciDeck, powersOfTwoDeck } from '../../shared/data';\nimport { Card } from '../../types/game';\nimport { User } from '../../types/user';\n\nexport const StartButton: () => JSX.Element = () => {\n    const { globalState }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n    const history = useHistory();\n    let visibleCards: Card[] = [];\n    switch (globalState.temporaryDialerSettings.gameSettings.cardsDeckType) {\n        case 'fibonacci':\n            visibleCards = fibonacciDeck;\n            break;\n        case 'powersOfTwo':\n            visibleCards = powersOfTwoDeck;\n            break;\n        case 'custom':\n            visibleCards = globalState.temporaryDialerSettings.cards;\n            break;\n        default:\n            visibleCards = fibonacciDeck;\n    }\n\n    const buttonHandler = async () => {\n        const sendGameProperty = globalState.ws.provider?.changeValueOfGameProperty.bind(\n            globalState.ws.provider,\n        );\n        if (!sendGameProperty) return;\n        await sendGameProperty('gameSettings', globalState.temporaryDialerSettings.gameSettings);\n        await sendGameProperty('cards', visibleCards);\n        await sendGameProperty('cartBackClass', globalState.temporaryDialerSettings.cartBackClass);\n        await sendGameProperty(\n            'selectedCards',\n            globalState.game.users.map((user: User) => {\n                return { card: undefined, user };\n            }),\n        );\n        await sendGameProperty('status', 'pending');\n        history.push(`/${globalState.game.gameID}/game`);\n    };\n\n    return (\n        <Button\n            disabled={!globalState.ws.status}\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={buttonHandler}\n        >\n            start game\n        </Button>\n    );\n};\n","import React, { useContext } from 'react';\nimport { UserCard } from '../UserCard';\nimport { GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { User } from '../../types/user';\nimport { SERVER_URL } from '../../api/url';\n\ninterface IMemberField {\n    classNames: string;\n}\n\nexport const MembersField: React.FC<IMemberField> = ({ classNames }) => {\n    const { globalState }: { globalState: GlobalState } = useContext(GlobalContext);\n    const users = globalState.game.users.filter((user: User) => user.roleInGame !== 'dealer');\n\n    return (\n        <div className={classNames}>\n            {users.map(\n                ({\n                    firstName,\n                    lastName,\n                    jobPosition,\n                    userID,\n                    imgSrc,\n                    initials,\n                    roleInGame,\n                }: User) => {\n                    return (\n                        <UserCard\n                            initials={initials}\n                            name={`${firstName} ${lastName}`}\n                            jobPosition={jobPosition || ''}\n                            userID={userID}\n                            currentUser={userID === globalState.currentUser.userID}\n                            key={userID}\n                            size=\"large\"\n                            roleInGame={roleInGame}\n                            imgSrc={SERVER_URL + imgSrc}\n                        />\n                    );\n                },\n            )}\n        </div>\n    );\n};\n","import axios from 'axios';\nimport { Game } from '../types/game';\nimport { SERVER_URL } from './url';\n\nexport async function connectGame(id: string): Promise<undefined | Game> {\n    if (!id) throw new Error('нет ID');\n    try {\n        const response = await axios.get(`${SERVER_URL}game/${id}`);\n        if (response.status === 200) return response.data;\n        return undefined;\n    } catch (e) {\n        return undefined;\n    }\n}\n\nexport const createGame = async (): Promise<undefined | Game> => {\n    try {\n        const response = await axios.post(`${SERVER_URL}game`);\n        if (response.status === 200) {\n            return response.data;\n        }\n        // eslint-disable-next-line no-console\n        console.log('ошибка сoздания игры на сервере ');\n        return undefined;\n    } catch (e) {\n        // eslint-disable-next-line no-console\n        console.log('ошибка соединения с сервером , ');\n        return undefined;\n    }\n};\n","import React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            width: 276,\n            height: 47,\n            '& > *': {\n                margin: theme.spacing(0),\n            },\n        },\n        input: {\n            display: 'none',\n        },\n    }),\n);\n\ninterface IUploadButton {\n    setImage: (value: React.SetStateAction<File | undefined>) => void;\n}\n\nconst UploadButton: React.FC<IUploadButton> = ({ setImage }) => {\n    const classes = useStyles();\n\n    const imageHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (e.target.files) {\n            setImage(e.target.files[0]);\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            <label htmlFor=\"contained-button-file\">\n                <input\n                    accept=\"image/*\"\n                    id=\"contained-button-file\"\n                    type=\"file\"\n                    className={classes.input}\n                    onChange={(e) => imageHandler(e)}\n                />\n                <Button variant=\"contained\" color=\"primary\" component=\"span\">\n                    Upload\n                </Button>\n            </label>\n        </div>\n    );\n};\n\nexport default UploadButton;\n","import axios from 'axios';\nimport { User } from '../types/user';\nimport { SERVER_URL } from './url';\n\nexport interface CreateUserInterface {\n    firstName: string;\n    lastName?: string;\n    jobPosition: string;\n    roleInGame?: 'dealer' | 'observer' | 'player';\n    avatar?: File | undefined;\n}\nexport async function createUser({\n    firstName,\n    lastName,\n    roleInGame,\n    jobPosition,\n    avatar,\n}: CreateUserInterface): Promise<User | undefined> {\n    const formData = new FormData();\n    formData.append('userConfig', JSON.stringify({ firstName, lastName, jobPosition, roleInGame }));\n    if (avatar) formData.append('avatar', avatar);\n    try {\n        const response = await axios({\n            method: 'post',\n            url: `${SERVER_URL}player/`,\n            data: formData,\n            headers: { 'Content-Type': 'multipart/form-data' },\n        });\n        return response.data as User;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n        // eslint-disable-next-line no-console\n        console.log(error.response.data);\n        return undefined;\n    }\n}\n","import React from 'react';\nimport { FormControlLabel, FormGroup, Switch as MaterialSwitch } from '@material-ui/core';\n\ntype Props = {\n    label: string;\n    setObserver: React.Dispatch<React.SetStateAction<boolean>>;\n    isObserver: boolean;\n};\n\nexport const NewSwitch: React.FC<Props> = (props: Props) => {\n    const { label, setObserver, isObserver } = props;\n    return (\n        <FormGroup>\n            <FormControlLabel\n                control={<MaterialSwitch color=\"primary\" size=\"medium\" checked={isObserver} />}\n                label={label}\n                onClick={() => setObserver(!isObserver)}\n                labelPlacement=\"start\"\n            />\n        </FormGroup>\n    );\n};\n","import { Avatar, Button, InputLabel, TextField, Grid } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport React, { Dispatch, useContext, useState } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport UploadButton from '../UploadButton';\nimport { CreateUserInterface, createUser } from '../../api/CreateUser';\nimport { NewSwitch } from '../NewSwitch';\nimport { Action, CurrentUser, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\nimport { SET_CURRENT_USER } from '../../state/ActionTypesConstants';\n\nimport styles from './RegistrationForm.module.scss';\n\ninterface IRegistrationForm {\n    setOpen: (value: React.SetStateAction<boolean>) => void;\n    isDealer: boolean;\n}\n\nexport const RegistrationForm: React.FC<IRegistrationForm> = ({ setOpen, isDealer }) => {\n    const [firstName, setFirstName] = useState('');\n    const [lastName, setLastName] = useState('');\n    const [job, setJob] = useState('');\n    const [isObserver, setIsObserver] = useState(false);\n    const [avatar, setAvatar] = useState<File>();\n    const history = useHistory();\n    const [isConnecting, setIsConnecting] = useState(false);\n    const { dispatch, globalState }: { dispatch: Dispatch<Action>; globalState: GlobalState } =\n        useContext(GlobalContext);\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        let jobPosition: 'dealer' | 'observer' | 'player';\n        switch (true) {\n            case isDealer:\n                jobPosition = 'dealer';\n                break;\n            case isObserver:\n                jobPosition = 'observer';\n                break;\n            default:\n                jobPosition = 'player';\n        }\n        if (firstName.trim() !== '') {\n            const data: CreateUserInterface = {\n                firstName,\n                lastName,\n                jobPosition: job,\n                roleInGame: jobPosition,\n                avatar,\n            };\n            setIsConnecting(true);\n            const currentUser: CurrentUser | undefined = await createUser(data);\n            setIsConnecting(false);\n            if (!currentUser?.userID) return;\n            dispatch({ type: SET_CURRENT_USER, payLoad: currentUser });\n            history.push(`/${globalState.game.gameID}/lobby`);\n        }\n    };\n    const inputData = [\n        {\n            label: 'Your first name:',\n            required: true,\n            value: firstName,\n            onChange: setFirstName,\n            name: 'firstName',\n        },\n        {\n            label: 'Your last name:',\n            required: false,\n            value: lastName,\n            onChange: setLastName,\n            name: 'lastName',\n        },\n        {\n            label: 'Your job position:',\n            required: false,\n            value: job,\n            onChange: setJob,\n            name: 'job',\n        },\n    ];\n\n    return (\n        <form onSubmit={handleSubmit} className={styles.modal}>\n            <div className={styles.registration}>\n                <div className={styles.top}>\n                    <h2>Connect to lobby</h2>\n                    {!isDealer && (\n                        <div className={styles.SwitchContainer}>\n                            <NewSwitch\n                                label=\"Connect as Observer\"\n                                setObserver={setIsObserver}\n                                isObserver={isObserver}\n                            />\n                        </div>\n                    )}\n                </div>\n                <Grid container className={styles.inputs} spacing={3}>\n                    {inputData.map(({ label, required, value, onChange, name }) => {\n                        return (\n                            <Grid item key={name}>\n                                <InputLabel htmlFor={name}>\n                                    {label}\n                                    <TextField\n                                        required={required}\n                                        value={value}\n                                        onChange={(e) => onChange(e.target.value)}\n                                        id=\"filled-error-helper-text\"\n                                        type=\"text\"\n                                        name={name}\n                                        variant=\"outlined\"\n                                        inputProps={{\n                                            maxLength: 10,\n                                        }}\n                                    />\n                                </InputLabel>\n                            </Grid>\n                        );\n                    })}\n\n                    <Grid item className={styles.upload}>\n                        <p>Image:</p>\n                        <div className={styles.upload__buttons}>\n                            <UploadButton setImage={setAvatar} />\n                        </div>\n                        <Avatar src={avatar ? URL.createObjectURL(avatar) : '/broken-image.jpg'}>\n                            {firstName && lastName ? `${firstName[0]}${lastName[0]}` : null}\n                        </Avatar>\n                    </Grid>\n                </Grid>\n            </div>\n            <div className={styles.buttons}>\n                <Button\n                    disabled={isConnecting}\n                    color=\"primary\"\n                    className={styles.btn}\n                    type=\"submit\"\n                    variant=\"contained\"\n                >\n                    {isConnecting ? <CircularProgress /> : 'Confirm'}\n                </Button>\n                <Button\n                    color=\"primary\"\n                    className={styles.btn}\n                    variant=\"outlined\"\n                    onClick={() => setOpen(false)}\n                >\n                    Cancel\n                </Button>\n            </div>\n        </form>\n    );\n};\n","import { TextField } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Modal from '@material-ui/core/Modal';\nimport React, { Dispatch, useCallback, useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connectGame } from '../../api/server';\nimport { Game } from '../../types/game';\nimport { RegistrationForm } from '../RegistrationForm';\nimport { INIT_GAME } from '../../state/ActionTypesConstants';\nimport { Action } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\n\nimport styles from './ConnectForm.module.scss';\n\ninterface IConnectForm {\n    open: boolean;\n    setOpen: (value: React.SetStateAction<boolean>) => void;\n    setIsDealer: (value: React.SetStateAction<boolean>) => void;\n    isDealer: boolean;\n    id: string | undefined;\n}\n\nexport const ConnectForm: React.FC<IConnectForm> = ({\n    open,\n    setOpen,\n    setIsDealer,\n    isDealer,\n    id,\n}) => {\n    const [url, setUrl] = useState('');\n    const [urlError, setUrlError] = useState(false);\n    const [isConnecting, setIsConnecting] = useState(false);\n    const { dispatch }: { dispatch: Dispatch<Action> } = useContext(GlobalContext);\n    const history = useHistory();\n    const gameId = url.substring(url.lastIndexOf('/') + 1);\n\n    const connect = useCallback(async () => {\n        if (!id) return;\n        setIsConnecting(true);\n        const game: Game | undefined = await connectGame(id);\n        setIsConnecting(false);\n        if (game) {\n            dispatch({ type: INIT_GAME, payLoad: game });\n            setOpen(true);\n            setIsDealer(false);\n        } else {\n            setUrlError(true);\n            setTimeout(() => {\n                setUrlError(false);\n            }, 2000);\n        }\n    }, [dispatch, setIsDealer, setOpen, id]);\n\n    const handleConnect = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        history.push(gameId);\n    };\n\n    useEffect(() => {\n        if (id) connect();\n    }, [id, connect]);\n\n    return (\n        <form onSubmit={handleConnect} className={styles.connect}>\n            <p>\n                Connect to lobby by <span className={styles.highlight}>URL</span>:\n            </p>\n            <div className={styles.connect__control}>\n                <TextField\n                    error={urlError}\n                    required\n                    id=\"filled-error-helper-text\"\n                    value={url}\n                    onChange={(e) => setUrl(e.target.value)}\n                    type=\"text\"\n                    helperText={urlError ? 'invalid URL' : ''}\n                    variant=\"outlined\"\n                />\n                <Button\n                    className={styles.btn}\n                    color=\"primary\"\n                    variant=\"contained\"\n                    type=\"submit\"\n                    disabled={isConnecting}\n                >\n                    {isConnecting ? <CircularProgress /> : 'Connect'}\n                </Button>\n\n                <Modal\n                    open={open}\n                    onClose={() => setOpen(false)}\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                >\n                    <div>\n                        <RegistrationForm isDealer={isDealer} setOpen={setOpen} />\n                    </div>\n                </Modal>\n            </div>\n        </form>\n    );\n};\n","import { Button } from '@material-ui/core';\nimport React, { Dispatch, useContext, useState } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { createGame } from '../../api/server';\nimport { GlobalContext } from '../../state/Context';\nimport { Game } from '../../types/game';\nimport { Action } from '../../types/GlobalState';\nimport { INIT_GAME } from '../../state/ActionTypesConstants';\n\nimport styles from './NewSession.module.scss';\n\ninterface NewSessionProps {\n    setOpen: (value: React.SetStateAction<boolean>) => void;\n    setIsDealer: (value: React.SetStateAction<boolean>) => void;\n}\n\nexport const NewSession: React.FC<NewSessionProps> = ({ setOpen, setIsDealer }) => {\n    const { dispatch }: { dispatch: Dispatch<Action> } = useContext(GlobalContext);\n    const [isConnecting, setIsConnecting] = useState(false);\n    const startGame = async () => {\n        setIsConnecting(true);\n        const game: Game | undefined = await createGame();\n        setIsConnecting(false);\n        if (!game) return;\n        dispatch({ type: INIT_GAME, payLoad: game });\n        setOpen(true);\n        setIsDealer(true);\n    };\n\n    return (\n        <div className={styles.new_session}>\n            <p>Create session:</p>\n            <Button color=\"primary\" variant=\"contained\" onClick={startGame} disabled={isConnecting}>\n                {isConnecting ? <CircularProgress /> : 'Start new game'}\n            </Button>\n        </div>\n    );\n};\n","import Button from '@material-ui/core/Button/Button';\nimport React, { Dispatch, useContext } from 'react';\nimport styles from './VoteForm.module.scss';\nimport { Action, GlobalState } from '../../types/GlobalState';\nimport { GlobalContext } from '../../state/Context';\n\nexport const VoteForm: React.FC = () => {\n    const { globalState }: { globalState: GlobalState; dispatch: Dispatch<Action> } =\n        useContext(GlobalContext);\n\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>): Promise<void> => {\n        e.preventDefault();\n        globalState.ws.provider?.sendVote(true);\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className={styles.modal}>\n            <div className={styles.registration}>\n                <div className={styles.top}>\n                    <h2>Vote</h2>\n                </div>\n            </div>\n            <h4>\n                {`user ${globalState.game.vote?.author.firstName}\n             prompts to kick out  ${\n                 globalState.game.users.find(\n                     (user) => user.userID === globalState.game.vote?.kickID,\n                 )?.firstName\n             }`}\n            </h4>\n            <div className={styles.buttons}>\n                <Button color=\"primary\" className={styles.btn} type=\"submit\" variant=\"contained\">\n                    Kick user\n                </Button>\n                <Button\n                    color=\"primary\"\n                    className={styles.btn}\n                    variant=\"outlined\"\n                    onClick={() => globalState.ws.provider?.sendVote(false)}\n                >\n                    Don &#39; t kick\n                </Button>\n            </div>\n        </form>\n    );\n};\n","import { WSMessageEvent } from '../types/WSMessageBody';\n\nexport const USER_CONNECTION: WSMessageEvent = 'userConnection';\nexport const CHAT_MESSAGE = 'chatMessage';\nexport const SET_GAME_STATE = 'setGameState';\nexport const INIT_MESSAGE = 'initMessage';\nexport const ERROR = 'error';\nexport const VOTE = 'vote';\nexport const CHOOSE_CARD = 'chooseCard';\n","import { ChatMessage } from '../types/ChatMessage';\nimport { Action, GlobalState } from '../types/GlobalState';\nimport {\n    ADD_CHAT_MESSAGE,\n    ADD_WS_PROVIDER_TO_GLOBAL_STATE,\n    INIT_GAME,\n    SET_CURRENT_USER,\n    SET_GAME,\n    SET_GAME_SETTINGS,\n    SET_GAME_TEMP_SETTINGS,\n    SET_POPUP,\n    SET_SOCKET,\n    SET_SOCKET_STATUS,\n    SHOW_CHAT,\n} from './ActionTypesConstants';\nimport { USER_CONNECTION } from '../api/Constants';\nimport { Card, GameSettingsInterface } from '../types/game';\n\nexport function reducer(globalState: GlobalState, action: Action): GlobalState {\n    const { users, chatMessages } = globalState.game;\n    switch (action.type) {\n        case ADD_CHAT_MESSAGE: {\n            const chatMessage = action.payLoad;\n            const messages: Array<ChatMessage> = chatMessages;\n            if (messages.filter((message) => message.id !== chatMessage.id).length < 0)\n                return globalState;\n            return {\n                ...globalState,\n                game: {\n                    ...globalState.game,\n                    chatMessages: [...chatMessages, chatMessage],\n                },\n            };\n        }\n        case SET_SOCKET: {\n            const socket = action.payLoad;\n            return { ...globalState, ws: { ...globalState.ws, socket } };\n        }\n        case SET_SOCKET_STATUS: {\n            const socketStatus = action.payLoad;\n            return { ...globalState, ws: { ...globalState.ws, status: socketStatus } };\n        }\n        case ADD_WS_PROVIDER_TO_GLOBAL_STATE: {\n            const provider = action.payLoad;\n            return { ...globalState, ws: { ...globalState.ws, provider } };\n        }\n        case INIT_GAME: {\n            const game = action.payLoad;\n\n            return { ...globalState, game: { ...globalState.game, ...game } };\n        }\n\n        case SET_GAME: {\n            const game = action.payLoad;\n            return { ...globalState, game: { ...globalState.game, ...game } };\n        }\n        case SET_CURRENT_USER: {\n            const currentUser = action.payLoad;\n            return { ...globalState, currentUser };\n        }\n        case USER_CONNECTION: {\n            const newUser = action.payLoad;\n            if (\n                globalState.game.status === 'new' &&\n                globalState.game.users.every((user) => user.userID !== newUser.userID)\n            ) {\n                return {\n                    ...globalState,\n                    game: { ...globalState.game, users: [...users, newUser] },\n                };\n            }\n            return { ...globalState };\n        }\n        case SET_POPUP: {\n            const popup = action.payLoad;\n            return { ...globalState, popup };\n        }\n        case SET_GAME_SETTINGS: {\n            const gameSettings = action.payLoad;\n            return { ...globalState, game: { ...globalState.game, gameSettings } };\n        }\n        case SHOW_CHAT: {\n            const chatOpen = !globalState.chatOpen;\n            return { ...globalState, chatOpen };\n        }\n        case SET_GAME_TEMP_SETTINGS: {\n            switch (action.payLoad.property) {\n                case 'gameSettings': {\n                    const gameSettings: GameSettingsInterface = action.payLoad\n                        .value as GameSettingsInterface;\n                    return {\n                        ...globalState,\n                        temporaryDialerSettings: {\n                            ...globalState.temporaryDialerSettings,\n                            gameSettings,\n                        },\n                    };\n                }\n\n                case 'cards': {\n                    const cards: Array<Card> = action.payLoad.value as Array<Card>;\n                    return {\n                        ...globalState,\n                        temporaryDialerSettings: {\n                            ...globalState.temporaryDialerSettings,\n                            cards,\n                        },\n                    };\n                }\n                case 'cartBackClass': {\n                    const cartBackClass: string = action.payLoad.value as string;\n                    return {\n                        ...globalState,\n                        temporaryDialerSettings: {\n                            ...globalState.temporaryDialerSettings,\n                            cartBackClass,\n                        },\n                    };\n                }\n                default:\n                    return { ...globalState };\n            }\n        }\n\n        default:\n            throw new Error('unknown action');\n    }\n}\n","import { ADD_CHAT_MESSAGE, SET_GAME } from '../state/ActionTypesConstants';\nimport { CHAT_MESSAGE, INIT_MESSAGE, SET_GAME_STATE, USER_CONNECTION } from './Constants';\nimport { WSMessageBody } from '../types/WSMessageBody';\nimport { Action } from '../types/GlobalState';\n\nexport function WSMessageHandler(message: WSMessageBody, dispatch: (arg: Action) => unknown): void {\n    switch (message.event) {\n        case INIT_MESSAGE: {\n            if (!message.game) return;\n            dispatch({ type: SET_GAME, payLoad: message.game });\n            break;\n        }\n        case USER_CONNECTION: {\n            if (!message.user) return;\n            dispatch({ type: USER_CONNECTION as 'userConnection', payLoad: message.user });\n            break;\n        }\n\n        case CHAT_MESSAGE:\n            if (!message.chatMessage) return;\n            dispatch({\n                type: ADD_CHAT_MESSAGE,\n                payLoad: message.chatMessage,\n            });\n            break;\n        case SET_GAME_STATE:\n            if (!message.game) return;\n            dispatch({\n                type: SET_GAME,\n                payLoad: { ...message.game, [`${message.gameProperty}`]: message.value },\n            });\n            break;\n        default:\n            break;\n    }\n}\n","import { Dispatch } from 'react';\nimport { WSMessageBody } from '../types/WSMessageBody';\nimport { SERVER_URL } from './url';\nimport { WSMessageHandler } from './WSMessageHandler';\nimport { Action, CurrentUser, GlobalState, WSProviderInterface } from '../types/GlobalState';\nimport { Card, Game } from '../types/game';\nimport { CHAT_MESSAGE, CHOOSE_CARD, SET_GAME_STATE, USER_CONNECTION, VOTE } from './Constants';\nimport { SET_SOCKET, SET_SOCKET_STATUS } from '../state/ActionTypesConstants';\nimport { ChatMessage } from '../types/ChatMessage';\n\nexport class WSProvider implements WSProviderInterface {\n    globalDispatch: Dispatch<Action>;\n\n    currentUser: CurrentUser | undefined;\n\n    game: Game | undefined;\n\n    socket: WebSocket | undefined;\n\n    constructor(globalDispatch: Dispatch<Action>) {\n        this.currentUser = undefined;\n        this.game = undefined;\n        this.globalDispatch = globalDispatch;\n    }\n\n    async connects(): Promise<void> {\n        const url = `ws://${SERVER_URL.split('://')[1]}ws`;\n        try {\n            if (!this.game?.gameID) throw new Error('нет gameID');\n            this.socket = new WebSocket(url);\n            this.socket.onopen = async () => {\n                if (!this.game?.gameID || !this.currentUser) return;\n                const connectionMessage: WSMessageBody = {\n                    user: this.currentUser,\n                    gameID: this.game.gameID,\n                    event: USER_CONNECTION,\n                };\n                this.globalDispatch({ type: SET_SOCKET_STATUS, payLoad: true });\n                if (!this.socket) throw new Error();\n                await this.socket?.send(JSON.stringify(connectionMessage));\n            };\n        } catch {\n            // eslint-disable-next-line no-console\n            console.log('Ошибка соединения с сервером');\n        }\n        if (!this.socket) return;\n\n        this.globalDispatch({ type: SET_SOCKET, payLoad: this.socket });\n\n        this.socket.onclose = () => {\n            this.globalDispatch({ type: SET_SOCKET_STATUS, payLoad: false });\n            setTimeout(() => {\n                this.connects();\n            }, 5000);\n        };\n        this.socket.onmessage = (event) => {\n            if (!this.currentUser) return;\n            let message: WSMessageBody = {\n                user: this.currentUser,\n                gameID: '',\n                event: 'userConnection',\n            };\n            try {\n                message = JSON.parse(event.data);\n            } catch (e) {\n                // eslint-disable-next-line no-console\n                console.log(event.data, '  ', e);\n            }\n            WSMessageHandler(message, this.globalDispatch);\n        };\n    }\n\n    async send(messObj: WSMessageBody): Promise<void> {\n        if (!this.socket) return;\n        try {\n            await this.socket.send(JSON.stringify(messObj));\n        } catch (e) {\n            // eslint-disable-next-line no-console\n            console.log('Ошибка отправки', e);\n        }\n    }\n\n    async sendChatMessage(text: string): Promise<void> {\n        if (!this.game?.gameID || !this.currentUser) return;\n        const chatMessage: ChatMessage = {\n            user: this.currentUser,\n            text,\n            id: new Date().getTime().toString(36) + Math.random().toString(36).slice(2),\n            date: new Date(),\n        };\n        const message: WSMessageBody = {\n            gameID: this.game.gameID,\n            user: this.currentUser,\n            event: CHAT_MESSAGE,\n            chatMessage,\n        };\n        await this.send(message);\n    }\n\n    updateProviderState(globalState: GlobalState): void {\n        this.currentUser = globalState.currentUser;\n        this.game = globalState.game;\n    }\n\n    async changeValueOfGameProperty(gameProperty: string, value: any): Promise<void> {\n        if (!this.game?.gameID || !this.currentUser) return;\n        const keys = Object.keys(this.game);\n        try {\n            if (!keys.includes(gameProperty)) throw new Error('нет такого поля у объекта игры');\n            const message: WSMessageBody = {\n                gameID: this.game.gameID,\n                user: this.currentUser,\n                event: SET_GAME_STATE,\n                gameProperty,\n                value,\n            };\n            await this.send(message);\n        } catch (e) {\n            // eslint-disable-next-line no-console\n            console.log('Ошибка отправки', e);\n        }\n    }\n\n    async sendVote(vote: boolean): Promise<void> {\n        if (!this.game?.gameID || !this.currentUser) return;\n\n        try {\n            if (!this.game.vote) throw new Error('нет голосования');\n            const message: WSMessageBody = {\n                gameID: this.game.gameID,\n                user: this.currentUser,\n                event: VOTE,\n                vote,\n            };\n            await this.send(message);\n        } catch (e) {\n            // eslint-disable-next-line no-console\n            console.log('Ошибка отправки', e);\n        }\n    }\n\n    async sendChooseCard(card: Card) {\n        if (!this.game?.gameID || !this.currentUser) return;\n        if (this.game.round.status !== 'going') return;\n        try {\n            const message: WSMessageBody = {\n                gameID: this.game.gameID,\n                user: this.currentUser,\n                event: CHOOSE_CARD,\n                card,\n            };\n            await this.send(message);\n        } catch (e) {\n            // eslint-disable-next-line no-console\n            console.log('Ошибка отправки', e);\n        }\n    }\n}\n","import React, { Dispatch, useEffect, useReducer } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { createTheme, MuiThemeProvider } from '@material-ui/core';\nimport { Footer, Header, Invitation, Chat } from './components';\nimport { GlobalContext } from './state/Context';\nimport { initState } from './state/InitState';\nimport { reducer } from './state/reducer';\nimport { Action, GlobalState } from './types/GlobalState';\nimport { MainPage } from './pages/MainPage';\nimport { WSProvider } from './api/WSProvider';\nimport { ADD_WS_PROVIDER_TO_GLOBAL_STATE } from './state/ActionTypesConstants';\n\nimport styles from './style.module.scss';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            light: '#428e92',\n            main: '#006064',\n            dark: '#00363a',\n        },\n        secondary: {\n            light: '#dbffff',\n            main: '#a7ffeb',\n            dark: '#75ccb9',\n        },\n    },\n});\n\nexport const App: React.FC = () => {\n    const [globalState, dispatch]: [GlobalState, Dispatch<Action>] = useReducer(reducer, initState);\n    useEffect(() => {\n        const provider = new WSProvider(dispatch);\n        dispatch({ type: ADD_WS_PROVIDER_TO_GLOBAL_STATE, payLoad: provider });\n    }, [dispatch]);\n\n    return (\n        <>\n            <GlobalContext.Provider value={{ dispatch, globalState }}>\n                <MuiThemeProvider theme={theme}>\n                    <Header />\n                    <main className={styles.content}>\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <MainPage />\n                            </Route>\n                            <Route path=\"/:id\">\n                                <Invitation />\n                            </Route>\n                        </Switch>\n                        {globalState.chatOpen && <Chat />}\n                    </main>\n                    <Footer />\n                </MuiThemeProvider>\n            </GlobalContext.Provider>\n        </>\n    );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { App } from './App';\nimport './index.scss';\n\nReactDOM.render(\n    <Router>\n        <App />\n    </Router>,\n    document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"CardAddForm_modal__j8xqS\",\"buttons\":\"CardAddForm_buttons__2PENk\",\"top\":\"CardAddForm_top__3Uv9K\",\"registration\":\"CardAddForm_registration__1-k0E\",\"inputs\":\"CardAddForm_inputs__18mN6\",\"btn\":\"CardAddForm_btn__1yoE5\",\"upload\":\"CardAddForm_upload__3H6-v\",\"upload__buttons\":\"CardAddForm_upload__buttons__U4OwQ\",\"SwitchContainer\":\"CardAddForm_SwitchContainer__1PDrS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lobby\":\"Lobby_lobby__2bLYe\",\"container\":\"Lobby_container__2k9q6\",\"top\":\"Lobby_top__2ur87\",\"top__buttons\":\"Lobby_top__buttons__2nHcw\",\"exitField\":\"Lobby_exitField__x7ZDV\",\"exitBtn\":\"Lobby_exitBtn__3zf2S\",\"members\":\"Lobby_members__3vlCH\",\"issues\":\"Lobby_issues__3nEax\",\"cards\":\"Lobby_cards__knFUE\",\"members__cardField\":\"Lobby_members__cardField__3VvIE\",\"issues__cardField\":\"Lobby_issues__cardField__18j9b\",\"cards__cardField\":\"Lobby_cards__cardField__3ZzAb\",\"settings\":\"Lobby_settings__33C6K\",\"modal\":\"Lobby_modal__1EVEB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"RegistrationForm_modal__5vwnf\",\"buttons\":\"RegistrationForm_buttons__2Nts6\",\"top\":\"RegistrationForm_top___78t5\",\"registration\":\"RegistrationForm_registration__2Hf6M\",\"inputs\":\"RegistrationForm_inputs__2jiGm\",\"btn\":\"RegistrationForm_btn__3QMnn\",\"upload\":\"RegistrationForm_upload__X-TyM\",\"upload__buttons\":\"RegistrationForm_upload__buttons__1Qq74\",\"SwitchContainer\":\"RegistrationForm_SwitchContainer__2vphp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coffee\":\"statistic_coffee__2d4a6\",\"demo\":\"statistic_demo__1mV5Q\",\"card\":\"statistic_card__1ullL\",\"container\":\"statistic_container__17UMu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"IssueCreateForm_modal__1dNBH\",\"buttons\":\"IssueCreateForm_buttons__2HOAB\",\"top\":\"IssueCreateForm_top__3nEZp\",\"registration\":\"IssueCreateForm_registration__3GNGN\",\"inputs\":\"IssueCreateForm_inputs__1OPSm\",\"btn\":\"IssueCreateForm_btn__3Om2W\",\"upload\":\"IssueCreateForm_upload__pzA7d\",\"upload__buttons\":\"IssueCreateForm_upload__buttons__1gMV_\",\"SwitchContainer\":\"IssueCreateForm_SwitchContainer__2P-mM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"chat_chat__36ypd\",\"chat__messages_container\":\"chat_chat__messages_container__1j2lh\",\"chat__message\":\"chat_chat__message__1wujI\",\"chat__text\":\"chat_chat__text__FCUcy\",\"chat__input\":\"chat_chat__input__o8P4O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__3SL1J\",\"footerContainer\":\"footer_footerContainer__4gvlQ\",\"github\":\"footer_github__3KL6t\",\"rss\":\"footer_rss__2ujsD\",\"rssYear\":\"footer_rssYear__2SRaV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings__wrap\":\"GameSettings_settings__wrap__38xAs\",\"label\":\"GameSettings_label__1lt8c\",\"timer\":\"GameSettings_timer__pMgRH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"LetInUserToGameForm_modal__1JVpE\",\"buttons\":\"LetInUserToGameForm_buttons__2a5cg\",\"top\":\"LetInUserToGameForm_top__1QR2r\",\"registration\":\"LetInUserToGameForm_registration__2V7lK\",\"inputs\":\"LetInUserToGameForm_inputs__1Rm1D\",\"btn\":\"LetInUserToGameForm_btn__3Yq-y\",\"upload\":\"LetInUserToGameForm_upload__ylziJ\",\"upload__buttons\":\"LetInUserToGameForm_upload__buttons__E-W_6\",\"SwitchContainer\":\"LetInUserToGameForm_SwitchContainer__MKnsu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_page\":\"MainPage_main_page__1xKJJ\",\"container\":\"MainPage_container__2WZXv\",\"poker_planning\":\"MainPage_poker_planning__1MSjm\",\"content\":\"MainPage_content__1kGUD\",\"center\":\"MainPage_center__3rYJm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"VoteForm_modal__2Jv0g\",\"buttons\":\"VoteForm_buttons__10uHo\",\"top\":\"VoteForm_top__26NBR\",\"registration\":\"VoteForm_registration__39pVS\",\"inputs\":\"VoteForm_inputs__35TVd\",\"btn\":\"VoteForm_btn__3oco7\",\"upload\":\"VoteForm_upload__g5Bb9\",\"upload__buttons\":\"VoteForm_upload__buttons__1kkdZ\",\"SwitchContainer\":\"VoteForm_SwitchContainer__1uuc_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"plus\":\"CardField_plus__agXTj\",\"cards\":\"CardField_cards__24wJW\",\"cards__cardField\":\"CardField_cards__cardField__Wvmd4\",\"card\":\"CardField_card__3Z8F5\",\"container\":\"CardField_container__1yOJB\",\"header\":\"CardField_header__3rJna\",\"menuBtn\":\"CardField_menuBtn__2QxcS\",\"right\":\"CardField_right__2_Vk_\",\"center\":\"CardField_center__2F0xv\"};"],"sourceRoot":""}